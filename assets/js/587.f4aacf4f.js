(self.webpackChunkchialisp_web=self.webpackChunkchialisp_web||[]).push([[587],{3905:function(t,e,n){"use strict";n.d(e,{Zo:function(){return c},kt:function(){return d}});var r=n(7294);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var f=r.createContext({}),u=function(t){var e=r.useContext(f),n=e;return t&&(n="function"==typeof t?t(e):s(s({},e),t)),n},c=function(t){var e=u(t.components);return r.createElement(f.Provider,{value:e},t.children)},l={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},h=r.forwardRef((function(t,e){var n=t.components,o=t.mdxType,i=t.originalType,f=t.parentName,c=a(t,["components","mdxType","originalType","parentName"]),h=u(n),d=o,p=h["".concat(f,".").concat(d)]||h[d]||l[d]||i;return n?r.createElement(p,s(s({ref:e},c),{},{components:n})):r.createElement(p,s({ref:e},c))}));function d(t,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var i=n.length,s=new Array(i);s[0]=h;var a={};for(var f in e)hasOwnProperty.call(e,f)&&(a[f]=e[f]);a.originalType=t,a.mdxType="string"==typeof t?t:o,s[1]=a;for(var u=2;u<i;u++)s[u]=n[u];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},6241:function(t,e,n){var r=n(1053);function o(t,e){return Object.keys(e).forEach((function(n){"default"===n||"__esModule"===n||t.hasOwnProperty(n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})),t}function i(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}function s(t){return t&&t.__esModule?t.default:t}var a={},f={};i(f,"Field",(()=>u));class u{}var c={};i(c,"FieldExt",(()=>l));class l extends u{constructor(t,e){super(),this.Q=t,this.elements=e,this.basefield=e[0]}constructWithRoot(t,e){return this.construct(t,e).withRoot(this.root)}withRoot(t){return this.root=t,this}fromBytes(t,e){const n=48*this.extension;if(e.length!==n)throw new RangeError(`Expected ${n} bytes.`);const r=this.extension/this.elements.length*48,o=[];for(let i=0;i<this.elements.length;i++)o.push(e.slice(i*r,(i+1)*r));return new this.constructor(t,...o.reverse().map((e=>this.basefield.fromBytes(t,e))))}fromHex(t,e){return this.fromBytes(t,Wt(e))}fromFq(t,e){const n=this.basefield.fromFq(t,e),r=this.basefield.zero(t),o=[];for(let s=0;s<this.elements.length;s++)o.push(0===s?n:r);const i=this.construct(t,o);return this instanceof m?i.root=new d(t,-1n):this instanceof y?i.root=new m(t,d.nil.one(t),d.nil.one(t)):this instanceof b&&(i.root=new y(t,m.nil.zero(t),m.nil.one(t),m.nil.zero(t))),i}zero(t){return this.fromFq(t,new d(t,0n))}one(t){return this.fromFq(t,new d(t,1n))}clone(){return this.constructWithRoot(this.Q,this.elements.map((t=>t.clone())))}toBytes(){const t=[];for(let e=this.elements.length-1;e>=0;e--)t.push(...this.elements[e].toBytes());return Uint8Array.from(t)}toBool(){return-1===this.elements.findIndex((t=>!t.toBool()))}toHex(){return Yt(this.toBytes())}toString(){return`Fq${this.extension}(${this.elements.join(", ")})`}negate(){return this.constructWithRoot(this.Q,this.elements.map((t=>t.negate())))}qiPower(t){if(this.Q!=B)throw new gt("Invalid Q in qiPower.");return 0===(t=_e(t,this.extension))?this:this.constructWithRoot(this.Q,this.elements.map(((e,n)=>0===n?e.qiPower(t):e.qiPower(t).multiply(R(this.extension,t,n)))))}pow(t){xt(t>=0n);let e=this.one(this.Q).withRoot(this.root),n=this;for(;0n!=t;)1n&t&&(e=e.multiply(n)),n=n.multiply(n),t>>=1n;return e}addTo(t){let e;if(t instanceof l&&t instanceof this.constructor)e=t.elements;else{if("bigint"!=typeof t&&t.extension>this.extension)throw new gt("Operand must be higher than extension.");e=this.elements.map((()=>this.basefield.zero(this.Q))),e[0]=e[0].add(t)}return this.constructWithRoot(this.Q,this.elements.map(((t,n)=>t.add(e[n]))))}multiplyWith(t){if("bigint"==typeof t)return this.constructWithRoot(this.Q,this.elements.map((e=>e.multiply(t))));if(this.extension<t.extension)throw new gt("Extension must be lower than operand.");const e=this.elements.map((()=>this.basefield.zero(this.Q)));for(const[n,r]of this.elements.entries())if(t instanceof l&&t.extension===this.extension){for(const[o,i]of t.elements.entries())if(r.toBool()&&i.toBool()){const t=_e(n+o,this.elements.length);n+o>=this.elements.length?e[t]=e[t].add(r.multiply(i).multiply(this.root)):e[t]=e[t].add(r.multiply(i))}}else r.toBool()&&(e[n]=r.multiply(t));return this.constructWithRoot(this.Q,e)}subtract(t){return this.add("bigint"==typeof t?-t:t.negate())}divide(t){return this.multiply("bigint"==typeof t?~t:t.inverse())}equalTo(t){if(t instanceof l&&t instanceof this.constructor)return-1===this.elements.findIndex(((e,n)=>!e.equals(t.elements[n])))&&this.Q===t.Q;if("bigint"==typeof t||t instanceof l&&this.extension>t.extension){for(let t=1;t<this.elements.length;t++)if(!this.elements[t].equals(this.root.zero(this.Q)))return!1;return this.elements[0].equals(t)}throw new gt("Invalid operand.")}lt(t){for(let e=this.elements.length-1;e>=0;e--){const n=this.elements[e],r=t.elements[e];if(n.lt(r))return!0;if(n.gt(r))return!1}return!1}gt(t){for(let e=this.elements.length-1;e>=0;e--){const n=this.elements[e],r=t.elements[e];if(n.gt(r))return!0;if(n.lt(r))return!1}return!1}lteq(t){return this.lt(t)||this.equals(t)}gteq(t){return this.gt(t)||this.equals(t)}add(t){try{return this.addTo(t)}catch(e){if(!(e instanceof gt)||"bigint"==typeof t)throw e;return t.addTo(this)}}multiply(t){try{return this.multiplyWith(t)}catch(e){if(!(e instanceof gt)||"bigint"==typeof t)throw e;return t.multiplyWith(this)}}equals(t){try{return this.equalTo(t)}catch(e){if(!(e instanceof gt))throw e;return"bigint"!=typeof t&&t.equalTo(this)}}}var h={};i(h,"Fq",(()=>d));class d extends u{static nil=new d(1n,0n);constructor(t,e){super(),this.Q=t,this.extension=1,this.value=Le(e,t)}fromBytes(t,e){if(48!==e.length)throw new RangeError("Expected 48 bytes.");return new d(t,Rt(e,"big"))}fromHex(t,e){return d.nil.fromBytes(t,Wt(e))}fromFq(t,e){return e}zero(t){return new d(t,0n)}one(t){return new d(t,1n)}clone(){return new d(this.Q,this.value)}toBytes(){return Nt(this.value,48,"big")}toBool(){return!0}toHex(){return Yt(this.toBytes())}toString(){const t=this.value.toString(16);return`Fq(0x${t.length>10?`${t.slice(0,5)}..${t.slice(t.length-5)}`:t})`}negate(){return new d(this.Q,-this.value)}inverse(){let t=1n,e=0n,n=0n,r=1n,o=this.Q,i=this.value;for(;0n!=o;){const s=i/o,a=i;i=o,o=Le(a,o);const f=t;t=e,e=f-s*e;const u=n;n=r,r=u-s*r}return new d(this.Q,t)}qiPower(t){return this}pow(t){return 0n===t?new d(this.Q,1n):1n===t?new d(this.Q,this.value):0n===Le(t,2n)?new d(this.Q,this.value*this.value).pow(t/2n):new d(this.Q,this.value*this.value).pow(t/2n).multiply(this)}addTo(t){if("bigint"==typeof t)return new d(this.Q,this.value+t);if(t instanceof d)return new d(this.Q,this.value+t.value);throw new gt("Can only add with Fq or bigint values.")}multiplyWith(t){if("bigint"==typeof t)return new d(this.Q,this.value*t);if(t instanceof d)return new d(this.Q,this.value*t.value);throw new gt("Can only multiply with Fq or bigint values.")}subtract(t){return this.add("bigint"==typeof t?-t:t.negate())}divide(t){return this.multiply(("bigint"==typeof t?new d(this.Q,t):t).inverse())}equalTo(t){return t instanceof d&&this.value===t.value&&this.Q===t.Q}lt(t){return this.value<t.value}gt(t){return this.value>t.value}lteq(t){return this.lt(t)||this.equals(t)}gteq(t){return this.gt(t)||this.equals(t)}modSqrt(){if(0n===this.value)return new d(this.Q,0n);if(1n!=ke(this.value,(this.Q-1n)/2n,this.Q))throw new Error("No sqrt exists.");if(3n===Le(this.Q,4n))return new d(this.Q,ke(this.value,(this.Q+1n)/4n,this.Q));if(5n===Le(this.Q,8n))return new d(this.Q,ke(this.value,(this.Q+3n)/8n,this.Q));let t=0n,e=this.Q-1n;for(;0n===Le(e,2n);)e/=2n,t++;let n=0n;for(let a=0n;a<this.Q;a+=1n){if(ke(a,(this.Q-1n)/2n,this.Q)===Le(-1n,this.Q)){n=a;break}}let r=t,o=ke(n,e,this.Q),i=ke(this.value,e,this.Q),s=ke(this.value,(e+1n)/2n,this.Q);for(;;){if(0n===i)return new d(this.Q,0n);if(1n===i)return new d(this.Q,s);let t=0n,e=i;for(;1n!=e;)e=Le(e**2n,this.Q),t++;const n=ke(o,ke(2n,r-t-1n,this.Q),this.Q);r=t,o=Le(n**2n,this.Q),i=Le(i*o,this.Q),s=Le(s*n,this.Q)}}add(t){try{return this.addTo(t)}catch(e){if(!(e instanceof gt)||"bigint"==typeof t)throw e;return t.addTo(this)}}multiply(t){try{return this.multiplyWith(t)}catch(e){if(!(e instanceof gt)||"bigint"==typeof t)throw e;return t.multiplyWith(this)}}equals(t){try{return this.equalTo(t)}catch(e){if(!(e instanceof gt))throw e;return"bigint"!=typeof t&&t.equalTo(this)}}}var p={};i(p,"Fq2",(()=>m));class m extends l{static nil=new m(1n,d.nil,d.nil);extension=2;constructor(t,e,n){super(t,[e,n]),this.root=new d(t,-1n)}construct(t,e){return new m(t,e[0],e[1])}inverse(){const[t,e]=this.elements,n=t.multiply(t).add(e.multiply(e)).inverse();return new m(this.Q,t.multiply(n),e.negate().multiply(n))}mulByNonResidue(){const[t,e]=this.elements;return new m(this.Q,t.subtract(e),t.add(e))}modSqrt(){const[t,e]=this.elements;if(e.equals(this.basefield.one(this.Q)))return this.fromFq(this.Q,t.modSqrt());let n=t.pow(2n).add(e.pow(2n)),r=n.pow((this.Q-1n)/2n);if(new d(this.Q,-1n).equals(r))throw new Error("No sqrt exists.");n=n.modSqrt();let o=t.add(n).multiply(new d(this.Q,2n).inverse());r=o.pow((this.Q-1n)/2n),r.equals(new d(this.Q,-1n))&&(o=t.subtract(n).multiply(new d(this.Q,2n).inverse()));const i=o.modSqrt(),s=e.multiply(new d(this.Q,2n).multiply(i).inverse());return new m(this.Q,i,s)}}var w={};i(w,"Fq6",(()=>y));class y extends l{static nil=new y(1n,m.nil,m.nil,m.nil);extension=6;constructor(t,e,n,r){super(t,[e,n,r]),this.root=new m(t,d.nil.one(t),d.nil.one(t))}construct(t,e){return new y(t,e[0],e[1],e[2])}inverse(){const[t,e,n]=this.elements,r=t.multiply(t).subtract(e.multiply(n.mulByNonResidue())),o=n.multiply(n).mulByNonResidue().subtract(t.multiply(e)),i=e.multiply(e).subtract(t.multiply(n)),s=r.multiply(t).add(o.multiply(n).add(i.multiply(e)).mulByNonResidue()).inverse();return new y(this.Q,r.multiply(s),o.multiply(s),i.multiply(s))}mulByNonResidue(){const[t,e,n]=this.elements;return new y(this.Q,n.multiply(this.root),t,e)}}var g={};i(g,"Fq12",(()=>b));class b extends l{static nil=new b(1n,y.nil,y.nil);extension=12;constructor(t,e,n){super(t,[e,n]),this.root=new y(t,m.nil.zero(t),m.nil.one(t),m.nil.zero(t))}construct(t,e){return new b(t,e[0],e[1])}inverse(){const[t,e]=this.elements,n=t.multiply(t).subtract(e.multiply(e).mulByNonResidue()).inverse();return new b(this.Q,t.multiply(n),e.negate().multiply(n))}}var v={};i(v,"x",(()=>x)),i(v,"q",(()=>B)),i(v,"a",(()=>S)),i(v,"b",(()=>I)),i(v,"aTwist",(()=>A)),i(v,"bTwist",(()=>E)),i(v,"gx",(()=>q)),i(v,"gy",(()=>C)),i(v,"g2x",(()=>P)),i(v,"g2y",(()=>k)),i(v,"n",(()=>L)),i(v,"h",(()=>_)),i(v,"hEff",(()=>T)),i(v,"k",(()=>O)),i(v,"sqrtN3",(()=>U)),i(v,"sqrtN3m1o2",(()=>M)),i(v,"defaultEc",(()=>$)),i(v,"defaultEcTwist",(()=>z));const x=-0xd201000000010000n,B=0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn,S=new d(B,0n),I=new d(B,4n),A=new m(B,new d(B,0n),new d(B,0n)),E=new m(B,new d(B,4n),new d(B,4n)),q=new d(B,0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bbn),C=new d(B,0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1n),P=new m(B,new d(B,352701069587466618187139116011060144890029952792775240219908644239793785735715026873347600343865175952761926303160n),new d(B,3059144344244213709971259814753781636986470325476647558659373206291635324768958432433509563104347017837885763365758n)),k=new m(B,new d(B,1985150602287291935568054521177171638300868978215655730859378665066344726373823718423869104263333984641494340347905n),new d(B,927553665492332455747201965776037880757740193453592970025027978793976877002675564980949289727957565575433344219582n)),L=0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001n,_=0x396c8c005555e1568c00aaab0000aaabn,T=0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551n,O=12n,U=1586958781458431025242759403266842894121773480562120986020912974854563298150952611241517463240701n,M=793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n,$={q:B,a:S,b:I,gx:q,gy:C,g2x:P,g2y:k,n:L,h:_,x:x,k:O,sqrtN3:U,sqrtN3m1o2:M},z={q:B,a:A,b:E,gx:q,gy:C,g2x:P,g2y:k,n:L,h:T,x:x,k:O,sqrtN3:U,sqrtN3m1o2:M};var H={};i(H,"frobCoeffs",(()=>N)),i(H,"getFrobCoeff",(()=>R));const N={"2,1,1":new d(B,-1n),"6,1,1":new m(B,new d(B,0n),new d(B,0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn)),"6,1,2":new m(B,new d(B,0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaadn),new d(B,0n)),"6,2,1":new m(B,new d(B,0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen),new d(B,0n)),"6,2,2":new m(B,new d(B,0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn),new d(B,0n)),"6,3,1":new m(B,new d(B,0n),new d(B,1n)),"6,3,2":new m(B,new d(B,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaan),new d(B,0n)),"6,4,1":new m(B,new d(B,0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn),new d(B,0n)),"6,4,2":new m(B,new d(B,0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen),new d(B,0n)),"6,5,1":new m(B,new d(B,0n),new d(B,0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen)),"6,5,2":new m(B,new d(B,0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffeffffn),new d(B,0n)),"12,1,1":new y(B,new m(B,new d(B,0x1904d3bf02bb0667c231beb4202c0d1f0fd603fd3cbd5f4f7b2443d784bab9c4f67ea53d63e7813d8d0775ed92235fb8n),new d(B,0xfc3e2b36c4e03288e9e902231f9fb854a14787b6c7b36fec0c8ec971f63c5f282d5ac14d6c7ec22cf78a126ddc4af3n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,2,1":new y(B,new m(B,new d(B,0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffeffffn),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,3,1":new y(B,new m(B,new d(B,0x135203e60180a68ee2e9c448d77a2cd91c3dedd930b1cf60ef396489f61eb45e304466cf3e67fa0af1ee7b04121bdea2n),new d(B,0x6af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,4,1":new y(B,new m(B,new d(B,0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,5,1":new y(B,new m(B,new d(B,0x144e4211384586c16bd3ad4afa99cc9170df3560e77982d0db45f3536814f0bd5871c1908bd478cd1ee605167ff82995n),new d(B,0x5b2cfd9013a5fd8df47fa6b48b1e045f39816240c0b8fee8beadf4d8e9c0566c63a3e6e257f87329b18fae980078116n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,6,1":new y(B,new m(B,new d(B,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaan),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,7,1":new y(B,new m(B,new d(B,0xfc3e2b36c4e03288e9e902231f9fb854a14787b6c7b36fec0c8ec971f63c5f282d5ac14d6c7ec22cf78a126ddc4af3n),new d(B,0x1904d3bf02bb0667c231beb4202c0d1f0fd603fd3cbd5f4f7b2443d784bab9c4f67ea53d63e7813d8d0775ed92235fb8n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,8,1":new y(B,new m(B,new d(B,0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,9,1":new y(B,new m(B,new d(B,0x6af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09n),new d(B,0x135203e60180a68ee2e9c448d77a2cd91c3dedd930b1cf60ef396489f61eb45e304466cf3e67fa0af1ee7b04121bdea2n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,10,1":new y(B,new m(B,new d(B,0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaadn),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,11,1":new y(B,new m(B,new d(B,0x5b2cfd9013a5fd8df47fa6b48b1e045f39816240c0b8fee8beadf4d8e9c0566c63a3e6e257f87329b18fae980078116n),new d(B,0x144e4211384586c16bd3ad4afa99cc9170df3560e77982d0db45f3536814f0bd5871c1908bd478cd1ee605167ff82995n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n)))};function R(t,e,n){return N[`${t},${e},${n}`]}var K={};i(K,"sha256",(()=>j)),i(K,"sha512",(()=>F));const j={byteSize:32,blockSize:64,convert:t=>{const e=new(s(r))("SHA-256","UINT8ARRAY");return e.update(t),e.getHash("UINT8ARRAY")}},F={byteSize:64,blockSize:128,convert:t=>{const e=new(s(r))("SHA-512","UINT8ARRAY");return e.update(t),e.getHash("UINT8ARRAY")}};var Q={};i(Q,"xnum",(()=>D)),i(Q,"xden",(()=>G)),i(Q,"ynum",(()=>Y)),i(Q,"yden",(()=>W));const D=[new m(B,new d(B,0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6n),new d(B,0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6n)),new m(B,new d(B,0n),new d(B,0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71an)),new m(B,new d(B,0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71en),new d(B,0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38dn)),new m(B,new d(B,0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1n),new d(B,0n))],G=[new m(B,new d(B,0n),new d(B,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63n)),new m(B,new d(B,0xcn),new d(B,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9fn)),new m(B,new d(B,1n),new d(B,0n))],Y=[new m(B,new d(B,0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706n),new d(B,0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706n)),new m(B,new d(B,0n),new d(B,0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97ben)),new m(B,new d(B,0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71cn),new d(B,0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38fn)),new m(B,new d(B,0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10n),new d(B,0n))],W=[new m(B,new d(B,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fbn),new d(B,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fbn)),new m(B,new d(B,0n),new d(B,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3n)),new m(B,new d(B,0x12n),new d(B,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99n)),new m(B,new d(B,1n),new d(B,0n))];var J={};i(J,"xi_2",(()=>V)),i(J,"Ell2p_a",(()=>X)),i(J,"Ell2p_b",(()=>Z)),i(J,"ev1",(()=>tt)),i(J,"ev2",(()=>et)),i(J,"ev3",(()=>nt)),i(J,"ev4",(()=>rt)),i(J,"etas",(()=>ot));const V=new m(B,new d(B,-2n),new d(B,-1n)),X=new m(B,new d(B,0n),new d(B,240n)),Z=new m(B,new d(B,1012n),new d(B,1012n)),tt=0x699be3b8c6870965e5bf892ad5d2cc7b0e85a117402dfd83b7f4a947e02d978498255a2aaec0ac627b5afbdf1bf1c90n,et=0x8157cd83046453f5dd0972b6e3949e4288020b5b8a9cc99ca07e27089a2ce2436d965026adad3ef7baba37f2183e9b5n,nt=0xab1c2ffdd6c253ca155231eb3e71ba044fd562f6f72bc5bad5ec46a0b7a3b0247cf08ce6c6317f40edbc653a72dee17n,rt=0xaa404866706722864480885d68ad0ccac1967c7544b447873cc37e0181271e006df72162a3d3e0287bf597fbf7f8fc1n,ot=[new m(B,new d(B,tt),new d(B,et)),new m(B,new d(B,B-et),new d(B,tt)),new m(B,new d(B,nt),new d(B,rt)),new m(B,new d(B,B-rt),new d(B,nt))];var it={};i(it,"rv1",(()=>st)),i(it,"rootsOfUnity",(()=>at));const st=0x6af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09n,at=[new m(B,new d(B,1n),new d(B,0n)),new m(B,new d(B,0n),new d(B,1n)),new m(B,new d(B,st),new d(B,st)),new m(B,new d(B,st),new d(B,B-st))];var ft={};i(ft,"basicSchemeDst",(()=>ut)),i(ft,"augSchemeDst",(()=>ct)),i(ft,"popSchemeDst",(()=>lt)),i(ft,"popSchemePopDst",(()=>ht));const ut=(new TextEncoder).encode("BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_"),ct=(new TextEncoder).encode("BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_AUG_"),lt=(new TextEncoder).encode("BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_POP_"),ht=(new TextEncoder).encode("BLS_POP_BLS12381G2_XMD:SHA-256_SSWU_RO_POP_");var dt={};i(dt,"AffinePoint",(()=>pt));class pt{constructor(t,e,n,r=$){this.x=t,this.y=e,this.isInfinity=n,this.ec=r,xt(t instanceof e.constructor)}isOnCurve(){return this.isInfinity||this.y.multiply(this.y).equals(this.x.multiply(this.x).multiply(this.x).add(this.ec.a.multiply(this.x)).add(this.ec.b))}toJacobian(){return new wt(this.x,this.y,this.x.one(this.ec.q),this.isInfinity,this.ec)}twist(){const t=b.nil.one(this.ec.q),e=new b(this.ec.q,t.root,y.nil.zero(this.ec.q)),n=new b(this.ec.q,y.nil.zero(this.ec.q),t.root);return new pt(this.x.multiply(e),this.y.multiply(n),!1,this.ec)}untwist(){const t=b.nil.one(this.ec.q),e=new b(this.ec.q,t.root,y.nil.zero(this.ec.q)),n=new b(this.ec.q,y.nil.zero(this.ec.q),t.root);return new pt(this.x.divide(e),this.y.divide(n),!1,this.ec)}double(){const t=this.x.multiply(this.x).multiply(new d(this.ec.q,3n)).add(this.ec.a).divide(this.y.multiply(new d(this.ec.q,2n))),e=t.multiply(t).subtract(this.x).subtract(this.x),n=t.multiply(this.x.subtract(e)).subtract(this.y);return new pt(e,n,!1,this.ec)}add(t){if(xt(this.isOnCurve()),xt(t.isOnCurve()),this.isInfinity)return t;if(t.isInfinity)return this;if(this.equals(t))return this.double();const e=t.y.subtract(this.y).divide(t.x.subtract(this.x)),n=e.multiply(e).subtract(this.x).subtract(t.x),r=e.multiply(this.x.subtract(n)).subtract(this.y);return new pt(n,r,!1,this.ec)}subtract(t){return this.add(t.negate())}multiply(t){return Xt(t,this.toJacobian(),this.ec).toAffine()}negate(){return new pt(this.x,this.y.negate(),this.isInfinity,this.ec)}equals(t){return this.x.equals(t.x)&&this.y.equals(t.y)&&this.isInfinity===t.isInfinity}clone(){return new pt(this.x.clone(),this.y.clone(),this.isInfinity,this.ec)}toString(){return`AffinePoint(x=${this.x}, y=${this.y}, i=${this.isInfinity})`}}var mt={};i(mt,"JacobianPoint",(()=>wt));class wt{static fromBytes(t,e,n=$){const r=e?m:d;if(e){if(96!==t.length)throw new Error("Expected 96 bytes.")}else if(48!==t.length)throw new Error("Expected 48 bytes.");const o=224&t[0];if([32,96,224].includes(o))throw new Error("Invalid first three bits.");const i=0!=(64&o),s=0!=(32&o);if(!(0!=(128&o)))throw new Error("Compression bit must be 1.");if(t[0]&=31,i){for(const e of t)if(0!==e)throw new Error("Point at infinity, but found non-zero byte.");return new pt(r.nil.zero(n.q),r.nil.zero(n.q),!0,n).toJacobian()}const a=(e?m:d).nil.fromBytes(n.q,t),f=Vt(a,n),u=(e?ee(f,n):te(f,n))===s?f:f.negate();return new pt(a,u,!1,n).toJacobian()}static fromHex(t,e,n=$){return wt.fromBytes(Wt(t),e,n)}static generateG1(){return new pt($.gx,$.gy,!1,$).toJacobian()}static generateG2(){return new pt(z.g2x,z.g2y,!1,z).toJacobian()}static infinityG1(t=!1){const e=t?m:d;return new wt(e.nil.zero($.q),e.nil.zero($.q),e.nil.zero($.q),!0,$)}static infinityG2(t=!0){const e=t?m:d;return new wt(e.nil.zero(z.q),e.nil.zero(z.q),e.nil.zero(z.q),!0,z)}static fromBytesG1(t,e=!1){return wt.fromBytes(t,e,$)}static fromBytesG2(t,e=!0){return wt.fromBytes(t,e,z)}static fromHexG1(t,e=!1){return wt.fromBytesG1(Wt(t),e)}static fromHexG2(t,e=!0){return wt.fromBytesG2(Wt(t),e)}constructor(t,e,n,r,o=$){this.x=t,this.y=e,this.z=n,this.isInfinity=r,this.ec=o,xt(t instanceof e.constructor),xt(e instanceof n.constructor)}isOnCurve(){return this.isInfinity||this.toAffine().isOnCurve()}isValid(){return this.isOnCurve()&&this.multiply(this.ec.n).equals(this.x instanceof d?wt.infinityG1():wt.infinityG2())}getFingerprint(){return $t(Ee(this.toBytes()).slice(0,4),"big")}toAffine(){return this.isInfinity?new pt(this.x.zero(this.ec.q),this.y.zero(this.ec.q),!0,this.ec):new pt(this.x.divide(this.z.pow(2n)),this.y.divide(this.z.pow(3n)),!1,this.ec)}toBytes(){const t=this.toAffine(),e=t.x.toBytes();if(t.isInfinity){const t=[192];for(let n=0;n<e.length-1;n++)t.push(0);return Uint8Array.from(t)}const n=t.y instanceof m?ee(t.y,this.ec):te(t.y,this.ec);return e[0]|=n?160:128,e}toHex(){return Yt(this.toBytes())}toString(){return`JacobianPoint(x=${this.x}, y=${this.y}, z=${this.z}, i=${this.isInfinity})`}double(){if(this.isInfinity||this.y.equals(this.x.zero(this.ec.q)))return new wt(this.x.one(this.ec.q),this.x.one(this.ec.q),this.x.zero(this.ec.q),!0,this.ec);const t=this.x.multiply(this.y).multiply(this.y).multiply(new d(this.ec.q,4n)),e=this.z.multiply(this.z),n=e.multiply(e),r=this.y.multiply(this.y),o=r.multiply(r),i=this.x.multiply(this.x).multiply(new d(this.ec.q,3n)).add(this.ec.a.multiply(n)),s=i.multiply(i).subtract(t.multiply(new d(this.ec.q,2n))),a=i.multiply(t.subtract(s)).subtract(o.multiply(new d(this.ec.q,8n))),f=this.y.multiply(this.z).multiply(new d(this.ec.q,2n));return new wt(s,a,f,!1,this.ec)}negate(){return this.toAffine().negate().toJacobian()}add(t){if(this.isInfinity)return t;if(t.isInfinity)return this;const e=this.x.multiply(t.z.pow(2n)),n=t.x.multiply(this.z.pow(2n)),r=this.y.multiply(t.z.pow(3n)),o=t.y.multiply(this.z.pow(3n));if(e.equals(n))return r.equals(o)?this.double():new wt(this.x.one(this.ec.q),this.x.one(this.ec.q),this.x.zero(this.ec.q),!0,this.ec);const i=n.subtract(e),s=o.subtract(r),a=i.multiply(i),f=i.multiply(a),u=s.multiply(s).subtract(f).subtract(e.multiply(a).multiply(new d(this.ec.q,2n))),c=s.multiply(e.multiply(a).subtract(u)).subtract(r.multiply(f)),l=i.multiply(this.z).multiply(t.z);return new wt(u,c,l,!1,this.ec)}multiply(t){return Xt(t,this,this.ec)}equals(t){return this.toAffine().equals(t.toAffine())}clone(){return new wt(this.x.clone(),this.y.clone(),this.z.clone(),this.isInfinity,this.ec)}}var yt={};i(yt,"OperatorError",(()=>gt));class gt extends Error{constructor(t){super(t),Object.setPrototypeOf(this,gt.prototype)}}var bt={};i(bt,"AssertionError",(()=>vt)),i(bt,"assert",(()=>xt));class vt extends Error{constructor(t){super(t),Object.setPrototypeOf(this,vt.prototype)}}function xt(t,e="Assertion failed."){if(!t)throw new vt(e)}var Bt={};i(Bt,"PrivateKey",(()=>St));class St{static size=32;static fromBytes(t){return new St(Le(Rt(t,"big"),$.n))}static fromHex(t){return St.fromBytes(Wt(t))}static fromSeed(t){const e=Se(48,Uint8Array.from([...t,0]),(new TextEncoder).encode("BLS-SIG-KEYGEN-SALT-"),Uint8Array.from([0,48]));return new St(Le(Rt(e,"big"),$.n))}static fromBigInt(t){return new St(Le(t,$.n))}static aggregate(t){return new St(Le(t.reduce(((t,e)=>t+e.value),0n),$.n))}constructor(t){this.value=t,xt(t<$.n)}getG1(){return wt.generateG1().multiply(this.value)}toBytes(){return Nt(this.value,St.size,"big")}toHex(){return Yt(this.toBytes())}toString(){return`PrivateKey(0x${this.toHex()})`}equals(t){return this.value===t.value}}var It={};i(It,"AugSchemeMPL",(()=>At));class At{static keyGen(t){return he(t)}static sign(t,e){const n=t.getG1();return Ge(t,Uint8Array.from([...n.toBytes(),...e]),ct)}static verify(t,e,n){return Ye(t,Uint8Array.from([...t.toBytes(),...e]),n,ct)}static aggregate(t){return We(t)}static aggregateVerify(t,e,n){if(t.length!==e.length||!t.length)return!1;const r=[];for(let o=0;o<t.length;o++)r.push(Uint8Array.from([...t[o].toBytes(),...e[o]]));return Je(t,r,n,ct)}static deriveChildSk(t,e){return me(t,e)}static deriveChildSkUnhardened(t,e){return we(t,e)}static deriveChildPkUnhardened(t,e){return ye(t,e)}}var Et={};i(Et,"BasicSchemeMPL",(()=>qt));class qt{static keyGen(t){return he(t)}static sign(t,e){return Ge(t,e,ut)}static verify(t,e,n){return Ye(t,e,n,ut)}static aggregate(t){return We(t)}static aggregateVerify(t,e,n){if(t.length!==e.length||!t.length)return!1;for(const r of e)for(const t of e)if(r!==t&&Qt(r,t))return!1;return Je(t,e,n,ut)}static deriveChildSk(t,e){return me(t,e)}static deriveChildSkUnhardened(t,e){return we(t,e)}static deriveChildPkUnhardened(t,e){return ye(t,e)}}var Ct={};i(Ct,"PopSchemeMPL",(()=>Pt));class Pt{static keyGen(t){return he(t)}static sign(t,e){return Ge(t,e,lt)}static verify(t,e,n){return Ye(t,e,n,lt)}static aggregate(t){return We(t)}static aggregateVerify(t,e,n){if(t.length!==e.length||!t.length)return!1;for(const r of e)for(const t of e)if(r!==t&&Qt(r,t))return!1;return Je(t,e,n,lt)}static popProve(t){return ze(t.getG1().toBytes(),ht).multiply(t.value)}static popVerify(t,e){try{xt(e.isValid()),xt(t.isValid());const n=ze(t.toBytes(),ht),r=b.nil.one($.q);return Qe([t,wt.generateG1().negate()],[n,e]).equals(r)}catch(n){if(n instanceof vt)return!1;throw n}}static fastAggregateVerify(t,e,n){if(!t.length)return!1;let r=t[0];for(const o of t.slice(1))r=r.add(o);return Ye(r,e,n,lt)}static deriveChildSk(t,e){return me(t,e)}static deriveChildSkUnhardened(t,e){return we(t,e)}static deriveChildPkUnhardened(t,e){return ye(t,e)}}var kt={};function Lt(t){return t.replace(/[01]/g,(t=>"0"===t?"1":"0"))}function _t(t){return Math.abs(t).toString(2).length}function Tt(t){return(t<0n?-t:t).toString(2).length}function Ot(t){if(t<1n)return[0];const e=[];for(;0n!==t;)e.push(Number(Le(t,2n))),t/=2n;return e.reverse()}function Ut(t){if(t<1)return[0];const e=[];for(;0!==t;)e.push(Number(_e(t,2))),t/=2;return e.reverse()}function Mt(t,e,n,r=!1){if(t<0&&!r)throw new Error("Cannot convert negative number to unsigned.");if(Math.floor(t)!==t)throw new Error("Cannot convert floating point number.");let o=Math.abs(t).toString(2).padStart(8*e,"0");t<0&&(o=(parseInt(Lt(o),2)+1).toString(2).padStart(8*e,"0"));var i=o.match(/[01]{8}/g).map((t=>parseInt(t,2)));return"little"===n&&i.reverse(),Uint8Array.from(i)}function $t(t,e,n=!1){if(0===t.length)return 0;const r=t["little"===e?t.length-1:0].toString(2).padStart(8,"0")[0],o="little"===e?t.reverse():t;let i="";for(const a of o)i+=a.toString(2).padStart(8,"0");"1"===r&&n&&(i=(parseInt(Lt(i),2)+1).toString(2).padStart(8*t.length,"0"));const s=parseInt(i,2);return"1"===r&&n?-s:s}function zt(t){if(0===t)return Uint8Array.from([]);let e=Mt(t,_t(t)+8>>3,"big",!0);for(;e.length>1&&e[0]===(0!=(128&e[1])?255:0);)e=e.slice(1);return e}function Ht(t){return $t(t,"big",!0)}function Nt(t,e,n,r=!1){if(t<0n&&!r)throw new Error("Cannot convert negative number to unsigned.");let o=(t<0n?-t:t).toString(2).padStart(8*e,"0");t<0&&(o=(BigInt("0b"+Lt(o))+1n).toString(2).padStart(8*e,"0"));var i=o.match(/[01]{8}/g).map((t=>parseInt(t,2)));return"little"===n&&i.reverse(),Uint8Array.from(i)}function Rt(t,e,n=!1){if(0===t.length)return 0n;const r=t["little"===e?t.length-1:0].toString(2).padStart(8,"0")[0],o="little"===e?t.reverse():t;let i="";for(const a of o)i+=a.toString(2).padStart(8,"0");"1"===r&&n&&(i=(BigInt("0b"+Lt(i))+1n).toString(2).padStart(8*t.length,"0"));const s=BigInt("0b"+i);return"1"===r&&n?-s:s}function Kt(t){if(0n===t)return Uint8Array.from([]);let e=Nt(t,Tt(t)+8>>3,"big",!0);for(;e.length>1&&e[0]===(0!=(128&e[1])?255:0);)e=e.slice(1);return e}function jt(t){return Rt(t,"big",!0)}function Ft(...t){const e=[];for(const n of t)for(const t of n)e.push(t);return Uint8Array.from(e)}function Qt(t,e){return t.length===e.length&&-1===t.findIndex(((t,n)=>e[n]!==t))}i(kt,"flip",(()=>Lt)),i(kt,"intBitLength",(()=>_t)),i(kt,"bigIntBitLength",(()=>Tt)),i(kt,"bigIntToBits",(()=>Ot)),i(kt,"intToBits",(()=>Ut)),i(kt,"intToBytes",(()=>Mt)),i(kt,"bytesToInt",(()=>$t)),i(kt,"encodeInt",(()=>zt)),i(kt,"decodeInt",(()=>Ht)),i(kt,"bigIntToBytes",(()=>Nt)),i(kt,"bytesToBigInt",(()=>Rt)),i(kt,"encodeBigInt",(()=>Kt)),i(kt,"decodeBigInt",(()=>jt)),i(kt,"concatBytes",(()=>Ft)),i(kt,"bytesEqual",(()=>Qt)),i(kt,"toHex",(()=>Yt)),i(kt,"fromHex",(()=>Wt));const Dt="0123456789abcdef",Gt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15};function Yt(t){return Array.from(t).map((t=>Dt[t>>4]+Dt[15&t])).join("")}function Wt(t){const e=new Uint8Array(Math.floor(t.length/2));let n;for(n=0;n<e.length;n++){const r=Gt[t[2*n]],o=Gt[t[2*n+1]];if(void 0===r||void 0===o)break;e[n]=r<<4|o}return n===e.length?e:e.slice(0,n)}var Jt={};function Vt(t,e=$){const n=t.multiply(t).multiply(t).add(e.a.multiply(t)).add(e.b).modSqrt();if(n.equals(0n)||!new pt(t,n,!1,e).isOnCurve())throw new Error("No y for point x.");return n}function Xt(t,e,n=$){t instanceof d&&(t=t.value);let r=new wt(e.x.one(n.q),e.x.one(n.q),e.x.zero(n.q),!0,n);if(e.isInfinity||0n===Le(t,n.q))return r;let o=e;for(;t>0n;)1n&t&&(r=r.add(o)),o=o.add(o),t>>=1n;return r}function Zt(t,e,n){const{x:r,y:o,z:i}=t,s=[null,null,null,null];let a=e[0].length;for(const h of e.slice(1))a=Math.max(a,h.length);const f=[];for(let h=0;h<a;h++)f.push(null);f[0]=i.pow(0n),f[1]=i.pow(2n);for(let h=2;h<f.length;h++)xt(null!==f[h-1]),xt(null!==f[1]),f[h]=f[h-1]?.multiply(f[1]);for(const[h,d]of e.entries()){const t=d.slice().reverse().map(((t,e)=>t.multiply(f[e])));let e=t[0];for(const n of t.slice(1))e=e.multiply(r),e=e.add(n);s[h]=e}xt(e[1].length+1===e[0].length),xt(null!==f[1]),xt(null!==s[1]),s[1]=s[1]?.multiply(f[1]),xt(null!==s[2]),xt(null!==s[3]),s[2]=s[2].multiply(o),s[3]=s[3].multiply(i.pow(3n));const u=s[1].multiply(s[3]),c=s[0].multiply(s[3]).multiply(u),l=s[2].multiply(s[1]).multiply(u).multiply(u);return new wt(c,l,u,t.isInfinity,n)}function te(t,e=$){return t.gt(new d(e.q,(e.q-1n)/2n))}function ee(t,e=z){return t.elements[1].equals(new d(e.q,0n))?te(t.elements[0]):t.elements[1].gt(new d(e.q,(e.q-1n)/2n))}i(Jt,"yForX",(()=>Vt)),i(Jt,"scalarMultJacobian",(()=>Xt)),i(Jt,"evalIso",(()=>Zt)),i(Jt,"signFq",(()=>te)),i(Jt,"signFq2",(()=>ee));var ne={};function re(t,e){if(t<0n||t>=1n<<8n*BigInt(e))throw new Error(`Bad I2OSP call: value=${t}, length=${e}.`);const n=[];for(let i=0;i<e;i++)n.push(0);let r=t;for(let i=e-1;i>=0;i--)n[i]=Number(0xffn&r),r>>=8n;const o=Uint8Array.from(n);return xt(Qt(o,Nt(t,e,"big"))),o}function oe(t){let e=0n;for(const n of t)e<<=8n,e+=BigInt(n);return xt(e===Rt(t,"big")),e}function ie(t,e){return Uint8Array.from(t.map(((t,n)=>t^e[n])))}function se(t,e,n,r){const o=Math.trunc((n+r.byteSize-1)/r.byteSize);if(o>255)throw new Error(`Bad expandMessageXmd call: ell=${o} out of range.`);const i=[...e,...re(BigInt(e.length),1)],s=re(0n,r.blockSize),a=re(BigInt(n),2),f=r.convert(Uint8Array.from([...s,...t,...a,...re(0n,1),...i])),u=[];u.push(r.convert(Uint8Array.from([...f,...re(1n,1),...i])));for(let l=1;l<=o;l++)u.push(r.convert(Uint8Array.from([...ie(f,u[l-1]),...re(BigInt(l+1),1),...i])));const c=[];for(const l of u)c.push(...l);return Uint8Array.from(c.slice(0,n))}function ae(t,e,n,r){const o=[...e,...re(BigInt(e.length),1)],i=[...t,...re(BigInt(n),2),...o];return r.convert(Uint8Array.from(i)).slice(0,n)}function fe(t,e,n,r,o,i,s,a){const f=s(t,n,e*o*i,a),u=[];for(let c=0;c<e;c++){const t=[];for(let e=0;e<o;e++){const n=i*(e+c*o),s=f.slice(n,n+i);t.push(Le(oe(s),r))}u.push(t)}return u}function ue(t,e,n){return fe(t,e,n,B,1,64,se,j)}function ce(t,e,n){return fe(t,e,n,B,2,64,se,j)}i(ne,"I2OSP",(()=>re)),i(ne,"OS2IP",(()=>oe)),i(ne,"bytesXor",(()=>ie)),i(ne,"expandMessageXmd",(()=>se)),i(ne,"expandMessageXof",(()=>ae)),i(ne,"hashToField",(()=>fe)),i(ne,"Hp",(()=>ue)),i(ne,"Hp2",(()=>ce));var le={};function he(t){const e=Se(48,Uint8Array.from([...t,0]),(new TextEncoder).encode("BLS-SIG-KEYGEN-SALT-"),Uint8Array.from([0,48]));return new St(Le(Rt(e,"big"),$.n))}function de(t,e){return Se(8160,t,e,Uint8Array.from([]))}function pe(t,e){const n=Mt(e,4,"big"),r=t.toBytes(),o=Uint8Array.from(r.map((t=>255^t))),i=de(r,n),s=de(o,n),a=[];for(let f=0;f<255;f++)a.push(...Ee(i.slice(32*f,32*(f+1))));for(let f=0;f<255;f++)a.push(...Ee(s.slice(32*f,32*(f+1))));return Ee(Uint8Array.from(a))}function me(t,e){return he(pe(t,e))}function we(t,e){const n=Ee(Uint8Array.from([...t.getG1().toBytes(),...Mt(e,4,"big")]));return St.aggregate([St.fromBytes(n),t])}function ye(t,e){const n=Ee(Uint8Array.from([...t.toBytes(),...Mt(e,4,"big")]));return t.add(wt.generateG1().multiply(St.fromBytes(n).value))}function ge(t,e){const n=Ee(Uint8Array.from([...t.toBytes(),...Mt(e,4,"big")]));return t.add(wt.generateG2().multiply(St.fromBytes(n).value))}i(le,"keyGen",(()=>he)),i(le,"ikmToLamportSk",(()=>de)),i(le,"parentSkToLamportPk",(()=>pe)),i(le,"deriveChildSk",(()=>me)),i(le,"deriveChildSkUnhardened",(()=>we)),i(le,"deriveChildG1Unhardened",(()=>ye)),i(le,"deriveChildG2Unhardened",(()=>ge));var be={};i(be,"blockSize",(()=>ve)),i(be,"extract",(()=>xe)),i(be,"expand",(()=>Be)),i(be,"extractExpand",(()=>Se));const ve=32;function xe(t,e){const n=new(s(r))("SHA-256","UINT8ARRAY",{hmacKey:{format:"UINT8ARRAY",value:t}});return n.update(e),n.getHash("UINT8ARRAY")}function Be(t,e,n){const r=Math.ceil(t/ve);let o=0;const i=[];let s=Uint8Array.from([]);for(let a=1;a<=r;a++){s=xe(e,Uint8Array.from(1===a?[...n,1]:[...s,...n,a]));let r=t-o;r>ve&&(r=ve),i.push(...s.slice(0,r)),o+=r}return xt(o===t),Uint8Array.from(i)}function Se(t,e,n,r){return Be(t,xe(n,e),r)}var Ie={};i(Ie,"hmacBlockSize",(()=>Ae)),i(Ie,"hash256",(()=>Ee)),i(Ie,"hash512",(()=>qe)),i(Ie,"hmac256",(()=>Ce));const Ae=64;function Ee(t){const e=new(s(r))("SHA-256","UINT8ARRAY");return e.update(t),e.getHash("UINT8ARRAY")}function qe(t){return Uint8Array.from([...Ee(Uint8Array.from([...t,0])),...Ee(Uint8Array.from([...t,1]))])}function Ce(t,e){for(e.length>Ae&&(e=Ee(e));e.length<Ae;)e=Uint8Array.from([...e,0]);const n=[];for(let o=0;o<Ae;o++)n.push(92^e[o]);const r=[];for(let o=0;o<Ae;o++)r.push(54^e[o]);return Ee(Uint8Array.from([...n,...Ee(Uint8Array.from([...r,...t]))]))}var Pe={};function ke(t,e,n){if(e<1n)return 1n;(t<0n||t>n)&&(t=Le(t,n));let r=1n;for(;e>0n;)(1n&e)>0n&&(r=Le(r*t,n)),e>>=1n,t=Le(t*t,n);return r}function Le(t,e){return(t%e+e)%e}function _e(t,e){return(t%e+e)%e}i(Pe,"modPow",(()=>ke)),i(Pe,"mod",(()=>Le)),i(Pe,"modNumber",(()=>_e));var Te={};function Oe(t){const e=1n===Le(t.elements[0].value,2n),n=0n===t.elements[0].value,r=1n===Le(t.elements[1].value,2n);return e||n&&r?1n:0n}function Ue(t){const e=V.pow(2n).multiply(t.pow(4n)).add(V.multiply(t.pow(2n))),n=Z.multiply(e.add(new d(B,1n)));let r=X.negate().multiply(e);r=r.equals(0n)?X.multiply(V):r;const o=r.pow(3n),i=Z.multiply(o).add(X.multiply(n).multiply(r.pow(2n))).add(n.pow(3n));let s=o.pow(7n);const a=i.multiply(s);s=s.multiply(a).multiply(o);let f=a.multiply(s.pow((B**2n-9n)/16n));for(const d of at){let e=f.multiply(d);if(e.pow(2n).multiply(o).equals(i))return Oe(e)!==Oe(t)&&(e=e.negate()),xt(Oe(e)===Oe(t)),new wt(n.multiply(r),e.multiply(r.pow(3n)),r,!1,z)}const u=V.multiply(t.pow(2n)).multiply(n),c=r,l=V.pow(3n).multiply(t.pow(6n)).multiply(i),h=o;f=f.multiply(t.pow(3n));for(const d of ot){let e=d.multiply(f);if(e.pow(2n).multiply(h).equals(l))return Oe(e)!==Oe(t)&&(e=e.negate()),xt(Oe(e)===Oe(t)),new wt(u.multiply(c),e.multiply(c.pow(3n)),c,!1,z)}throw new Error("Bad osswu2Help.")}function Me(t){return Zt(t,[D,G,Y,W],z)}function $e(t,e){let n=Me(Ue(t));if(e){const t=Me(Ue(e));n=n.add(t)}return n.multiply(T)}function ze(t,e){const n=ce(t,2,e).map((t=>{const e=t.map((t=>new d(B,t)));return new m(B,e[0],e[1])}));return $e(n[0],n[1])}i(Te,"sgn0",(()=>Oe)),i(Te,"osswu2Help",(()=>Ue)),i(Te,"iso3",(()=>Me)),i(Te,"optSwu2Map",(()=>$e)),i(Te,"g2Map",(()=>ze));var He={};function Ne(t,e,n=$){const r=t.untwist(),o=new d(n.q,3n).multiply(r.x.pow(2n).add(n.a)).divide(r.y.multiply(new d(n.q,2n))),i=r.y.subtract(r.x.multiply(o));return e.y.subtract(e.x.multiply(o)).subtract(i)}function Re(t,e,n){const r=t.untwist(),o=e.untwist();if(r.equals(o.negate()))return n.x.subtract(r.x);const i=o.y.subtract(r.y).divide(o.x.subtract(r.x)),s=o.y.multiply(r.x).subtract(r.y.multiply(o.x)).divide(r.x.subtract(o.x));return n.y.subtract(n.x.multiply(i)).subtract(s)}function Ke(t,e,n,r=$){const o=Ot(t);let i=n,s=b.nil.one(r.q);for(let a=1;a<o.length;a++){const t=Ne(i,e,r);if(s=s.multiply(s).multiply(t),i=i.multiply(new d(r.q,2n)),1===o[a]){const t=Re(i,n,e);s=s.multiply(t),i=i.add(n)}}return s}function je(t,e=$){if(12n===e.k){let n=t.pow((e.q**4n-e.q**2n+1n)/e.n);return n=n.qiPower(2).multiply(n),n=n.qiPower(6).divide(n),n}return t.pow((e.q**e.k-1n)/e.n)}function Fe(t,e,n=$){let r=$.x+1n-1n;return r=r<0n?-r:r,je(Ke(r,t.toAffine(),e.toAffine()),n)}function Qe(t,e,n=$){let r=$.x+1n-1n;r=r<0n?-r:r;let o=b.nil.one(n.q);for(let i=0;i<e.length;i++)o=o.multiply(Ke(r,t[i].toAffine(),e[i].toAffine(),n));return je(o,n)}i(He,"doubleLineEval",(()=>Ne)),i(He,"addLineEval",(()=>Re)),i(He,"millerLoop",(()=>Ke)),i(He,"finalExponentiation",(()=>je)),i(He,"atePairing",(()=>Fe)),i(He,"atePairingMulti",(()=>Qe));var De={};function Ge(t,e,n){return ze(e,n).multiply(t.value)}function Ye(t,e,n,r){if(!n.isValid()||!t.isValid())return!1;const o=ze(e,r),i=b.nil.one($.q);return Qe([t,wt.generateG1().negate()],[o,n]).equals(i)}function We(t){if(!t.length)throw new Error("Must aggregate at least 1 signature.");let e=t[0];xt(e.isValid());for(const n of t.slice(1))xt(n.isValid()),e=e.add(n);return e}function Je(t,e,n,r){if(t.length!==e.length||!t.length)return!1;if(!n.isValid())return!1;const o=[n],i=[wt.generateG1().negate()];for(let s=0;s<t.length;s++){if(!t[s].isValid())return!1;o.push(ze(e[s],r)),i.push(t[s])}return b.nil.one($.q).equals(Qe(i,o))}i(De,"coreSignMpl",(()=>Ge)),i(De,"coreVerifyMpl",(()=>Ye)),i(De,"coreAggregateMpl",(()=>We)),i(De,"coreAggregateVerify",(()=>Je)),o(a,f),o(a,c),o(a,h),o(a,p),o(a,w),o(a,g),o(a,v),o(a,H),o(a,K),o(a,Q),o(a,J),o(a,it),o(a,ft),o(a,dt),o(a,{}),o(a,mt),o(a,yt),o(a,bt),o(a,{}),o(a,Bt),o(a,It),o(a,Et),o(a,Ct),o(a,kt),o(a,Jt),o(a,ne),o(a,le),o(a,be),o(a,Ie),o(a,Pe),o(a,Te),o(a,He),o(a,De),o(t.exports,a)},171:function(t,e,n){var r=n(6241);function o(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}o(t.exports,"Program",(()=>mt));var i={};o(i,"ParserError",(()=>s));class s extends Error{constructor(t){super(t),Object.setPrototypeOf(this,s.prototype)}}const a={q:0x01n,a:0x02n,i:0x03n,c:0x04n,f:0x05n,r:0x06n,l:0x07n,x:0x08n,"=":0x09n,">s":0x0an,sha256:0x0bn,substr:0x0cn,strlen:0x0dn,concat:0x0en,"+":0x10n,"-":0x11n,"*":0x12n,"/":0x13n,divmod:0x14n,">":0x15n,ash:0x16n,lsh:0x17n,logand:0x18n,logior:0x19n,logxor:0x1an,lognot:0x1bn,point_add:0x1dn,pubkey_for_exp:0x1en,not:0x20n,any:0x21n,all:0x22n,".":0x23n,softfork:0x24n},f=(0,r.encodeBigInt)(a.q),u=(0,r.encodeBigInt)(a.a),c=((0,r.encodeBigInt)(a.f),(0,r.encodeBigInt)(a.r),(0,r.encodeBigInt)(a.c)),l=(0,r.encodeBigInt)(a.x);class h extends Set{isSuperset(t){for(const e of t)if(!this.has(e))return!1;return!0}isSubset(t){for(const e of this)if(!t.has(e))return!1;return!0}isSupersetProper(t){return this.isSuperset(t)&&!this.isSubset(t)}isSubsetProper(t){return this.isSubset(t)&&!this.isSuperset(t)}equals(t){return this.isSubset(t)&&this.isSuperset(t)}union(t){const e=new h(this);for(const n of t)e.add(n);return e}intersection(t){const e=new h;for(const n of t)this.has(n)&&e.add(n);return e}symmetricDifference(t){const e=new h(this);for(const n of t)e.has(n)?e.delete(n):e.add(n);return e}difference(t){const e=new h(this);for(const n of t)e.delete(n);return e}update(t){for(const e of t)this.add(e);return this}differenceUpdate(t){for(const e of t)this.delete(e);return this}symmetricDifferenceUpdate(t){for(const e of t)this.has(e)?this.delete(e):this.add(e);return this}intersectionUpdate(t){for(const e of this)t.has(e)||this.delete(e);return this}sort(t){return new h([...this].sort(t))}map(t){const e=new h;let n=0;for(const r of this)e.add(t(r,n++,this));return e}filter(t){const e=new h;let n=0;for(const r of this)t(r,n++,this)&&e.add(r);return e}}class d{static top=new d;static left=d.top.first();static right=d.top.rest();constructor(t=1n){if(t<0n){const e=(0,r.bigIntBitLength)(t)+7>>3,n=(0,r.bigIntToBytes)(t,e,"big",!0);t=(0,r.bytesToBigInt)(Uint8Array.from([0,...n]),"big",!1)}this.index=t}asPath(){const t=(0,r.bigIntBitLength)(this.index)+7>>3;return(0,r.bigIntToBytes)(this.index,t,"big")}add(t){return new d(function(t,e){let n=1n,r=t;for(;r>1n;)e<<=1n,n<<=1n,r>>=1n;return n-=1n,e|t&n}(this.index,t.index))}first(){return new d(2n*this.index)}rest(){return new d(2n*this.index+1n)}toString(){return`NodePath: ${this.index}`}}function p(t){return mt.cons(mt.fromBigInt(a.q),t)}function m(t,e){return mt.fromList([mt.fromBigInt(a.a),t,e])}function w(t,e){return m(p(t),p(e))}const y=['\n    ; we have to compile this externally, since it uses itself\n    ;(defmacro defmacro (name params body)\n    ;    (qq (list (unquote name) (mod (unquote params) (unquote body))))\n    ;)\n    (q . ("defmacro"\n       (c (q . "list")\n          (c (f 1)\n             (c (c (q . "mod")\n                   (c (f (r 1))\n                      (c (f (r (r 1)))\n                         (q . ()))))\n                (q . ()))))))\n    ','\n    ;(defmacro list ARGS\n    ;    ((c (mod args\n    ;        (defun compile-list\n    ;               (args)\n    ;               (if args\n    ;                   (qq (c (unquote (f args))\n    ;                         (unquote (compile-list (r args)))))\n    ;                   ()))\n    ;            (compile-list args)\n    ;        )\n    ;        ARGS\n    ;    ))\n    ;)\n    (q "list"\n        (a (q #a (q #a 2 (c 2 (c 3 (q))))\n                 (c (q #a (i 5\n                             (q #c (q . 4)\n                                   (c 9 (c (a 2 (c 2 (c 13 (q))))\n                                           (q)))\n                             )\n                             (q 1))\n                           1)\n                    1))\n            1))\n    ',"(defmacro function (BODY)\n        (qq (opt (com (q . (unquote BODY))\n                 (qq (unquote (macros)))\n                 (qq (unquote (symbols)))))))","(defmacro if (A B C)\n        (qq (a\n            (i (unquote A)\n               (function (unquote B))\n               (function (unquote C)))\n            @)))","(defmacro / (A B) (qq (f (divmod (unquote A) (unquote B)))))"];let g;function b(t){return g&&!g.isNull||(g=mt.fromList([]),function(t){const e=mt.fromSource("(a (com 2 3) 1)");for(const n of y){const r=mt.fromSource(n),o=t(e,mt.cons(r,g)).value;g=mt.cons(o,g)}}(t)),g}const v=(new TextEncoder).encode("$"),x=(new TextEncoder).encode(":");function B(t,e,n){return e in t?t[e].equals(n)?t:null:{...t,[e]:n}}function S(t,e,n={}){if(!t.isCons)return e.isCons?null:(0,r.bytesEqual)(t.atom,e.atom)?n:null;const o=t.first,i=t.rest;if(o.isAtom&&(0,r.bytesEqual)(o.atom,v))return e.isCons?null:i.isAtom&&(0,r.bytesEqual)(i.atom,v)?(0,r.bytesEqual)(e.atom,v)?{}:null:B(n,i.toText(),e);if(o.isAtom&&(0,r.bytesEqual)(o.atom,x))return i.isAtom&&(0,r.bytesEqual)(i.atom,x)?(0,r.bytesEqual)(e.atom,x)?{}:null:B(n,i.toText(),e);if(!e.isCons)return null;const s=S(o,e.first,n);return s?S(i,e.rest,s):s}function I(t){if(!t.isCons)return t.isNull;const e=t.first;if(e.isCons){if(!I(e))return!1}else{const t=e.atom;if((0,r.bytesEqual)(t,f))return!0;if((0,r.bytesEqual)(t,l))return!1}return t.rest.toList().every((t=>I(t)))}function A(t,e){if(I(t)&&!t.isNull){t=p(e(t,mt.nil).value)}return t}function E(t,e){const n=S(mt.fromSource("(a (q . (: . sexp)) (: . args))"),t);return n&&function(t){return t.isAtom&&1n===t.toBigInt()}(n.args)?n.sexp:t}function q(t,e){const n=t.toBigInt();return n<=1n?e:q(t=mt.fromBigInt(n>>1n),1n&n?function(t){const e=S(mt.fromSource("(c (: . first) (: . rest))"),t);return e?e.rest:mt.fromList([mt.fromBigInt(a.r),t])}(e):function(t){const e=S(mt.fromSource("(c (: . first) (: . rest))"),t);return e?e.first:mt.fromList([mt.fromBigInt(a.f),t])}(e))}function C(t,e){if(!t.isCons)return q(t,e);let n=t.first;if(n.isCons)n=C(n,e);else if((0,r.bytesEqual)(n.atom,f))return t;return mt.fromList([n,...t.rest.toList().map((t=>C(t,e)))])}function P(t,e){const n=S(mt.fromSource("(a (q . (: . sexp)) (: . args))"),t);if(!n)return t;const o=n.args,i=C(n.sexp,o);if(I(i))return U(i,e);const s=i.toList().map((t=>U(t,e)));return s.filter((t=>t.isCons&&(t.first.isCons||!(0,r.bytesEqual)(t.first.atom,f)))).length<1?mt.fromList(s):t}function k(t,e){if(!t.isCons)return t;const n=t.first;return n.isAtom&&(0,r.bytesEqual)(n.atom,f)?t:mt.fromList(t.toList().map((t=>U(t,e))))}function L(t,e){let n=S(mt.fromSource("(f (c (: . first) (: . rest)))"),t);return n?n.first:(n=S(mt.fromSource("(r (c (: . first) (: . rest)))"),t),n?n.rest:t)}function _(t,e){let n=S(mt.fromSource("(f ($ . atom))"),t);if(n&&!n.atom.isNull){const t=new d(n.atom.toBigInt()).add(d.left);return mt.fromBytes(t.asPath())}if(n=S(mt.fromSource("(r ($ . atom))"),t),n&&!n.atom.isNull){const t=new d(n.atom.toBigInt()).add(d.right);return mt.fromBytes(t.asPath())}return t}function T(t,e){return S(mt.fromSource("(q . 0)"),t)?mt.nil:t}function O(t,e){return S(mt.fromSource("(a 0 . (: . rest))"),t)?mt.nil:t}function U(t,e){if(t.isAtom)return t;const n=[L,A,E,P,k,_,T,O];for(;t.isCons;){const r=t;for(const o of n)if(t=o(t,e),!r.equals(t))break;if(r.equals(t))return t}return t}function M(t){return e=>({value:U(e.first,t),cost:1n})}function $(t){if(0===t.length)return mt.nil;if(1===t.length)return t[0];const e=t.length>>1;return mt.cons($(t.slice(0,e)),$(t.slice(e)))}function z(t){if(0===t.length)return mt.fromList([p(mt.nil)]);if(1===t.length)return t[0];const e=t.length>>1;return mt.fromList([mt.fromBytes(c),z(t.slice(0,e)),z(t.slice(e))])}function H(t){return t.isCons?[...H(t.first),...H(t.rest)]:[t.toText()]}function N(t,e){return t.isCons?mt.cons(N(t.first,e),N(t.rest,e)):e.includes(t.toText())?mt.fromList([mt.fromText("unquote"),t]):t}function R(t){const e=t.rest,n=e.rest,r=[mt.fromText("defmacro"),e.first,n.first],o=N(n.rest.first,H(n.first).filter((t=>t.length)));return r.push(mt.fromList([mt.fromText("qq"),o])),mt.fromList(r)}function K(t,e,n,r,o,i){const s=t.first.toText(),a=t.rest.first;if("include"===s)return void function(t,e,n,r,o,i){const s=i(mt.fromSource("(_read (_full_path_for_name 1))"),t).value;for(const a of s.toList())K(a,e,n,r,o,i)}(a,e,n,r,o,i);const f=a.toText();if(e.has(f))throw new Error(`Symbol ${JSON.stringify(f)} redefined.`);if(e.add(f),"defmacro"===s)o.push(t);else if("defun"===s)n[f]=t.rest.rest;else if("defun-inline"===s)o.push(R(t));else{if("defconstant"!==s)throw new Error(`Expected "defun", "defun-inline", "defmacro", or "defconstant", but got ${JSON.stringify(s)}.`);r[f]=p(t.rest.rest.first)}}function j(t,e){if(t.isNull)return mt.nil;if(!t.isCons)return mt.fromList([mt.fromList([t,mt.fromBytes(e.asPath())])]);const n=j(t.first,e.add(d.left)),r=j(t.rest,e.add(d.right));return mt.fromList([...n.toList(),...r.toList()])}function F(t,e,n,r){const[o,i,s]=function(t,e){const n={},r={},o=[],i=t.first,s=new h;for(;!(t=t.rest).rest.isNull;)K(t.first,s,n,r,o,e);const a=t.first;return n[""]=mt.fromList([i,a]),[n,r,o]}(t,r),a=function(t,e,n){let r=p(t);for(const o of e)r=m(mt.fromList([mt.fromText("opt"),mt.fromList([mt.fromText("com"),p(mt.fromList([mt.fromBytes(c),o,r])),r])]),mt.fromBytes(d.top.asPath())),r=U(r,n);return r}(e,s,r),f=function(t,e,n){const r={};for(const a of n)r[a.rest.first.toText()]=a;const o=new h(Object.keys(t));o.update(new h(Object.keys(e)));let i=new h([""]);const s=new h(i);for(;i.size;){const e=new h(i);i=new h;for(const n of e)for(const e of[t,r])n in e&&i.update(new h(H(e[n])));i.differenceUpdate(s),s.update(i)}return s.intersectionUpdate(o),s.delete(""),s.sort(((t,e)=>function(t,e){return t<e?-1:t>e?1:0}(t,e)))}(o,i,s),u=f.size>0,l=$([...f.map((t=>mt.fromText(t)))]),w=d.left,y=u?d.right:d.top,g=function(t,e,n,r){const o={};for(const[i,s]of Object.entries(t)){const t=j(s.first,r),a=mt.fromList([...t.toList(),...n.toList()]);o[i]=mt.fromList([mt.fromText("opt"),mt.fromList([mt.fromText("com"),p(s.rest.first),e,p(a)])])}return o}(o,a,j(l,w),y),b=g[""].toString();let v;if(u){const t={};for(const[e,n]of Object.entries(g))f.has(e)&&(t[e]=n);Object.assign(t,i);v=`(c ${z([...f].map((e=>t[e]))).toString()} 1)`}else v="1";return mt.fromSource(`(opt (q . (a ${b} ${v})))`)}const Q=new h([...Object.values(a).map((t=>(0,r.toHex)((0,r.encodeBigInt)(t)))),(0,r.toHex)((new TextEncoder).encode("com")),(0,r.toHex)((new TextEncoder).encode("opt"))]);const D={qq:function t(e,n,r,o,i=1){function s(t){return Y(t,n,r,o)}const a=e.first;if(!a.isCons)return p(a);if(!a.first.isCons){const e=a.first.toText();if("qq"===e){const f=t(a.rest,n,r,o,i+1);return s(mt.fromList([mt.fromBytes(c),mt.fromText(e),mt.fromList([mt.fromBytes(c),f,p(mt.nil)])]))}if("unquote"===e){if(1===i)return s(a.rest.first);const f=t(a.rest,n,r,o,i-1);return s(mt.fromList([mt.fromBytes(c),mt.fromText(e),mt.fromList([mt.fromBytes(c),f,p(mt.nil)])]))}}const f=s(mt.fromList([mt.fromText("qq"),a.first])),u=s(mt.fromList([mt.fromText("qq"),a.rest]));return mt.fromList([mt.fromBytes(c),f,u])},macros:function(t,e,n,r){return p(e)},symbols:function(t,e,n,r){return p(n)},lambda:F,mod:F};function G(t,e,n,r){if(t.isAtom)return t;if(t.first.isAtom&&"quote"===t.first.toText()){if(!t.rest.rest.isNull)throw new Error(`Compilation error while compiling ${t}. Quote takes exactly one argument${t.positionSuffix}.`);return p(G(t.rest.first))}return mt.cons(G(t.first),G(t.rest))}function Y(t,e,n,o){if(!(t=G(t)).isCons){const e=t.toText();if("@"===e)return mt.fromBytes(d.top.asPath());for(const t of n.toList()){const n=t.first,r=t.rest.first;if(n.isAtom&&n.toText()===e)return r}return p(t)}const i=t.first;if(i.isCons){const t=m(mt.fromList([mt.fromText("com"),p(i),p(e),p(n)]),mt.fromBytes(d.top.asPath()));return mt.fromList([t])}const s=i.toText();for(const r of e.toList())if(r.first.isAtom&&r.first.toText()===s){const o=w(r.rest.first,t.rest);return m(mt.fromList([mt.fromText("com"),o,p(e),p(n)]),mt.fromBytes(d.top.asPath()))}if(s in D){return m(p((0,D[s])(t.rest,e,n,o)),mt.fromBytes(d.top.asPath()))}if((0,r.bytesEqual)(i.atom,f))return t;const a=t.rest.toList().map((t=>Y(t,e,n,o)));let l=mt.fromList([i,...a]);if(Q.has((0,r.toHex)((new TextEncoder).encode(s)))||s.startsWith("_"))return l;for(const r of n.toList()){const[o,i]=r.toList();if(!o.isAtom)continue;const a=o.toText();if("*"===a)return l;if(a===s){const r=m(mt.fromList([mt.fromText("opt"),mt.fromList([mt.fromText("com"),p(mt.fromList([mt.fromText("list"),...t.rest.toList()])),p(e),p(n)])]),mt.fromBytes(d.top.asPath()));return mt.fromList([mt.fromBytes(u),i,mt.fromList([mt.fromBytes(c),mt.fromBytes(d.left.asPath()),r])])}}throw new Error(`Can't compile unknown operator ${t}${t.positionSuffix}.`)}function W(t){return e=>{const n=e.first;let r,o=mt.nil;return e.rest.isNull?r=b(t):(r=e.rest.first,e.rest.rest.isNull||(o=e.rest.rest.first)),{value:Y(n,r,o,t),cost:1n}}}const J={if:33n,cons:50n,first:30n,rest:30n,listp:19n,mallocPerByte:10n,arithBase:99n,arithPerByte:3n,arithPerArg:320n,logBase:100n,logPerByte:3n,logPerArg:264n,grsBase:117n,grsPerByte:1n,eqBase:117n,eqPerByte:1n,grBase:498n,grPerByte:2n,divmodBase:1116n,divmodPerByte:6n,divBase:988n,divPerByte:4n,sha256Base:87n,sha256PerByte:2n,sha256PerArg:134n,pointAddBase:101094n,pointAddPerArg:1343980n,pubkeyBase:1325730n,pubkeyPerByte:38n,mulBase:92n,mulPerOp:885n,mulLinearPerByte:6n,mulSquarePerByteDivider:128n,strlenBase:173n,strlenPerByte:1n,pathLookupBase:40n,pathLookupPerLeg:4n,pathLookupPerZeroByte:4n,concatBase:142n,concatPerByte:3n,concatPerArg:135n,boolBase:200n,boolPerArg:300n,ashiftBase:596n,ashiftPerByte:3n,lshiftBase:277n,lshiftPerByte:3n,lognotBase:331n,lognotPerByte:3n,apply:90n,quote:20n};function V(t,e){let n=J.pathLookupBase+J.pathLookupPerLeg;if(t.isNull)return{value:mt.nil,cost:n};let r=0;const o=t.atom;for(;r<o.length&&0===o[r];)r++;if(n+=BigInt(r)*J.pathLookupPerZeroByte,r===o.length)return{value:mt.nil,cost:n};const i=(s=o[r],s|=s>>1,s|=s>>2,1+(s|=s>>4)>>1);var s;let a=o.length-1,f=1;for(;a>r||f<i;){if(e.isAtom)throw new Error(`Cannot traverse into ${e}${e.positionSuffix}.`);e=0!=(o[a]&f)?e.rest:e.first,n+=J.pathLookupPerLeg,f<<=1,256===f&&(a--,f=1)}return{value:e,cost:n}}const X={operators:{i:t=>{const e=tt(t,"i",3);return{value:e[0].isNull?e[2]:e[1],cost:J.if}},c:t=>{const e=tt(t,"c",2);return{value:mt.cons(e[0],e[1]),cost:J.cons}},f:t=>({value:tt(t,"f",1,"cons")[0].first,cost:J.first}),r:t=>({value:tt(t,"r",1,"cons")[0].rest,cost:J.rest}),l:t=>{const e=tt(t,"l",1);return{value:mt.fromBool(e[0].isCons),cost:J.listp}},x:t=>{throw new Error(`The error ${t} was raised${t.positionSuffix}.`)},"=":t=>{const e=tt(t,"=",2,"atom");return{value:mt.fromBool((0,r.bytesEqual)(e[0].atom,e[1].atom)),cost:J.eqBase+(BigInt(e[0].atom.length)+BigInt(e[1].atom.length))*J.eqPerByte}},sha256:t=>{const e=tt(t,"sha256",void 0,"atom");let n=J.sha256Base,o=0;const i=[];for(const r of e){for(const t of r.atom)i.push(t);o+=r.atom.length,n+=J.sha256PerArg}return n+=BigInt(o)*J.sha256PerByte,nt({value:mt.fromBytes((0,r.hash256)(Uint8Array.from(i))),cost:n})},"+":t=>{const e=tt(t,"+",void 0,"atom");let n=0n,r=J.arithBase,o=0;for(const i of e)n+=i.toBigInt(),o+=i.atom.length,r+=J.arithPerArg;return r+=BigInt(o)*J.arithPerByte,nt({value:mt.fromBigInt(n),cost:r})},"-":t=>{let e=J.arithBase;if(t.isNull)return{value:mt.nil,cost:e};const n=tt(t,"-",void 0,"atom");let r=0n,o=1n,i=0;for(const s of n)r+=o*s.toBigInt(),o=-1n,i+=s.atom.length,e+=J.arithPerArg;return e+=BigInt(i)*J.arithPerByte,nt({value:mt.fromBigInt(r),cost:e})},"*":t=>{const e=tt(t,"*",void 0,"atom");let n=J.mulBase;if(!e.length)return nt({value:mt.true,cost:n});let r=e[0].toBigInt(),o=e[0].atom.length;for(const i of e.slice(1))n+=J.mulPerOp+(BigInt(i.atom.length)+BigInt(o))*J.mulLinearPerByte+BigInt(i.atom.length)*BigInt(o)/J.mulSquarePerByteDivider,r*=i.toBigInt(),o=et(r);return nt({value:mt.fromBigInt(r),cost:n})},divmod:t=>{const e=tt(t,"divmod",2,"atom");let n=J.divmodBase;const o=e[0].toBigInt(),i=e[1].toBigInt();if(0n===i)throw new Error(`Cannot divide by zero in "divmod" operator${t.positionSuffix}.`);n+=(BigInt(e[0].atom.length)+BigInt(e[1].atom.length))*J.divmodPerByte;let s=o/i;const a=(0,r.mod)(o,i);o<0n!=i<0n&&0n!==a&&(s-=1n);const f=mt.fromBigInt(s),u=mt.fromBigInt(a);return n+=(BigInt(f.atom.length)+BigInt(u.atom.length))*J.mallocPerByte,{value:mt.cons(f,u),cost:n}},"/":t=>{const e=tt(t,"/",2,"atom");let n=J.divBase;const o=e[0].toBigInt(),i=e[1].toBigInt();if(0n===i)throw new Error(`Cannot divide by zero in "/" operator${t.positionSuffix}.`);n+=(BigInt(e[0].atom.length)+BigInt(e[1].atom.length))*J.divPerByte;let s=o/i;(0,r.mod)(o,i);o<0n!=i<0n&&s<0n&&(s-=1n);return nt({value:mt.fromBigInt(s),cost:n})},">":t=>{const e=tt(t,">",2,"atom"),n=J.grBase+(BigInt(e[0].atom.length)+BigInt(e[1].atom.length))*J.grPerByte;return{value:mt.fromBool(e[0].toBigInt()>e[1].toBigInt()),cost:n}},">s":t=>{const e=tt(t,">s",2,"atom"),n=J.grsBase+(BigInt(e[0].atom.length)+BigInt(e[1].atom.length))*J.grsPerByte;return{value:mt.fromBool(1===e[0].toHex().localeCompare(e[1].toHex())),cost:n}},pubkey_for_exp:t=>{const e=tt(t,"pubkey_for_exp",1,"atom"),n=(0,r.mod)(e[0].toBigInt(),r.defaultEc.n),o=r.PrivateKey.fromBytes((0,r.bigIntToBytes)(n,32,"big")),i=J.pubkeyBase+BigInt(e[0].atom.length)*J.pubkeyPerByte;return nt({value:mt.fromBytes(o.getG1().toBytes()),cost:i})},point_add:t=>{const e=tt(t,"point_add",void 0,"atom");let n=J.pointAddBase,o=r.JacobianPoint.infinityG1();for(const i of e)o=o.add(r.JacobianPoint.fromBytes(i.atom,!1)),n+=J.pointAddPerArg;return nt({value:mt.fromBytes(o.toBytes()),cost:n})},strlen:t=>{const e=tt(t,"strlen",1,"atom")[0].atom.length,n=J.strlenBase+BigInt(e)*J.strlenPerByte;return nt({value:mt.fromInt(e),cost:n})},substr:t=>{const e=tt(t,"substr",[2,3],"atom"),n=e[0].atom;if(e[1].atom.length>4||3===e.length&&e[2].atom.length>4)throw new Error(`Expected 4 byte indices in "substr" operator${t.positionSuffix}.`);const r=e[1].toInt(),o=3===e.length?e[2].toInt():n.length;if(o>n.length||o<r||o<0||r<0)throw new Error(`Invalid indices in "substr" operator${t.positionSuffix}.`);return{value:mt.fromBytes(n.slice(r,o)),cost:1n}},concat:t=>{const e=tt(t,"concat",void 0,"atom");let n=J.concatBase;const r=[];for(const o of e){for(const t of o.atom)r.push(t);n+=J.concatPerArg}return n+=BigInt(r.length)*J.concatPerByte,nt({value:mt.fromBytes(Uint8Array.from(r)),cost:n})},ash:t=>{const e=tt(t,"ash",2,"atom");if(e[1].atom.length>4)throw new Error(`Shift must be 32 bits in "ash" operator${t.positionSuffix}.`);const n=e[1].toBigInt();if((n<0n?-n:n)>65535n)throw new Error(`Shift too large in "ash" operator${t.positionSuffix}.`);let r=e[0].toBigInt();n>=0?r<<=n:r>>=-n;const o=J.ashiftBase+(BigInt(e[0].atom.length)+BigInt(et(r)))*J.ashiftPerByte;return nt({value:mt.fromBigInt(r),cost:o})},lsh:t=>{const e=tt(t,"lsh",2,"atom");if(e[1].atom.length>4)throw new Error(`Shift must be 32 bits in "lsh" operator${t.positionSuffix}.`);const n=e[1].toBigInt();if((n<0n?-n:n)>65535n)throw new Error(`Shift too large in "lsh" operator${t.positionSuffix}.`);let o=(0,r.bytesToBigInt)(e[0].atom,"big",!1);o<0n&&(o=-o),n>=0?o<<=n:o>>=-n;const i=J.lshiftBase+(BigInt(e[0].atom.length)+BigInt(et(o)))*J.lshiftPerByte;return nt({value:mt.fromBigInt(o),cost:i})},logand:t=>rt("logand",-1n,t,((t,e)=>t&e)),logior:t=>rt("logior",0n,t,((t,e)=>t|e)),logxor:t=>rt("logxor",0n,t,((t,e)=>t^e)),lognot:t=>{const e=tt(t,"lognot",1,"atom"),n=J.lognotBase+BigInt(e[0].atom.length)*J.lognotPerByte;return nt({value:mt.fromBigInt(~e[0].toBigInt()),cost:n})},not:t=>{const e=tt(t,"not",1),n=J.boolBase;return{value:mt.fromBool(e[0].isNull),cost:n}},any:t=>{const e=tt(t,"any"),n=J.boolBase+BigInt(e.length)*J.boolPerArg;let r=!1;for(const o of e)if(!o.isNull){r=!0;break}return{value:mt.fromBool(r),cost:n}},all:t=>{const e=tt(t,"all"),n=J.boolBase+BigInt(e.length)*J.boolPerArg;let r=!0;for(const o of e)if(o.isNull){r=!1;break}return{value:mt.fromBool(r),cost:n}},softfork:t=>{const e=tt(t,"softfork",[1,1/0]);if(!e[0].isAtom)throw new Error(`Expected atom argument in "softfork" operator at ${e[0].positionSuffix}.`);const n=e[0].toBigInt();if(n<1n)throw new Error(`Cost must be greater than zero in "softfork" operator${t.positionSuffix}.`);return{value:mt.false,cost:n}}},unknown:function(t,e){if(!t.atom.length||(0,r.bytesEqual)(t.atom.slice(0,2),Uint8Array.from([255,255])))throw new Error(`Reserved operator${t.positionSuffix}.`);if(t.atom.length>5)throw new Error(`Invalid operator${t.positionSuffix}.`);const n=(192&t.atom[t.atom.length-1])>>6,o=(0,r.bytesToInt)(t.atom.slice(0,t.atom.length-1),"big")+1;let i;if(0===n)i=1n;else if(1===n){i=J.arithBase;let t=0;for(const n of e.toList()){if(!n.isAtom)throw new Error(`Expected atom argument${n.positionSuffix}.`);t+=n.atom.length,i+=J.arithPerArg}i+=BigInt(t)*J.arithPerByte}else if(2===n){i=J.mulBase;const t=e.toList();if(t.length){const e=t[0];if(!e.isAtom)throw new Error(`Expected atom argument${e.positionSuffix}.`);let n=e.atom.length;for(const r of t.slice(1)){if(!r.isAtom)throw new Error(`Expected atom argument${r.positionSuffix}.`);i+=J.mulPerOp+(BigInt(r.atom.length)+BigInt(n))*J.mulLinearPerByte+BigInt(r.atom.length)*BigInt(n)/J.mulSquarePerByteDivider,n+=r.atom.length}}}else{if(3!==n)throw new Error(`Unknown cost function${t.positionSuffix}.`);{i=J.concatBase;let t=0;for(const n of e.toList()){if(!n.isAtom)throw new Error(`Expected atom argument${n.positionSuffix}.`);i+=J.concatPerArg,t+=n.atom.length}i+=BigInt(t)*J.concatPerByte}}if(i*=BigInt(o),i>=2n**32n)throw new Error(`Invalid operator${t.positionSuffix}.`);return{value:mt.nil,cost:i}},quote:"q",apply:"a"};function Z(){return{...X,operators:{...X.operators}}}function tt(t,e,n,r){const o=t.toList();if("number"==typeof n&&o.length!==n)throw new Error(`Expected ${n} arguments in ${JSON.stringify(e)} operator${t.positionSuffix}.`);if(Array.isArray(n)&&(o.length<n[0]||o.length>n[1]))throw new Error(`Expected ${n[1]===1/0?`at least ${n[0]}`:`between ${n[0]} and ${n[1]}`} arguments in ${JSON.stringify(e)} operator${t.positionSuffix}.`);return void 0!==r&&o.forEach((t=>{if("atom"===r&&!t.isAtom||"cons"===r&&!t.isCons)throw new Error(`Expected ${r} argument in ${JSON.stringify(e)} operator${t.positionSuffix}.`)})),o}function et(t){let e=0n===t?0:(t<0n?-t:t).toString(2).length;return t<0n&&e++,e+7>>3}function nt(t){return{value:t.value,cost:t.cost+BigInt(t.value.atom.length)*J.mallocPerByte}}function rt(t,e,n,r){let o=e,i=0,s=J.logBase;for(const a of n.toList().map((e=>{if(!e.isAtom)throw new Error(`Expected atom argument in ${JSON.stringify(t)} operator${e.positionSuffix}.`);return e})))o=r(o,a.toBigInt()),i+=a.atom.length,s+=J.logPerArg;return s+=BigInt(i)*J.logPerByte,nt({value:mt.fromBigInt(o),cost:s})}function ot(t,e,n){const r=t.toBigInt(),o=Object.entries(a).find((t=>t[1]===r))?.[0]??t.toText();if(o in n.operators.operators){return n.operators.operators[o](e)}return n.operators.unknown(t,e)}const it={swap:(t,e,n)=>{const r=e.pop(),o=e.pop();return e.push(r,o),0n},cons:(t,e,n)=>{const r=e.pop(),o=e.pop();return e.push(mt.cons(r,o)),0n},eval:(t,e,n)=>{const o=e.pop(),i=o.first,s=o.rest;if(i.isAtom){const t=V(i,s);return e.push(t.value),t.cost}const a=i.first;if(a.isCons){const[n,r]=a.cons;if(n.isCons||!r.isNull)throw new Error(`Operators that are lists must contain a single atom${a.positionSuffix}.`);const o=i.rest;return e.push(n,o),t.push(it.apply),J.apply}let u=i.rest;if((0,r.bytesEqual)(a.atom,f))return e.push(u),J.quote;for(t.push(it.apply),e.push(a);!u.isNull;)e.push(mt.cons(u.first,s)),t.push(it.cons,it.eval,it.swap),u=u.rest;return e.push(mt.nil),1n},apply:(t,e,n)=>{const o=e.pop(),i=e.pop();if(i.isCons)throw new Error(`An internal error occurred${i.positionSuffix}.`);if((0,r.bytesEqual)(i.atom,u)){const n=o.toList();if(2!==n.length)throw new Error(`Expected 2 arguments in "a" operator${o.positionSuffix}.`);return e.push(mt.cons(n[0],n[1])),t.push(it.eval),J.apply}const s=ot(i,o,n);return e.push(s.value),s.cost}};function st(t){const e=[];if(t[0]<=127)return mt.fromBytes(Uint8Array.from([t[0]]));if(t[0]<=191)e.push(63&t[0]);else if(t[0]<=223){if(e.push(31&t[0]),t.shift(),!t.length)throw new s("Expected next byte in source.");e.push(t[0])}else if(t[0]<=239){e.push(15&t[0]);for(let n=0;n<2;n++){if(t.shift(),!t.length)throw new s("Expected next byte in source.");e.push(t[0])}}else if(t[0]<=247){e.push(7&t[0]);for(let n=0;n<3;n++){if(t.shift(),!t.length)throw new s("Expected next byte in source.");e.push(t[0])}}else{if(!(t[0]<=251)){if(255===t[0]){if(t.shift(),!t.length)throw new s("Expected next byte in source.");const e=st(t);if(t.shift(),!t.length)throw new s("Expected next byte in source.");const n=st(t);return mt.cons(e,n)}throw new s("Invalid encoding.")}e.push(3&t[0]);for(let n=0;n<4;n++){if(t.shift(),!t.length)throw new s("Expected next byte in source.");e.push(t[0])}}const n=(0,r.decodeInt)(Uint8Array.from(e));let o=[];for(let r=0;r<n;r++){if(t.shift(),!t.length)throw new s("Expected next byte in atom.");o.push(t[0])}return mt.fromBytes(Uint8Array.from(o))}class at{constructor(t,e){t=t.replaceAll("\r\n","\n");let n=1,r=1;for(let o=0;o<e;o++)"\n"===t[o]?(n++,r=1):r++;this.line=n,this.column=r}toString(){return`${this.line}:${this.column}`}}function ft(t,e){const n=e[0];if(!function(t){return t.shift(),t[0]}(e))throw new s(`Unexpected end of source at ${new at(t,n.index)}.`)}function ut(t){return/^[\u0020\u202F\u205F\u2028\u2029\u3000\u0085\u1680\u00A0\u2000-\u200A\u0009-\u000D\u001C-\u001F]$/.test(t)}function ct(t,e){for(;;){for(;e<t.length&&ut(t[e]);)e++;if(e>=t.length||";"!==t[e])break;for(;e<t.length&&!"\n\r".includes(t[e]);)e++}return e}function lt(t,e){const n=e;for(;e<t.length&&!ut(t[e])&&")"!==t[e];)e++;return{text:t.slice(n,e),index:e}}function ht(t,e){let n=e[0];if(")"===n.text)return mt.fromBytes(Uint8Array.from([])).at(new at(t,n.index));const r=n.index,o=dt(t,e);let i;if(ft(t,e),n=e[0],"."===n.text){const r=n.index;if(ft(t,e),n=e[0],i=dt(t,e),ft(t,e),n=e[0],")"!==n.text)throw new s(`Illegal dot expression at ${new at(t,r)}.`)}else i=ht(t,e);return mt.cons(o,i).at(new at(t,r))}function dt(t,e){const n=e[0];if("("===n.text)return ft(t,e),ht(t,e);const r=function(t,e){return/^[+\-]?[0-9]+(?:_[0-9]+)*$/.test(e.text)?mt.fromBigInt(BigInt(e.text.replaceAll("_",""))).at(new at(t,e.index)):null}(t,n)??function(t,e){if(!(e.text.length>=2&&"0x"===e.text.slice(0,2).toLowerCase()))return null;{let r=e.text.slice(2);r.length%2==1&&(r=`0${r}`);try{return mt.fromHex(r).at(new at(t,e.index))}catch(n){throw new s(`Invalid hex ${JSON.stringify(e.text)} at ${new at(t,e.index)}.`)}}}(t,n)??function(t,e){if(e.text.length<2)return null;const n=e.text[0];if(!"\"'".includes(n))return null;if(e.text[e.text.length-1]!==n)throw new s(`Unterminated string ${JSON.stringify(e.text)} at ${new at(t,e.index)}.`);return mt.fromText(e.text.slice(1,e.text.length-1)).at(new at(t,e.index))}(t,n)??function(t,e){let n=e.text;n.startsWith("#")&&(n=n.slice(1));const r=a[n];return(void 0===r?mt.fromText(n):mt.fromBigInt(r)).at(new at(t,e.index))}(t,n);if(!r)throw new s(`Invalid expression ${JSON.stringify(n.text)} at ${new at(t,n.index)}.`);return r}function*pt(t){let e=0;for(;e<t.length&&(e=ct(t,e),!(e>=t.length));){const n=t[e];if("(.)".includes(n)){yield{text:n,index:e},e++;continue}if("\"'".includes(n)){const n=e,r=t[e];for(e++;e<t.length&&t[e]!==r;)e++;if(e<t.length){yield{text:t.slice(n,e+1),index:n},e++;continue}throw new s(`Unterminated string at ${new at(t,e)}.`)}const r=lt(t,e);yield{text:r.text,index:e},e=r.index}}class mt{static cost=11e9;static true=mt.fromBytes(Uint8Array.from([1]));static false=mt.fromBytes(Uint8Array.from([]));static nil=mt.false;get atom(){if(!this.isAtom)throw new Error(`Expected atom${this.positionSuffix}.`);return this.value}get cons(){if(!this.isCons)throw new Error(`Expected cons${this.positionSuffix}.`);return this.value}get first(){return this.cons[0]}get rest(){return this.cons[1]}get isAtom(){return this.value instanceof Uint8Array}get isCons(){return Array.isArray(this.value)}get isNull(){return this.isAtom&&0===this.value.length}static cons(t,e){return new mt([t,e])}static fromBytes(t){return new mt(t)}static fromJacobianPoint(t){return new mt(t.toBytes())}static fromPrivateKey(t){return new mt(t.toBytes())}static fromHex(t){return new mt((0,r.fromHex)(t))}static fromBool(t){return t?mt.true:mt.false}static fromInt(t){return new mt((0,r.encodeInt)(t))}static fromBigInt(t){return new mt((0,r.encodeBigInt)(t))}static fromText(t){return new mt((new TextEncoder).encode(t))}static fromSource(t){const e=[...pt(t)];if(e.length)return dt(t,e);throw new s("Unexpected end of source.")}static fromList(t){let e=mt.nil;for(const n of t.reverse())e=mt.cons(n,e);return e}static deserialize(t){const e=[...t];if(!e.length)throw new s("Unexpected end of source.");return st(e)}static deserializeHex(t){return mt.deserialize((0,r.fromHex)(t))}constructor(t){this.value=t}get positionSuffix(){return this.position?` at ${this.position}`:""}at(t){return this.position=t,this}curry(t){return mt.fromSource("(a (q #a 4 (c 2 (c 5 (c 7 0)))) (c (q (c (q . 2) (c (c (q . 1) 5) (c (a 6 (c 2 (c 11 (q 1)))) 0))) #a (i 5 (q 4 (q . 4) (c (c (q . 1) 9) (c (a 6 (c 2 (c 13 (c 11 0)))) 0))) (q . 11)) 1) 1))").run(mt.cons(this,mt.fromList(t))).value}uncurry(){const t=mt.fromSource("(a (q . (: . function)) (: . core))"),e=mt.fromSource("(c (q . (: . parm)) (: . core))");let n=S(t,this);if(!n)return null;const r=n.function;let o=n.core;const i=[];for(;n=S(e,o),n;)i.push(n.parm),o=n.core;return o.isAtom&&1n===o.toBigInt()?[r,i]:null}hash(){return this.isAtom?(0,r.hash256)((0,r.concatBytes)(Uint8Array.from([1]),this.atom)):(0,r.hash256)((0,r.concatBytes)(Uint8Array.from([2]),this.first.hash(),this.rest.hash()))}hashHex(){return(0,r.toHex)(this.hash())}define(t){let e=this;(this.isAtom||this.first.isCons||"mod"!==this.first.toText())&&(e=mt.fromList([mt.fromText("mod"),mt.nil,this]));const n=e.toList();return n.splice(2,0,t),mt.fromList(n)}defineAll(t){let e=this;for(const n of t.reverse())e=e.define(n);return e}compile(t={}){const e={strict:!1,operators:Z(),includeFilePaths:{},...t};function n(t,n){return t.run(n,e)}e.strict&&(e.operators.unknown=(t,e)=>{throw new Error(`Unimplemented operator${e.positionSuffix}.`)});const r={com:W(n),opt:M(n),_full_path_for_name:function(t){const n=t.first.toText();for(const[r,o]of Object.entries(e.includeFilePaths))if(n in o)return{value:mt.fromText(`${r}/${n}`),cost:1n};throw new Error(`Can't open ${n}${t.positionSuffix}.`)},_read:function(t){const n=t.first.toText();let r=null;for(const[o,i]of Object.entries(e.includeFilePaths))for(const[t,e]of Object.entries(i))n===`${o}/${t}`&&(r=e);if(null===r)throw new Error(`Can't open ${n}${t.positionSuffix}.`);return{value:mt.fromSource(r),cost:1n}},_write:function(t){return{value:mt.nil,cost:1n}}};return Object.assign(e.operators.operators,r),n(mt.fromSource("(a (opt (com 2)) 3)"),mt.fromList([this]))}run(t,e={}){const n={strict:!1,operators:Z(),...e};n.strict&&(n.operators.unknown=(t,e)=>{throw new Error(`Unimplemented operator${e.positionSuffix}.`)});const r=[it.eval],o=[mt.cons(this,t)];let i=0n;for(;r.length;){if(i+=r.pop()(r,o,n),void 0!==n.maxCost&&i>n.maxCost)throw new Error(`Exceeded cost of ${n.maxCost}${o[o.length-1].positionSuffix}.`)}return{value:o[o.length-1],cost:i}}toBytes(){if(this.isCons)throw new Error(`Cannot convert ${this.toString()} to hex${this.positionSuffix}.`);return this.atom}toJacobianPoint(){if(this.isCons||48!==this.atom.length&&96!==this.atom.length)throw new Error(`Cannot convert ${this.toString()} to JacobianPoint${this.positionSuffix}.`);return 48===this.atom.length?r.JacobianPoint.fromBytesG1(this.atom):r.JacobianPoint.fromBytesG2(this.atom)}toPrivateKey(){if(this.isCons)throw new Error(`Cannot convert ${this.toString()} to private key${this.positionSuffix}.`);return r.PrivateKey.fromBytes(this.atom)}toHex(){if(this.isCons)throw new Error(`Cannot convert ${this.toString()} to hex${this.positionSuffix}.`);return(0,r.toHex)(this.atom)}toBool(){if(this.isCons)throw new Error(`Cannot convert ${this.toString()} to bool${this.positionSuffix}.`);return!this.isNull}toInt(){if(this.isCons)throw new Error(`Cannot convert ${this.toString()} to int${this.positionSuffix}.`);return(0,r.decodeInt)(this.atom)}toBigInt(){if(this.isCons)throw new Error(`Cannot convert ${this.toString()} to bigint${this.positionSuffix}.`);return(0,r.decodeBigInt)(this.atom)}toText(){if(this.isCons)throw new Error(`Cannot convert ${this.toString()} to text${this.positionSuffix}.`);return(new TextDecoder).decode(this.atom)}toSource(t=!0){if(!this.isAtom){let e="(";if(t&&this.first.isAtom){const n=this.first.toBigInt(),r=Object.keys(a).find((t=>a[t]===n));e+=r||this.first.toSource(t)}else e+=this.first.toSource(t);let n=this.cons[1];for(;n.isCons;)e+=` ${n.first.toSource(t)}`,n=n.cons[1];return e+=(n.isNull?"":` . ${n.toSource(t)}`)+")",e}if(this.isNull)return"()";if(!(this.value.length>2))return(0,r.bytesEqual)((0,r.encodeInt)((0,r.decodeInt)(this.atom)),this.atom)?(0,r.decodeInt)(this.atom).toString():`0x${this.toHex()}`;try{const t=this.toText();for(let n=0;n<t.length;n++)if(!"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\"#$%&'()*+,-./:;<=>?@[]^_`{|}~ \t\n\n\v\f".includes(t[n]))return`0x${this.toHex()}`;if(t.includes('"')&&t.includes("'"))return`0x${this.toHex()}`;const e=t.includes('"')?"'":'"';return e+t+e}catch{return`0x${this.toHex()}`}}toList(t=!1){const e=[];let n=this;for(;n.isCons;){const t=n.first;e.push(t),n=n.rest}if(!n.isNull&&t)throw new Error(`Expected strict list${this.positionSuffix}.`);return e}serialize(){if(this.isAtom){if(this.isNull)return Uint8Array.from([128]);if(1===this.atom.length&&this.atom[0]<=127)return this.atom;{const t=this.atom.length,e=[];if(t<64)e.push(128|t);else if(t<8192)e.push(192|t>>8),e.push(t>>0&255);else if(t<1048576)e.push(224|t>>16),e.push(t>>8&255),e.push(t>>0&255);else if(t<134217728)e.push(240|t>>24),e.push(t>>16&255),e.push(t>>8&255),e.push(t>>0&255);else{if(!(t<17179869184))throw new RangeError(`Cannot serialize ${this.toString()} as it is 17,179,869,184 or more bytes in size${this.positionSuffix}.`);e.push(248|t>>32),e.push(t>>24&255),e.push(t>>16&255),e.push(t>>8&255),e.push(t>>0&255)}for(const n of this.atom)e.push(n);return Uint8Array.from(e)}}{const t=[255];for(const e of this.first.serialize())t.push(e);for(const e of this.rest.serialize())t.push(e);return Uint8Array.from(t)}}serializeHex(){return(0,r.toHex)(this.serialize())}equals(t){return this.isAtom===t.isAtom&&(this.isAtom?(0,r.bytesEqual)(this.atom,t.atom):this.first.equals(t.first)&&this.rest.equals(t.rest))}toString(){return this.toSource()}}var wt,yt;wt=t.exports,yt=i,Object.keys(yt).forEach((function(t){"default"===t||"__esModule"===t||wt.hasOwnProperty(t)||Object.defineProperty(wt,t,{enumerable:!0,get:function(){return yt[t]}})}))},1053:function(t){t.exports=function(){"use strict";var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e="ARRAYBUFFER not supported by this environment",n="UINT8ARRAY not supported by this environment";function r(t,e,n,r){var o,i,s,a=e||[0],f=(n=n||0)>>>3,u=-1===r?3:0;for(o=0;o<t.length;o+=1)i=(s=o+f)>>>2,a.length<=i&&a.push(0),a[i]|=t[o]<<8*(u+r*(s%4));return{value:a,binLen:8*t.length+n}}function o(o,i,s){switch(i){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(o){case"HEX":return function(t,e,n){return function(t,e,n,r){var o,i,s,a;if(0!=t.length%2)throw new Error("String of HEX type must be in byte increments");var f=e||[0],u=(n=n||0)>>>3,c=-1===r?3:0;for(o=0;o<t.length;o+=2){if(i=parseInt(t.substr(o,2),16),isNaN(i))throw new Error("String of HEX type contains invalid characters");for(s=(a=(o>>>1)+u)>>>2;f.length<=s;)f.push(0);f[s]|=i<<8*(c+r*(a%4))}return{value:f,binLen:4*t.length+n}}(t,e,n,s)};case"TEXT":return function(t,e,n){return function(t,e,n,r,o){var i,s,a,f,u,c,l,h,d=0,p=n||[0],m=(r=r||0)>>>3;if("UTF8"===e)for(l=-1===o?3:0,a=0;a<t.length;a+=1)for(s=[],128>(i=t.charCodeAt(a))?s.push(i):2048>i?(s.push(192|i>>>6),s.push(128|63&i)):55296>i||57344<=i?s.push(224|i>>>12,128|i>>>6&63,128|63&i):(a+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(a)),s.push(240|i>>>18,128|i>>>12&63,128|i>>>6&63,128|63&i)),f=0;f<s.length;f+=1){for(u=(c=d+m)>>>2;p.length<=u;)p.push(0);p[u]|=s[f]<<8*(l+o*(c%4)),d+=1}else for(l=-1===o?2:0,h="UTF16LE"===e&&1!==o||"UTF16LE"!==e&&1===o,a=0;a<t.length;a+=1){for(i=t.charCodeAt(a),!0===h&&(i=(f=255&i)<<8|i>>>8),u=(c=d+m)>>>2;p.length<=u;)p.push(0);p[u]|=i<<8*(l+o*(c%4)),d+=2}return{value:p,binLen:8*d+r}}(t,i,e,n,s)};case"B64":return function(e,n,r){return function(e,n,r,o){var i,s,a,f,u,c,l=0,h=n||[0],d=(r=r||0)>>>3,p=-1===o?3:0,m=e.indexOf("=");if(-1===e.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(e=e.replace(/=/g,""),-1!==m&&m<e.length)throw new Error("Invalid '=' found in base-64 string");for(i=0;i<e.length;i+=4){for(f=e.substr(i,4),a=0,s=0;s<f.length;s+=1)a|=t.indexOf(f.charAt(s))<<18-6*s;for(s=0;s<f.length-1;s+=1){for(u=(c=l+d)>>>2;h.length<=u;)h.push(0);h[u]|=(a>>>16-8*s&255)<<8*(p+o*(c%4)),l+=1}}return{value:h,binLen:8*l+r}}(e,n,r,s)};case"BYTES":return function(t,e,n){return function(t,e,n,r){var o,i,s,a,f=e||[0],u=(n=n||0)>>>3,c=-1===r?3:0;for(i=0;i<t.length;i+=1)o=t.charCodeAt(i),s=(a=i+u)>>>2,f.length<=s&&f.push(0),f[s]|=o<<8*(c+r*(a%4));return{value:f,binLen:8*t.length+n}}(t,e,n,s)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error(e)}return function(t,e,n){return function(t,e,n,o){return r(new Uint8Array(t),e,n,o)}(t,e,n,s)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error(n)}return function(t,e,n){return r(t,e,n,s)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function i(r,o,i,s){switch(r){case"HEX":return function(t){return function(t,e,n,r){var o,i,s="0123456789abcdef",a="",f=e/8,u=-1===n?3:0;for(o=0;o<f;o+=1)i=t[o>>>2]>>>8*(u+n*(o%4)),a+=s.charAt(i>>>4&15)+s.charAt(15&i);return r.outputUpper?a.toUpperCase():a}(t,o,i,s)};case"B64":return function(e){return function(e,n,r,o){var i,s,a,f,u,c="",l=n/8,h=-1===r?3:0;for(i=0;i<l;i+=3)for(f=i+1<l?e[i+1>>>2]:0,u=i+2<l?e[i+2>>>2]:0,a=(e[i>>>2]>>>8*(h+r*(i%4))&255)<<16|(f>>>8*(h+r*((i+1)%4))&255)<<8|u>>>8*(h+r*((i+2)%4))&255,s=0;s<4;s+=1)c+=8*i+6*s<=n?t.charAt(a>>>6*(3-s)&63):o.b64Pad;return c}(e,o,i,s)};case"BYTES":return function(t){return function(t,e,n){var r,o,i="",s=e/8,a=-1===n?3:0;for(r=0;r<s;r+=1)o=t[r>>>2]>>>8*(a+n*(r%4))&255,i+=String.fromCharCode(o);return i}(t,o,i)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error(e)}return function(t){return function(t,e,n){var r,o=e/8,i=new ArrayBuffer(o),s=new Uint8Array(i),a=-1===n?3:0;for(r=0;r<o;r+=1)s[r]=t[r>>>2]>>>8*(a+n*(r%4))&255;return i}(t,o,i)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error(n)}return function(t){return function(t,e,n){var r,o=e/8,i=-1===n?3:0,s=new Uint8Array(o);for(r=0;r<o;r+=1)s[r]=t[r>>>2]>>>8*(i+n*(r%4))&255;return s}(t,o,i)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}var s=4294967296,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],u=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c="Chosen SHA variant is not supported",l="Cannot set numRounds with MAC";function h(t,e){var n,r,o=t.binLen>>>3,i=e.binLen>>>3,s=o<<3,a=4-o<<3;if(o%4!=0){for(n=0;n<i;n+=4)r=o+n>>>2,t.value[r]|=e.value[n>>>2]<<s,t.value.push(0),t.value[r+1]|=e.value[n>>>2]>>>a;return(t.value.length<<2)-4>=i+o&&t.value.pop(),{value:t.value,binLen:t.binLen+e.binLen}}return{value:t.value.concat(e.value),binLen:t.binLen+e.binLen}}function d(t){var e={outputUpper:!1,b64Pad:"=",outputLen:-1},n=t||{},r="Output length must be a multiple of 8";if(e.outputUpper=n.outputUpper||!1,n.b64Pad&&(e.b64Pad=n.b64Pad),n.outputLen){if(n.outputLen%8!=0)throw new Error(r);e.outputLen=n.outputLen}else if(n.shakeLen){if(n.shakeLen%8!=0)throw new Error(r);e.outputLen=n.shakeLen}if("boolean"!=typeof e.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof e.b64Pad)throw new Error("Invalid b64Pad formatting option");return e}function p(t,e,n,r){var i=t+" must include a value and format";if(!e){if(!r)throw new Error(i);return r}if(void 0===e.value||!e.format)throw new Error(i);return o(e.format,e.encoding||"UTF8",n)(e.value)}var m=function(){function t(t,e,n){var r=n||{};if(this.t=e,this.i=r.encoding||"UTF8",this.numRounds=r.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=t,this.u=[],this.h=0,this.v=!1,this.A=0,this.l=!1,this.S=[],this.H=[]}return t.prototype.update=function(t){var e,n=0,r=this.p>>>5,o=this.m(t,this.u,this.h),i=o.binLen,s=o.value,a=i>>>5;for(e=0;e<a;e+=r)n+this.p<=i&&(this.U=this.R(s.slice(e,e+r),this.U),n+=this.p);return this.A+=n,this.u=s.slice(n>>>5),this.h=i%this.p,this.v=!0,this},t.prototype.getHash=function(t,e){var n,r,o=this.T,s=d(e);if(this.C){if(-1===s.outputLen)throw new Error("Output length must be specified in options");o=s.outputLen}var a=i(t,o,this.F,s);if(this.l&&this.K)return a(this.K(s));for(r=this.g(this.u.slice(),this.h,this.A,this.L(this.U),o),n=1;n<this.numRounds;n+=1)this.C&&o%32!=0&&(r[r.length-1]&=16777215>>>24-o%32),r=this.g(r,o,0,this.B(this.o),o);return a(r)},t.prototype.setHMACKey=function(t,e,n){if(!this.k)throw new Error("Variant does not support HMAC");if(this.v)throw new Error("Cannot set MAC key after calling update");var r=o(e,(n||{}).encoding||"UTF8",this.F);this.Y(r(t))},t.prototype.Y=function(t){var e,n=this.p>>>3,r=n/4-1;if(1!==this.numRounds)throw new Error(l);if(this.l)throw new Error("MAC key already set");for(n<t.binLen/8&&(t.value=this.g(t.value,t.binLen,0,this.B(this.o),this.T));t.value.length<=r;)t.value.push(0);for(e=0;e<=r;e+=1)this.S[e]=909522486^t.value[e],this.H[e]=1549556828^t.value[e];this.U=this.R(this.S,this.U),this.A=this.p,this.l=!0},t.prototype.getHMAC=function(t,e){var n=d(e);return i(t,this.T,this.F,n)(this.N())},t.prototype.N=function(){var t;if(!this.l)throw new Error("Cannot call getHMAC without first setting MAC key");var e=this.g(this.u.slice(),this.h,this.A,this.L(this.U),this.T);return t=this.R(this.H,this.B(this.o)),this.g(e,this.T,this.p,t,this.T)},t}(),w=function(t,e){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},w(t,e)};function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function g(t,e){return t<<e|t>>>32-e}function b(t,e){return t>>>e|t<<32-e}function v(t,e){return t>>>e}function x(t,e,n){return t^e^n}function B(t,e,n){return t&e^~t&n}function S(t,e,n){return t&e^t&n^e&n}function I(t){return b(t,2)^b(t,13)^b(t,22)}function A(t,e){var n=(65535&t)+(65535&e);return(65535&(t>>>16)+(e>>>16)+(n>>>16))<<16|65535&n}function E(t,e,n,r){var o=(65535&t)+(65535&e)+(65535&n)+(65535&r);return(65535&(t>>>16)+(e>>>16)+(n>>>16)+(r>>>16)+(o>>>16))<<16|65535&o}function q(t,e,n,r,o){var i=(65535&t)+(65535&e)+(65535&n)+(65535&r)+(65535&o);return(65535&(t>>>16)+(e>>>16)+(n>>>16)+(r>>>16)+(o>>>16)+(i>>>16))<<16|65535&i}function C(t){return b(t,7)^b(t,18)^v(t,3)}function P(t){return b(t,6)^b(t,11)^b(t,25)}function k(t){return[1732584193,4023233417,2562383102,271733878,3285377520]}function L(t,e){var n,r,o,i,s,a,f,u=[];for(n=e[0],r=e[1],o=e[2],i=e[3],s=e[4],f=0;f<80;f+=1)u[f]=f<16?t[f]:g(u[f-3]^u[f-8]^u[f-14]^u[f-16],1),a=f<20?q(g(n,5),B(r,o,i),s,1518500249,u[f]):f<40?q(g(n,5),x(r,o,i),s,1859775393,u[f]):f<60?q(g(n,5),S(r,o,i),s,2400959708,u[f]):q(g(n,5),x(r,o,i),s,3395469782,u[f]),s=i,i=o,o=g(r,30),r=n,n=a;return e[0]=A(n,e[0]),e[1]=A(r,e[1]),e[2]=A(o,e[2]),e[3]=A(i,e[3]),e[4]=A(s,e[4]),e}function _(t,e,n,r){for(var o,i=15+(e+65>>>9<<4),a=e+n;t.length<=i;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[i]=4294967295&a,t[i-1]=a/s|0,o=0;o<t.length;o+=16)r=L(t.slice(o,o+16),r);return r}"function"==typeof SuppressedError&&SuppressedError;var T=function(t){function e(e,n,r){var i=this;if("SHA-1"!==e)throw new Error(c);var s=r||{};return(i=t.call(this,e,n,r)||this).k=!0,i.K=i.N,i.F=-1,i.m=o(i.t,i.i,i.F),i.R=L,i.L=function(t){return t.slice()},i.B=k,i.g=_,i.U=[1732584193,4023233417,2562383102,271733878,3285377520],i.p=512,i.T=160,i.C=!1,s.hmacKey&&i.Y(p("hmacKey",s.hmacKey,i.F)),i}return y(e,t),e}(m);function O(t){return"SHA-224"==t?f.slice():u.slice()}function U(t,e){var n,r,o,i,s,f,u,c,l,h,d,p,m=[];for(n=e[0],r=e[1],o=e[2],i=e[3],s=e[4],f=e[5],u=e[6],c=e[7],d=0;d<64;d+=1)m[d]=d<16?t[d]:E(b(p=m[d-2],17)^b(p,19)^v(p,10),m[d-7],C(m[d-15]),m[d-16]),l=q(c,P(s),B(s,f,u),a[d],m[d]),h=A(I(n),S(n,r,o)),c=u,u=f,f=s,s=A(i,l),i=o,o=r,r=n,n=A(l,h);return e[0]=A(n,e[0]),e[1]=A(r,e[1]),e[2]=A(o,e[2]),e[3]=A(i,e[3]),e[4]=A(s,e[4]),e[5]=A(f,e[5]),e[6]=A(u,e[6]),e[7]=A(c,e[7]),e}var M=function(t){function e(e,n,r){var i=this;if("SHA-224"!==e&&"SHA-256"!==e)throw new Error(c);var a=r||{};return(i=t.call(this,e,n,r)||this).K=i.N,i.k=!0,i.F=-1,i.m=o(i.t,i.i,i.F),i.R=U,i.L=function(t){return t.slice()},i.B=O,i.g=function(t,n,r,o){return function(t,e,n,r,o){for(var i,a=15+(e+65>>>9<<4),f=e+n;t.length<=a;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[a]=4294967295&f,t[a-1]=f/s|0,i=0;i<t.length;i+=16)r=U(t.slice(i,i+16),r);return"SHA-224"===o?[r[0],r[1],r[2],r[3],r[4],r[5],r[6]]:r}(t,n,r,o,e)},i.U=O(e),i.p=512,i.T="SHA-224"===e?224:256,i.C=!1,a.hmacKey&&i.Y(p("hmacKey",a.hmacKey,i.F)),i}return y(e,t),e}(m),$=function(t,e){this.I=t,this.M=e};function z(t,e){var n;return e>32?(n=64-e,new $(t.M<<e|t.I>>>n,t.I<<e|t.M>>>n)):0!==e?(n=32-e,new $(t.I<<e|t.M>>>n,t.M<<e|t.I>>>n)):t}function H(t,e){var n;return e<32?(n=32-e,new $(t.I>>>e|t.M<<n,t.M>>>e|t.I<<n)):(n=64-e,new $(t.M>>>e|t.I<<n,t.I>>>e|t.M<<n))}function N(t,e){return new $(t.I>>>e,t.M>>>e|t.I<<32-e)}function R(t,e,n){return new $(t.I&e.I^~t.I&n.I,t.M&e.M^~t.M&n.M)}function K(t,e,n){return new $(t.I&e.I^t.I&n.I^e.I&n.I,t.M&e.M^t.M&n.M^e.M&n.M)}function j(t){var e=H(t,28),n=H(t,34),r=H(t,39);return new $(e.I^n.I^r.I,e.M^n.M^r.M)}function F(t,e){var n,r;n=(65535&t.M)+(65535&e.M);var o=(65535&(r=(t.M>>>16)+(e.M>>>16)+(n>>>16)))<<16|65535&n;return n=(65535&t.I)+(65535&e.I)+(r>>>16),r=(t.I>>>16)+(e.I>>>16)+(n>>>16),new $((65535&r)<<16|65535&n,o)}function Q(t,e,n,r){var o,i;o=(65535&t.M)+(65535&e.M)+(65535&n.M)+(65535&r.M);var s=(65535&(i=(t.M>>>16)+(e.M>>>16)+(n.M>>>16)+(r.M>>>16)+(o>>>16)))<<16|65535&o;return o=(65535&t.I)+(65535&e.I)+(65535&n.I)+(65535&r.I)+(i>>>16),i=(t.I>>>16)+(e.I>>>16)+(n.I>>>16)+(r.I>>>16)+(o>>>16),new $((65535&i)<<16|65535&o,s)}function D(t,e,n,r,o){var i,s;i=(65535&t.M)+(65535&e.M)+(65535&n.M)+(65535&r.M)+(65535&o.M);var a=(65535&(s=(t.M>>>16)+(e.M>>>16)+(n.M>>>16)+(r.M>>>16)+(o.M>>>16)+(i>>>16)))<<16|65535&i;return i=(65535&t.I)+(65535&e.I)+(65535&n.I)+(65535&r.I)+(65535&o.I)+(s>>>16),s=(t.I>>>16)+(e.I>>>16)+(n.I>>>16)+(r.I>>>16)+(o.I>>>16)+(i>>>16),new $((65535&s)<<16|65535&i,a)}function G(t,e){return new $(t.I^e.I,t.M^e.M)}function Y(t){var e=H(t,1),n=H(t,8),r=N(t,7);return new $(e.I^n.I^r.I,e.M^n.M^r.M)}function W(t){var e=H(t,14),n=H(t,18),r=H(t,41);return new $(e.I^n.I^r.I,e.M^n.M^r.M)}var J=[new $(a[0],3609767458),new $(a[1],602891725),new $(a[2],3964484399),new $(a[3],2173295548),new $(a[4],4081628472),new $(a[5],3053834265),new $(a[6],2937671579),new $(a[7],3664609560),new $(a[8],2734883394),new $(a[9],1164996542),new $(a[10],1323610764),new $(a[11],3590304994),new $(a[12],4068182383),new $(a[13],991336113),new $(a[14],633803317),new $(a[15],3479774868),new $(a[16],2666613458),new $(a[17],944711139),new $(a[18],2341262773),new $(a[19],2007800933),new $(a[20],1495990901),new $(a[21],1856431235),new $(a[22],3175218132),new $(a[23],2198950837),new $(a[24],3999719339),new $(a[25],766784016),new $(a[26],2566594879),new $(a[27],3203337956),new $(a[28],1034457026),new $(a[29],2466948901),new $(a[30],3758326383),new $(a[31],168717936),new $(a[32],1188179964),new $(a[33],1546045734),new $(a[34],1522805485),new $(a[35],2643833823),new $(a[36],2343527390),new $(a[37],1014477480),new $(a[38],1206759142),new $(a[39],344077627),new $(a[40],1290863460),new $(a[41],3158454273),new $(a[42],3505952657),new $(a[43],106217008),new $(a[44],3606008344),new $(a[45],1432725776),new $(a[46],1467031594),new $(a[47],851169720),new $(a[48],3100823752),new $(a[49],1363258195),new $(a[50],3750685593),new $(a[51],3785050280),new $(a[52],3318307427),new $(a[53],3812723403),new $(a[54],2003034995),new $(a[55],3602036899),new $(a[56],1575990012),new $(a[57],1125592928),new $(a[58],2716904306),new $(a[59],442776044),new $(a[60],593698344),new $(a[61],3733110249),new $(a[62],2999351573),new $(a[63],3815920427),new $(3391569614,3928383900),new $(3515267271,566280711),new $(3940187606,3454069534),new $(4118630271,4000239992),new $(116418474,1914138554),new $(174292421,2731055270),new $(289380356,3203993006),new $(460393269,320620315),new $(685471733,587496836),new $(852142971,1086792851),new $(1017036298,365543100),new $(1126000580,2618297676),new $(1288033470,3409855158),new $(1501505948,4234509866),new $(1607167915,987167468),new $(1816402316,1246189591)];function V(t){return"SHA-384"===t?[new $(3418070365,f[0]),new $(1654270250,f[1]),new $(2438529370,f[2]),new $(355462360,f[3]),new $(1731405415,f[4]),new $(41048885895,f[5]),new $(3675008525,f[6]),new $(1203062813,f[7])]:[new $(u[0],4089235720),new $(u[1],2227873595),new $(u[2],4271175723),new $(u[3],1595750129),new $(u[4],2917565137),new $(u[5],725511199),new $(u[6],4215389547),new $(u[7],327033209)]}function X(t,e){var n,r,o,i,s,a,f,u,c,l,h,d,p,m,w,y,g=[];for(n=e[0],r=e[1],o=e[2],i=e[3],s=e[4],a=e[5],f=e[6],u=e[7],h=0;h<80;h+=1)h<16?(d=2*h,g[h]=new $(t[d],t[d+1])):g[h]=Q((m=void 0,w=void 0,y=void 0,m=H(p=g[h-2],19),w=H(p,61),y=N(p,6),new $(m.I^w.I^y.I,m.M^w.M^y.M)),g[h-7],Y(g[h-15]),g[h-16]),c=D(u,W(s),R(s,a,f),J[h],g[h]),l=F(j(n),K(n,r,o)),u=f,f=a,a=s,s=F(i,c),i=o,o=r,r=n,n=F(c,l);return e[0]=F(n,e[0]),e[1]=F(r,e[1]),e[2]=F(o,e[2]),e[3]=F(i,e[3]),e[4]=F(s,e[4]),e[5]=F(a,e[5]),e[6]=F(f,e[6]),e[7]=F(u,e[7]),e}var Z=function(t){function e(e,n,r){var i=this;if("SHA-384"!==e&&"SHA-512"!==e)throw new Error(c);var a=r||{};return(i=t.call(this,e,n,r)||this).K=i.N,i.k=!0,i.F=-1,i.m=o(i.t,i.i,i.F),i.R=X,i.L=function(t){return t.slice()},i.B=V,i.g=function(t,n,r,o){return function(t,e,n,r,o){for(var i,a=31+(e+129>>>10<<5),f=e+n;t.length<=a;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[a]=4294967295&f,t[a-1]=f/s|0,i=0;i<t.length;i+=32)r=X(t.slice(i,i+32),r);return"SHA-384"===o?[r[0].I,r[0].M,r[1].I,r[1].M,r[2].I,r[2].M,r[3].I,r[3].M,r[4].I,r[4].M,r[5].I,r[5].M]:[r[0].I,r[0].M,r[1].I,r[1].M,r[2].I,r[2].M,r[3].I,r[3].M,r[4].I,r[4].M,r[5].I,r[5].M,r[6].I,r[6].M,r[7].I,r[7].M]}(t,n,r,o,e)},i.U=V(e),i.p=1024,i.T="SHA-384"===e?384:512,i.C=!1,a.hmacKey&&i.Y(p("hmacKey",a.hmacKey,i.F)),i}return y(e,t),e}(m),tt=[new $(0,1),new $(0,32898),new $(2147483648,32906),new $(2147483648,2147516416),new $(0,32907),new $(0,2147483649),new $(2147483648,2147516545),new $(2147483648,32777),new $(0,138),new $(0,136),new $(0,2147516425),new $(0,2147483658),new $(0,2147516555),new $(2147483648,139),new $(2147483648,32905),new $(2147483648,32771),new $(2147483648,32770),new $(2147483648,128),new $(0,32778),new $(2147483648,2147483658),new $(2147483648,2147516545),new $(2147483648,32896),new $(0,2147483649),new $(2147483648,2147516424)],et=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function nt(t){var e,n=[];for(e=0;e<5;e+=1)n[e]=[new $(0,0),new $(0,0),new $(0,0),new $(0,0),new $(0,0)];return n}function rt(t){var e,n=[];for(e=0;e<5;e+=1)n[e]=t[e].slice();return n}function ot(t,e){var n,r,o,i,s,a,f,u,c,l=[],h=[];if(null!==t)for(r=0;r<t.length;r+=2)e[(r>>>1)%5][(r>>>1)/5|0]=G(e[(r>>>1)%5][(r>>>1)/5|0],new $(t[r+1],t[r]));for(n=0;n<24;n+=1){for(i=nt(),r=0;r<5;r+=1)l[r]=(s=e[r][0],a=e[r][1],f=e[r][2],u=e[r][3],c=e[r][4],new $(s.I^a.I^f.I^u.I^c.I,s.M^a.M^f.M^u.M^c.M));for(r=0;r<5;r+=1)h[r]=G(l[(r+4)%5],z(l[(r+1)%5],1));for(r=0;r<5;r+=1)for(o=0;o<5;o+=1)e[r][o]=G(e[r][o],h[r]);for(r=0;r<5;r+=1)for(o=0;o<5;o+=1)i[o][(2*r+3*o)%5]=z(e[r][o],et[r][o]);for(r=0;r<5;r+=1)for(o=0;o<5;o+=1)e[r][o]=G(i[r][o],new $(~i[(r+1)%5][o].I&i[(r+2)%5][o].I,~i[(r+1)%5][o].M&i[(r+2)%5][o].M));e[0][0]=G(e[0][0],tt[n])}return e}function it(t){var e,n,r=0,o=[0,0],i=[4294967295&t,t/s&2097151];for(e=6;e>=0;e--)0==(n=i[e>>2]>>>8*e&255)&&0===r||(o[r+1>>2]|=n<<8*(r+1),r+=1);return r=0!==r?r:1,o[0]|=r,{value:r+1>4?o:[o[0]],binLen:8+8*r}}function st(t){return h(it(t.binLen),t)}function at(t,e){var n,r=it(e),o=e>>>2,i=(o-(r=h(r,t)).value.length%o)%o;for(n=0;n<i;n++)r.value.push(0);return r.value}var ft=function(t){function e(e,n,r){var i=this,s=6,a=0,f=r||{};if(1!==(i=t.call(this,e,n,r)||this).numRounds){if(f.kmacKey||f.hmacKey)throw new Error(l);if("CSHAKE128"===i.o||"CSHAKE256"===i.o)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(i.F=1,i.m=o(i.t,i.i,i.F),i.R=ot,i.L=rt,i.B=nt,i.U=nt(),i.C=!1,e){case"SHA3-224":i.p=a=1152,i.T=224,i.k=!0,i.K=i.N;break;case"SHA3-256":i.p=a=1088,i.T=256,i.k=!0,i.K=i.N;break;case"SHA3-384":i.p=a=832,i.T=384,i.k=!0,i.K=i.N;break;case"SHA3-512":i.p=a=576,i.T=512,i.k=!0,i.K=i.N;break;case"SHAKE128":s=31,i.p=a=1344,i.T=-1,i.C=!0,i.k=!1,i.K=null;break;case"SHAKE256":s=31,i.p=a=1088,i.T=-1,i.C=!0,i.k=!1,i.K=null;break;case"KMAC128":s=4,i.p=a=1344,i.X(r),i.T=-1,i.C=!0,i.k=!1,i.K=i.O;break;case"KMAC256":s=4,i.p=a=1088,i.X(r),i.T=-1,i.C=!0,i.k=!1,i.K=i.O;break;case"CSHAKE128":i.p=a=1344,s=i.j(r),i.T=-1,i.C=!0,i.k=!1,i.K=null;break;case"CSHAKE256":i.p=a=1088,s=i.j(r),i.T=-1,i.C=!0,i.k=!1,i.K=null;break;default:throw new Error(c)}return i.g=function(t,e,n,r,o){return function(t,e,n,r,o,i,s){var a,f,u=0,c=[],l=o>>>5,h=e>>>5;for(a=0;a<h&&e>=o;a+=l)r=ot(t.slice(a,a+l),r),e-=o;for(t=t.slice(a),e%=o;t.length<l;)t.push(0);for(t[(a=e>>>3)>>2]^=i<<a%4*8,t[l-1]^=2147483648,r=ot(t,r);32*c.length<s&&(f=r[u%5][u/5|0],c.push(f.M),!(32*c.length>=s));)c.push(f.I),0==64*(u+=1)%o&&(ot(null,r),u=0);return c}(t,e,0,r,a,s,o)},f.hmacKey&&i.Y(p("hmacKey",f.hmacKey,i.F)),i}return y(e,t),e.prototype.j=function(t,e){var n=function(t){var e=t||{};return{funcName:p("funcName",e.funcName,1,{value:[],binLen:0}),customization:p("Customization",e.customization,1,{value:[],binLen:0})}}(t||{});e&&(n.funcName=e);var r=h(st(n.funcName),st(n.customization));if(0!==n.customization.binLen||0!==n.funcName.binLen){for(var o=at(r,this.p>>>3),i=0;i<o.length;i+=this.p>>>5)this.U=this.R(o.slice(i,i+(this.p>>>5)),this.U),this.A+=this.p;return 4}return 31},e.prototype.X=function(t){var e=function(t){var e=t||{};return{kmacKey:p("kmacKey",e.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:p("Customization",e.customization,1,{value:[],binLen:0})}}(t||{});this.j(t,e.funcName);for(var n=at(st(e.kmacKey),this.p>>>3),r=0;r<n.length;r+=this.p>>>5)this.U=this.R(n.slice(r,r+(this.p>>>5)),this.U),this.A+=this.p;this.l=!0},e.prototype.O=function(t){var e=h({value:this.u.slice(),binLen:this.h},function(t){var e,n,r=0,o=[0,0],i=[4294967295&t,t/s&2097151];for(e=6;e>=0;e--)0==(n=i[e>>2]>>>8*e&255)&&0===r||(o[r>>2]|=n<<8*r,r+=1);return o[(r=0!==r?r:1)>>2]|=r<<8*r,{value:r+1>4?o:[o[0]],binLen:8+8*r}}(t.outputLen));return this.g(e.value,e.binLen,this.A,this.L(this.U),t.outputLen)},e}(m);return function(){function t(t,e,n){if("SHA-1"==t)this._=new T(t,e,n);else if("SHA-224"==t||"SHA-256"==t)this._=new M(t,e,n);else if("SHA-384"==t||"SHA-512"==t)this._=new Z(t,e,n);else{if("SHA3-224"!=t&&"SHA3-256"!=t&&"SHA3-384"!=t&&"SHA3-512"!=t&&"SHAKE128"!=t&&"SHAKE256"!=t&&"CSHAKE128"!=t&&"CSHAKE256"!=t&&"KMAC128"!=t&&"KMAC256"!=t)throw new Error(c);this._=new ft(t,e,n)}}return t.prototype.update=function(t){return this._.update(t),this},t.prototype.getHash=function(t,e){return this._.getHash(t,e)},t.prototype.setHMACKey=function(t,e,n){this._.setHMACKey(t,e,n)},t.prototype.getHMAC=function(t,e){return this._.getHMAC(t,e)},t}()}()},3746:function(t,e,n){"use strict";n.d(e,{ZP:function(){return m},lG:function(){return s}});var r=n(7410),o={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","atrule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},i=n(7294),s={Prism:r.Z,theme:o};function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(){return f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f.apply(this,arguments)}var u=/\r\n|\r|\n/,c=function(t){0===t.length?t.push({types:["plain"],content:"\n",empty:!0}):1===t.length&&""===t[0].content&&(t[0].content="\n",t[0].empty=!0)},l=function(t,e){var n=t.length;return n>0&&t[n-1]===e?t:t.concat(e)},h=function(t,e){var n=t.plain,r=Object.create(null),o=t.styles.reduce((function(t,n){var r=n.languages,o=n.style;return r&&!r.includes(e)||n.types.forEach((function(e){var n=f({},t[e],o);t[e]=n})),t}),r);return o.root=n,o.plain=f({},n,{backgroundColor:null}),o};function d(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&-1===e.indexOf(r)&&(n[r]=t[r]);return n}var p=function(t){function e(){for(var e=this,n=[],r=arguments.length;r--;)n[r]=arguments[r];t.apply(this,n),a(this,"getThemeDict",(function(t){if(void 0!==e.themeDict&&t.theme===e.prevTheme&&t.language===e.prevLanguage)return e.themeDict;e.prevTheme=t.theme,e.prevLanguage=t.language;var n=t.theme?h(t.theme,t.language):void 0;return e.themeDict=n})),a(this,"getLineProps",(function(t){var n=t.key,r=t.className,o=t.style,i=f({},d(t,["key","className","style","line"]),{className:"token-line",style:void 0,key:void 0}),s=e.getThemeDict(e.props);return void 0!==s&&(i.style=s.plain),void 0!==o&&(i.style=void 0!==i.style?f({},i.style,o):o),void 0!==n&&(i.key=n),r&&(i.className+=" "+r),i})),a(this,"getStyleForToken",(function(t){var n=t.types,r=t.empty,o=n.length,i=e.getThemeDict(e.props);if(void 0!==i){if(1===o&&"plain"===n[0])return r?{display:"inline-block"}:void 0;if(1===o&&!r)return i[n[0]];var s=r?{display:"inline-block"}:{},a=n.map((function(t){return i[t]}));return Object.assign.apply(Object,[s].concat(a))}})),a(this,"getTokenProps",(function(t){var n=t.key,r=t.className,o=t.style,i=t.token,s=f({},d(t,["key","className","style","token"]),{className:"token "+i.types.join(" "),children:i.content,style:e.getStyleForToken(i),key:void 0});return void 0!==o&&(s.style=void 0!==s.style?f({},s.style,o):o),void 0!==n&&(s.key=n),r&&(s.className+=" "+r),s})),a(this,"tokenize",(function(t,e,n,r){var o={code:e,grammar:n,language:r,tokens:[]};t.hooks.run("before-tokenize",o);var i=o.tokens=t.tokenize(o.code,o.grammar,o.language);return t.hooks.run("after-tokenize",o),i}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.props,e=t.Prism,n=t.language,r=t.code,o=t.children,i=this.getThemeDict(this.props),s=e.languages[n];return o({tokens:function(t){for(var e=[[]],n=[t],r=[0],o=[t.length],i=0,s=0,a=[],f=[a];s>-1;){for(;(i=r[s]++)<o[s];){var h=void 0,d=e[s],p=n[s][i];if("string"==typeof p?(d=s>0?d:["plain"],h=p):(d=l(d,p.type),p.alias&&(d=l(d,p.alias)),h=p.content),"string"==typeof h){var m=h.split(u),w=m.length;a.push({types:d,content:m[0]});for(var y=1;y<w;y++)c(a),f.push(a=[]),a.push({types:d,content:m[y]})}else s++,e.push(d),n.push(h),r.push(0),o.push(h.length)}s--,e.pop(),n.pop(),r.pop(),o.pop()}return c(a),f}(void 0!==s?this.tokenize(e,r,s,n):[r]),className:"prism-code language-"+n,style:void 0!==i?i.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},e}(i.Component),m=p},5154:function(t,e,n){"use strict";n.d(e,{A0H:function(){return l},gmG:function(){return h}});var r=n(7294),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=r.createContext&&r.createContext(o),s=function(){return s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},s.apply(this,arguments)},a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};function f(t){return t&&t.map((function(t,e){return r.createElement(t.tag,s({key:e},t.attr),f(t.child))}))}function u(t){return function(e){return r.createElement(c,s({attr:s({},t.attr)},e),f(t.child))}}function c(t){var e=function(e){var n,o=t.attr,i=t.size,f=t.title,u=a(t,["attr","size","title"]),c=i||e.size||"1em";return e.className&&(n=e.className),t.className&&(n=(n?n+" ":"")+t.className),r.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,o,u,{className:n,style:s(s({color:t.color||e.color},e.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),f&&r.createElement("title",null,f),t.children)};return void 0!==i?r.createElement(i.Consumer,null,(function(t){return e(t)})):e(o)}function l(t){return u({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"}}]})(t)}function h(t){return u({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(t)}},460:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),f=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&s(e,t,n);return a(e,t),e},u=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};Object.defineProperty(e,"__esModule",{value:!0});var c=f(n(7294)),l=90,h=219,d=222,p=192,m=100,w="undefined"!=typeof window&&"navigator"in window&&/Win/i.test(navigator.platform),y="undefined"!=typeof window&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),g="npm__react-simple-code-editor__textarea",b="\n/**\n * Reset the text fill color so that placeholder is visible\n */\n.".concat(g,":empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  .").concat(g," {\n    color: transparent !important;\n  }\n\n  .").concat(g,"::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n"),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={capture:!0},e._recordCurrentState=function(){var t=e._input;if(t){var n=t.value,r=t.selectionStart,o=t.selectionEnd;e._recordChange({value:n,selectionStart:r,selectionEnd:o})}},e._getLines=function(t,e){return t.substring(0,e).split("\n")},e._recordChange=function(t,n){var r,o,s;void 0===n&&(n=!1);var a=e._history,f=a.stack,u=a.offset;if(f.length&&u>-1){e._history.stack=f.slice(0,u+1);var c=e._history.stack.length;if(c>m){var l=c-m;e._history.stack=f.slice(l,c),e._history.offset=Math.max(e._history.offset-l,0)}}var h=Date.now();if(n){var d=e._history.stack[e._history.offset];if(d&&h-d.timestamp<3e3){var p=/[^a-z0-9]([a-z0-9]+)$/i,w=null===(r=e._getLines(d.value,d.selectionStart).pop())||void 0===r?void 0:r.match(p),y=null===(o=e._getLines(t.value,t.selectionStart).pop())||void 0===o?void 0:o.match(p);if((null==w?void 0:w[1])&&(null===(s=null==y?void 0:y[1])||void 0===s?void 0:s.startsWith(w[1])))return void(e._history.stack[e._history.offset]=i(i({},t),{timestamp:h}))}}e._history.stack.push(i(i({},t),{timestamp:h})),e._history.offset++},e._updateInput=function(t){var n=e._input;n&&(n.value=t.value,n.selectionStart=t.selectionStart,n.selectionEnd=t.selectionEnd,e.props.onValueChange(t.value))},e._applyEdits=function(t){var n=e._input,r=e._history.stack[e._history.offset];r&&n&&(e._history.stack[e._history.offset]=i(i({},r),{selectionStart:n.selectionStart,selectionEnd:n.selectionEnd})),e._recordChange(t),e._updateInput(t)},e._undoEdit=function(){var t=e._history,n=t.stack,r=t.offset,o=n[r-1];o&&(e._updateInput(o),e._history.offset=Math.max(r-1,0))},e._redoEdit=function(){var t=e._history,n=t.stack,r=t.offset,o=n[r+1];o&&(e._updateInput(o),e._history.offset=Math.min(r+1,n.length-1))},e._handleKeyDown=function(t){var n=e.props,r=n.tabSize,o=n.insertSpaces,i=n.ignoreTabKey,s=n.onKeyDown;if(!s||(s(t),!t.defaultPrevented)){27===t.keyCode&&t.currentTarget.blur();var a=t.currentTarget,f=a.value,u=a.selectionStart,c=a.selectionEnd,m=(o?" ":"\t").repeat(r);if(9===t.keyCode&&!i&&e.state.capture)if(t.preventDefault(),t.shiftKey){var g=(B=e._getLines(f,u)).length-1,b=e._getLines(f,c).length-1,v=f.split("\n").map((function(t,e){return e>=g&&e<=b&&t.startsWith(m)?t.substring(m.length):t})).join("\n");if(f!==v){var x=B[g];e._applyEdits({value:v,selectionStart:(null==x?void 0:x.startsWith(m))?u-m.length:u,selectionEnd:c-(f.length-v.length)})}}else if(u!==c){var B,S=(B=e._getLines(f,u)).length-1,I=e._getLines(f,c).length-1;x=B[S];e._applyEdits({value:f.split("\n").map((function(t,e){return e>=S&&e<=I?m+t:t})).join("\n"),selectionStart:x&&/\S/.test(x)?u+m.length:u,selectionEnd:c+m.length*(I-S+1)})}else{var A=u+m.length;e._applyEdits({value:f.substring(0,u)+m+f.substring(c),selectionStart:A,selectionEnd:A})}else if(8===t.keyCode){var E=u!==c;if(f.substring(0,u).endsWith(m)&&!E){t.preventDefault();A=u-m.length;e._applyEdits({value:f.substring(0,u-m.length)+f.substring(c),selectionStart:A,selectionEnd:A})}}else if(13===t.keyCode){if(u===c){var q=e._getLines(f,u).pop(),C=null==q?void 0:q.match(/^\s+/);if(null==C?void 0:C[0]){t.preventDefault();var P="\n"+C[0];A=u+P.length;e._applyEdits({value:f.substring(0,u)+P+f.substring(c),selectionStart:A,selectionEnd:A})}}}else if(57===t.keyCode||t.keyCode===h||t.keyCode===d||t.keyCode===p){var k=void 0;57===t.keyCode&&t.shiftKey?k=["(",")"]:t.keyCode===h?k=t.shiftKey?["{","}"]:["[","]"]:t.keyCode===d?k=t.shiftKey?['"','"']:["'","'"]:t.keyCode!==p||t.shiftKey||(k=["`","`"]),u!==c&&k&&(t.preventDefault(),e._applyEdits({value:f.substring(0,u)+k[0]+f.substring(u,c)+k[1]+f.substring(c),selectionStart:u,selectionEnd:c+2}))}else!(y?t.metaKey&&t.keyCode===l:t.ctrlKey&&t.keyCode===l)||t.shiftKey||t.altKey?(y?t.metaKey&&t.keyCode===l&&t.shiftKey:w?t.ctrlKey&&89===t.keyCode:t.ctrlKey&&t.keyCode===l&&t.shiftKey)&&!t.altKey?(t.preventDefault(),e._redoEdit()):77!==t.keyCode||!t.ctrlKey||y&&!t.shiftKey||(t.preventDefault(),e.setState((function(t){return{capture:!t.capture}}))):(t.preventDefault(),e._undoEdit())}},e._handleChange=function(t){var n=t.currentTarget,r=n.value,o=n.selectionStart,i=n.selectionEnd;e._recordChange({value:r,selectionStart:o,selectionEnd:i},!0),e.props.onValueChange(r)},e._history={stack:[],offset:-1},e._input=null,e}return o(e,t),e.prototype.componentDidMount=function(){this._recordCurrentState()},Object.defineProperty(e.prototype,"session",{get:function(){return{history:this._history}},set:function(t){this._history=t.history},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this,e=this.props,n=e.value,r=e.style,o=e.padding,s=e.highlight,a=e.textareaId,f=e.textareaClassName,l=e.autoFocus,h=e.disabled,d=e.form,p=e.maxLength,m=e.minLength,w=e.name,y=e.placeholder,v=e.readOnly,B=e.required,S=e.onClick,I=e.onFocus,A=e.onBlur,E=e.onKeyUp,q=(e.onKeyDown,e.onValueChange,e.tabSize,e.insertSpaces,e.ignoreTabKey,e.preClassName),C=u(e,["value","style","padding","highlight","textareaId","textareaClassName","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey","preClassName"]),P={paddingTop:"object"==typeof o?o.top:o,paddingRight:"object"==typeof o?o.right:o,paddingBottom:"object"==typeof o?o.bottom:o,paddingLeft:"object"==typeof o?o.left:o},k=s(n);return c.createElement("div",i({},C,{style:i(i({},x.container),r)}),c.createElement("pre",i({className:q,"aria-hidden":"true",style:i(i(i({},x.editor),x.highlight),P)},"string"==typeof k?{dangerouslySetInnerHTML:{__html:k+"<br />"}}:{children:k})),c.createElement("textarea",{ref:function(e){return t._input=e},style:i(i(i({},x.editor),x.textarea),P),className:g+(f?" ".concat(f):""),id:a,value:n,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:S,onKeyUp:E,onFocus:I,onBlur:A,disabled:h,form:d,maxLength:p,minLength:m,name:w,placeholder:y,readOnly:v,required:B,autoFocus:l,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),c.createElement("style",{dangerouslySetInnerHTML:{__html:b}}))},e.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},e}(c.Component);e.default=v;var x={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}}}}]);