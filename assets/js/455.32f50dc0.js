(self.webpackChunkchialisp_web=self.webpackChunkchialisp_web||[]).push([[455],{6241:(t,e,n)=>{var r=n(1053);function i(t,e){return Object.keys(e).forEach((function(n){"default"===n||"__esModule"===n||t.hasOwnProperty(n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})),t}function o(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}function s(t){return t&&t.__esModule?t.default:t}var a={},f={};o(f,"Field",(()=>u));class u{}var c={};o(c,"FieldExt",(()=>l));class l extends u{constructor(t,e){super(),this.Q=t,this.elements=e,this.basefield=e[0]}constructWithRoot(t,e){return this.construct(t,e).withRoot(this.root)}withRoot(t){return this.root=t,this}fromBytes(t,e){const n=48*this.extension;if(e.length!==n)throw new RangeError(`Expected ${n} bytes.`);const r=this.extension/this.elements.length*48,i=[];for(let o=0;o<this.elements.length;o++)i.push(e.slice(o*r,(o+1)*r));return new this.constructor(t,...i.reverse().map((e=>this.basefield.fromBytes(t,e))))}fromHex(t,e){return this.fromBytes(t,Wt(e))}fromFq(t,e){const n=this.basefield.fromFq(t,e),r=this.basefield.zero(t),i=[];for(let s=0;s<this.elements.length;s++)i.push(0===s?n:r);const o=this.construct(t,i);return this instanceof m?o.root=new d(t,-1n):this instanceof g?o.root=new m(t,d.nil.one(t),d.nil.one(t)):this instanceof b&&(o.root=new g(t,m.nil.zero(t),m.nil.one(t),m.nil.zero(t))),o}zero(t){return this.fromFq(t,new d(t,0n))}one(t){return this.fromFq(t,new d(t,1n))}clone(){return this.constructWithRoot(this.Q,this.elements.map((t=>t.clone())))}toBytes(){const t=[];for(let e=this.elements.length-1;e>=0;e--)t.push(...this.elements[e].toBytes());return Uint8Array.from(t)}toBool(){return-1===this.elements.findIndex((t=>!t.toBool()))}toHex(){return Yt(this.toBytes())}toString(){return`Fq${this.extension}(${this.elements.join(", ")})`}negate(){return this.constructWithRoot(this.Q,this.elements.map((t=>t.negate())))}qiPower(t){if(this.Q!=B)throw new yt("Invalid Q in qiPower.");return 0===(t=ke(t,this.extension))?this:this.constructWithRoot(this.Q,this.elements.map(((e,n)=>0===n?e.qiPower(t):e.qiPower(t).multiply(R(this.extension,t,n)))))}pow(t){xt(t>=0n);let e=this.one(this.Q).withRoot(this.root),n=this;for(;0n!=t;)1n&t&&(e=e.multiply(n)),n=n.multiply(n),t>>=1n;return e}addTo(t){let e;if(t instanceof l&&t instanceof this.constructor)e=t.elements;else{if("bigint"!=typeof t&&t.extension>this.extension)throw new yt("Operand must be higher than extension.");e=this.elements.map((()=>this.basefield.zero(this.Q))),e[0]=e[0].add(t)}return this.constructWithRoot(this.Q,this.elements.map(((t,n)=>t.add(e[n]))))}multiplyWith(t){if("bigint"==typeof t)return this.constructWithRoot(this.Q,this.elements.map((e=>e.multiply(t))));if(this.extension<t.extension)throw new yt("Extension must be lower than operand.");const e=this.elements.map((()=>this.basefield.zero(this.Q)));for(const[n,r]of this.elements.entries())if(t instanceof l&&t.extension===this.extension){for(const[i,o]of t.elements.entries())if(r.toBool()&&o.toBool()){const t=ke(n+i,this.elements.length);n+i>=this.elements.length?e[t]=e[t].add(r.multiply(o).multiply(this.root)):e[t]=e[t].add(r.multiply(o))}}else r.toBool()&&(e[n]=r.multiply(t));return this.constructWithRoot(this.Q,e)}subtract(t){return this.add("bigint"==typeof t?-t:t.negate())}divide(t){return this.multiply("bigint"==typeof t?~t:t.inverse())}equalTo(t){if(t instanceof l&&t instanceof this.constructor)return-1===this.elements.findIndex(((e,n)=>!e.equals(t.elements[n])))&&this.Q===t.Q;if("bigint"==typeof t||t instanceof l&&this.extension>t.extension){for(let t=1;t<this.elements.length;t++)if(!this.elements[t].equals(this.root.zero(this.Q)))return!1;return this.elements[0].equals(t)}throw new yt("Invalid operand.")}lt(t){for(let e=this.elements.length-1;e>=0;e--){const n=this.elements[e],r=t.elements[e];if(n.lt(r))return!0;if(n.gt(r))return!1}return!1}gt(t){for(let e=this.elements.length-1;e>=0;e--){const n=this.elements[e],r=t.elements[e];if(n.gt(r))return!0;if(n.lt(r))return!1}return!1}lteq(t){return this.lt(t)||this.equals(t)}gteq(t){return this.gt(t)||this.equals(t)}add(t){try{return this.addTo(t)}catch(e){if(!(e instanceof yt)||"bigint"==typeof t)throw e;return t.addTo(this)}}multiply(t){try{return this.multiplyWith(t)}catch(e){if(!(e instanceof yt)||"bigint"==typeof t)throw e;return t.multiplyWith(this)}}equals(t){try{return this.equalTo(t)}catch(e){if(!(e instanceof yt))throw e;return"bigint"!=typeof t&&t.equalTo(this)}}}var h={};o(h,"Fq",(()=>d));class d extends u{static nil=new d(1n,0n);constructor(t,e){super(),this.Q=t,this.extension=1,this.value=Pe(e,t)}fromBytes(t,e){if(48!==e.length)throw new RangeError("Expected 48 bytes.");return new d(t,Rt(e,"big"))}fromHex(t,e){return d.nil.fromBytes(t,Wt(e))}fromFq(t,e){return e}zero(t){return new d(t,0n)}one(t){return new d(t,1n)}clone(){return new d(this.Q,this.value)}toBytes(){return Nt(this.value,48,"big")}toBool(){return!0}toHex(){return Yt(this.toBytes())}toString(){const t=this.value.toString(16);return`Fq(0x${t.length>10?`${t.slice(0,5)}..${t.slice(t.length-5)}`:t})`}negate(){return new d(this.Q,-this.value)}inverse(){let t=1n,e=0n,n=0n,r=1n,i=this.Q,o=this.value;for(;0n!=i;){const s=o/i,a=o;o=i,i=Pe(a,i);const f=t;t=e,e=f-s*e;const u=n;n=r,r=u-s*r}return new d(this.Q,t)}qiPower(t){return this}pow(t){return 0n===t?new d(this.Q,1n):1n===t?new d(this.Q,this.value):0n===Pe(t,2n)?new d(this.Q,this.value*this.value).pow(t/2n):new d(this.Q,this.value*this.value).pow(t/2n).multiply(this)}addTo(t){if("bigint"==typeof t)return new d(this.Q,this.value+t);if(t instanceof d)return new d(this.Q,this.value+t.value);throw new yt("Can only add with Fq or bigint values.")}multiplyWith(t){if("bigint"==typeof t)return new d(this.Q,this.value*t);if(t instanceof d)return new d(this.Q,this.value*t.value);throw new yt("Can only multiply with Fq or bigint values.")}subtract(t){return this.add("bigint"==typeof t?-t:t.negate())}divide(t){return this.multiply(("bigint"==typeof t?new d(this.Q,t):t).inverse())}equalTo(t){return t instanceof d&&this.value===t.value&&this.Q===t.Q}lt(t){return this.value<t.value}gt(t){return this.value>t.value}lteq(t){return this.lt(t)||this.equals(t)}gteq(t){return this.gt(t)||this.equals(t)}modSqrt(){if(0n===this.value)return new d(this.Q,0n);if(1n!=_e(this.value,(this.Q-1n)/2n,this.Q))throw new Error("No sqrt exists.");if(3n===Pe(this.Q,4n))return new d(this.Q,_e(this.value,(this.Q+1n)/4n,this.Q));if(5n===Pe(this.Q,8n))return new d(this.Q,_e(this.value,(this.Q+3n)/8n,this.Q));let t=0n,e=this.Q-1n;for(;0n===Pe(e,2n);)e/=2n,t++;let n=0n;for(let a=0n;a<this.Q;a+=1n){if(_e(a,(this.Q-1n)/2n,this.Q)===Pe(-1n,this.Q)){n=a;break}}let r=t,i=_e(n,e,this.Q),o=_e(this.value,e,this.Q),s=_e(this.value,(e+1n)/2n,this.Q);for(;;){if(0n===o)return new d(this.Q,0n);if(1n===o)return new d(this.Q,s);let t=0n,e=o;for(;1n!=e;)e=Pe(e**2n,this.Q),t++;const n=_e(i,_e(2n,r-t-1n,this.Q),this.Q);r=t,i=Pe(n**2n,this.Q),o=Pe(o*i,this.Q),s=Pe(s*n,this.Q)}}add(t){try{return this.addTo(t)}catch(e){if(!(e instanceof yt)||"bigint"==typeof t)throw e;return t.addTo(this)}}multiply(t){try{return this.multiplyWith(t)}catch(e){if(!(e instanceof yt)||"bigint"==typeof t)throw e;return t.multiplyWith(this)}}equals(t){try{return this.equalTo(t)}catch(e){if(!(e instanceof yt))throw e;return"bigint"!=typeof t&&t.equalTo(this)}}}var p={};o(p,"Fq2",(()=>m));class m extends l{static nil=new m(1n,d.nil,d.nil);extension=2;constructor(t,e,n){super(t,[e,n]),this.root=new d(t,-1n)}construct(t,e){return new m(t,e[0],e[1])}inverse(){const[t,e]=this.elements,n=t.multiply(t).add(e.multiply(e)).inverse();return new m(this.Q,t.multiply(n),e.negate().multiply(n))}mulByNonResidue(){const[t,e]=this.elements;return new m(this.Q,t.subtract(e),t.add(e))}modSqrt(){const[t,e]=this.elements;if(e.equals(this.basefield.one(this.Q)))return this.fromFq(this.Q,t.modSqrt());let n=t.pow(2n).add(e.pow(2n)),r=n.pow((this.Q-1n)/2n);if(new d(this.Q,-1n).equals(r))throw new Error("No sqrt exists.");n=n.modSqrt();let i=t.add(n).multiply(new d(this.Q,2n).inverse());r=i.pow((this.Q-1n)/2n),r.equals(new d(this.Q,-1n))&&(i=t.subtract(n).multiply(new d(this.Q,2n).inverse()));const o=i.modSqrt(),s=e.multiply(new d(this.Q,2n).multiply(o).inverse());return new m(this.Q,o,s)}}var w={};o(w,"Fq6",(()=>g));class g extends l{static nil=new g(1n,m.nil,m.nil,m.nil);extension=6;constructor(t,e,n,r){super(t,[e,n,r]),this.root=new m(t,d.nil.one(t),d.nil.one(t))}construct(t,e){return new g(t,e[0],e[1],e[2])}inverse(){const[t,e,n]=this.elements,r=t.multiply(t).subtract(e.multiply(n.mulByNonResidue())),i=n.multiply(n).mulByNonResidue().subtract(t.multiply(e)),o=e.multiply(e).subtract(t.multiply(n)),s=r.multiply(t).add(i.multiply(n).add(o.multiply(e)).mulByNonResidue()).inverse();return new g(this.Q,r.multiply(s),i.multiply(s),o.multiply(s))}mulByNonResidue(){const[t,e,n]=this.elements;return new g(this.Q,n.multiply(this.root),t,e)}}var y={};o(y,"Fq12",(()=>b));class b extends l{static nil=new b(1n,g.nil,g.nil);extension=12;constructor(t,e,n){super(t,[e,n]),this.root=new g(t,m.nil.zero(t),m.nil.one(t),m.nil.zero(t))}construct(t,e){return new b(t,e[0],e[1])}inverse(){const[t,e]=this.elements,n=t.multiply(t).subtract(e.multiply(e).mulByNonResidue()).inverse();return new b(this.Q,t.multiply(n),e.negate().multiply(n))}}var v={};o(v,"x",(()=>x)),o(v,"q",(()=>B)),o(v,"a",(()=>S)),o(v,"b",(()=>I)),o(v,"aTwist",(()=>A)),o(v,"bTwist",(()=>E)),o(v,"gx",(()=>q)),o(v,"gy",(()=>C)),o(v,"g2x",(()=>L)),o(v,"g2y",(()=>_)),o(v,"n",(()=>P)),o(v,"h",(()=>k)),o(v,"hEff",(()=>T)),o(v,"k",(()=>U)),o(v,"sqrtN3",(()=>M)),o(v,"sqrtN3m1o2",(()=>$)),o(v,"defaultEc",(()=>H)),o(v,"defaultEcTwist",(()=>O));const x=-0xd201000000010000n,B=0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn,S=new d(B,0n),I=new d(B,4n),A=new m(B,new d(B,0n),new d(B,0n)),E=new m(B,new d(B,4n),new d(B,4n)),q=new d(B,0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bbn),C=new d(B,0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1n),L=new m(B,new d(B,352701069587466618187139116011060144890029952792775240219908644239793785735715026873347600343865175952761926303160n),new d(B,3059144344244213709971259814753781636986470325476647558659373206291635324768958432433509563104347017837885763365758n)),_=new m(B,new d(B,1985150602287291935568054521177171638300868978215655730859378665066344726373823718423869104263333984641494340347905n),new d(B,927553665492332455747201965776037880757740193453592970025027978793976877002675564980949289727957565575433344219582n)),P=0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001n,k=0x396c8c005555e1568c00aaab0000aaabn,T=0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551n,U=12n,M=1586958781458431025242759403266842894121773480562120986020912974854563298150952611241517463240701n,$=793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n,H={q:B,a:S,b:I,gx:q,gy:C,g2x:L,g2y:_,n:P,h:k,x:x,k:U,sqrtN3:M,sqrtN3m1o2:$},O={q:B,a:A,b:E,gx:q,gy:C,g2x:L,g2y:_,n:P,h:T,x:x,k:U,sqrtN3:M,sqrtN3m1o2:$};var z={};o(z,"frobCoeffs",(()=>N)),o(z,"getFrobCoeff",(()=>R));const N={"2,1,1":new d(B,-1n),"6,1,1":new m(B,new d(B,0n),new d(B,0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn)),"6,1,2":new m(B,new d(B,0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaadn),new d(B,0n)),"6,2,1":new m(B,new d(B,0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen),new d(B,0n)),"6,2,2":new m(B,new d(B,0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn),new d(B,0n)),"6,3,1":new m(B,new d(B,0n),new d(B,1n)),"6,3,2":new m(B,new d(B,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaan),new d(B,0n)),"6,4,1":new m(B,new d(B,0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn),new d(B,0n)),"6,4,2":new m(B,new d(B,0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen),new d(B,0n)),"6,5,1":new m(B,new d(B,0n),new d(B,0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen)),"6,5,2":new m(B,new d(B,0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffeffffn),new d(B,0n)),"12,1,1":new g(B,new m(B,new d(B,0x1904d3bf02bb0667c231beb4202c0d1f0fd603fd3cbd5f4f7b2443d784bab9c4f67ea53d63e7813d8d0775ed92235fb8n),new d(B,0xfc3e2b36c4e03288e9e902231f9fb854a14787b6c7b36fec0c8ec971f63c5f282d5ac14d6c7ec22cf78a126ddc4af3n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,2,1":new g(B,new m(B,new d(B,0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffeffffn),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,3,1":new g(B,new m(B,new d(B,0x135203e60180a68ee2e9c448d77a2cd91c3dedd930b1cf60ef396489f61eb45e304466cf3e67fa0af1ee7b04121bdea2n),new d(B,0x6af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,4,1":new g(B,new m(B,new d(B,0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,5,1":new g(B,new m(B,new d(B,0x144e4211384586c16bd3ad4afa99cc9170df3560e77982d0db45f3536814f0bd5871c1908bd478cd1ee605167ff82995n),new d(B,0x5b2cfd9013a5fd8df47fa6b48b1e045f39816240c0b8fee8beadf4d8e9c0566c63a3e6e257f87329b18fae980078116n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,6,1":new g(B,new m(B,new d(B,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaan),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,7,1":new g(B,new m(B,new d(B,0xfc3e2b36c4e03288e9e902231f9fb854a14787b6c7b36fec0c8ec971f63c5f282d5ac14d6c7ec22cf78a126ddc4af3n),new d(B,0x1904d3bf02bb0667c231beb4202c0d1f0fd603fd3cbd5f4f7b2443d784bab9c4f67ea53d63e7813d8d0775ed92235fb8n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,8,1":new g(B,new m(B,new d(B,0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,9,1":new g(B,new m(B,new d(B,0x6af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09n),new d(B,0x135203e60180a68ee2e9c448d77a2cd91c3dedd930b1cf60ef396489f61eb45e304466cf3e67fa0af1ee7b04121bdea2n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,10,1":new g(B,new m(B,new d(B,0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaadn),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n))),"12,11,1":new g(B,new m(B,new d(B,0x5b2cfd9013a5fd8df47fa6b48b1e045f39816240c0b8fee8beadf4d8e9c0566c63a3e6e257f87329b18fae980078116n),new d(B,0x144e4211384586c16bd3ad4afa99cc9170df3560e77982d0db45f3536814f0bd5871c1908bd478cd1ee605167ff82995n)),new m(B,new d(B,0n),new d(B,0n)),new m(B,new d(B,0n),new d(B,0n)))};function R(t,e,n){return N[`${t},${e},${n}`]}var K={};o(K,"sha256",(()=>F)),o(K,"sha512",(()=>Q));const F={byteSize:32,blockSize:64,convert:t=>{const e=new(s(r))("SHA-256","UINT8ARRAY");return e.update(t),e.getHash("UINT8ARRAY")}},Q={byteSize:64,blockSize:128,convert:t=>{const e=new(s(r))("SHA-512","UINT8ARRAY");return e.update(t),e.getHash("UINT8ARRAY")}};var j={};o(j,"xnum",(()=>G)),o(j,"xden",(()=>D)),o(j,"ynum",(()=>Y)),o(j,"yden",(()=>W));const G=[new m(B,new d(B,0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6n),new d(B,0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6n)),new m(B,new d(B,0n),new d(B,0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71an)),new m(B,new d(B,0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71en),new d(B,0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38dn)),new m(B,new d(B,0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1n),new d(B,0n))],D=[new m(B,new d(B,0n),new d(B,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63n)),new m(B,new d(B,0xcn),new d(B,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9fn)),new m(B,new d(B,1n),new d(B,0n))],Y=[new m(B,new d(B,0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706n),new d(B,0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706n)),new m(B,new d(B,0n),new d(B,0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97ben)),new m(B,new d(B,0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71cn),new d(B,0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38fn)),new m(B,new d(B,0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10n),new d(B,0n))],W=[new m(B,new d(B,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fbn),new d(B,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fbn)),new m(B,new d(B,0n),new d(B,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3n)),new m(B,new d(B,0x12n),new d(B,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99n)),new m(B,new d(B,1n),new d(B,0n))];var J={};o(J,"xi_2",(()=>V)),o(J,"Ell2p_a",(()=>X)),o(J,"Ell2p_b",(()=>Z)),o(J,"ev1",(()=>tt)),o(J,"ev2",(()=>et)),o(J,"ev3",(()=>nt)),o(J,"ev4",(()=>rt)),o(J,"etas",(()=>it));const V=new m(B,new d(B,-2n),new d(B,-1n)),X=new m(B,new d(B,0n),new d(B,240n)),Z=new m(B,new d(B,1012n),new d(B,1012n)),tt=0x699be3b8c6870965e5bf892ad5d2cc7b0e85a117402dfd83b7f4a947e02d978498255a2aaec0ac627b5afbdf1bf1c90n,et=0x8157cd83046453f5dd0972b6e3949e4288020b5b8a9cc99ca07e27089a2ce2436d965026adad3ef7baba37f2183e9b5n,nt=0xab1c2ffdd6c253ca155231eb3e71ba044fd562f6f72bc5bad5ec46a0b7a3b0247cf08ce6c6317f40edbc653a72dee17n,rt=0xaa404866706722864480885d68ad0ccac1967c7544b447873cc37e0181271e006df72162a3d3e0287bf597fbf7f8fc1n,it=[new m(B,new d(B,tt),new d(B,et)),new m(B,new d(B,B-et),new d(B,tt)),new m(B,new d(B,nt),new d(B,rt)),new m(B,new d(B,B-rt),new d(B,nt))];var ot={};o(ot,"rv1",(()=>st)),o(ot,"rootsOfUnity",(()=>at));const st=0x6af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09n,at=[new m(B,new d(B,1n),new d(B,0n)),new m(B,new d(B,0n),new d(B,1n)),new m(B,new d(B,st),new d(B,st)),new m(B,new d(B,st),new d(B,B-st))];var ft={};o(ft,"basicSchemeDst",(()=>ut)),o(ft,"augSchemeDst",(()=>ct)),o(ft,"popSchemeDst",(()=>lt)),o(ft,"popSchemePopDst",(()=>ht));const ut=(new TextEncoder).encode("BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_"),ct=(new TextEncoder).encode("BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_AUG_"),lt=(new TextEncoder).encode("BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_POP_"),ht=(new TextEncoder).encode("BLS_POP_BLS12381G2_XMD:SHA-256_SSWU_RO_POP_");var dt={};o(dt,"AffinePoint",(()=>pt));class pt{constructor(t,e,n,r=H){this.x=t,this.y=e,this.isInfinity=n,this.ec=r,xt(t instanceof e.constructor)}isOnCurve(){return this.isInfinity||this.y.multiply(this.y).equals(this.x.multiply(this.x).multiply(this.x).add(this.ec.a.multiply(this.x)).add(this.ec.b))}toJacobian(){return new wt(this.x,this.y,this.x.one(this.ec.q),this.isInfinity,this.ec)}twist(){const t=b.nil.one(this.ec.q),e=new b(this.ec.q,t.root,g.nil.zero(this.ec.q)),n=new b(this.ec.q,g.nil.zero(this.ec.q),t.root);return new pt(this.x.multiply(e),this.y.multiply(n),!1,this.ec)}untwist(){const t=b.nil.one(this.ec.q),e=new b(this.ec.q,t.root,g.nil.zero(this.ec.q)),n=new b(this.ec.q,g.nil.zero(this.ec.q),t.root);return new pt(this.x.divide(e),this.y.divide(n),!1,this.ec)}double(){const t=this.x.multiply(this.x).multiply(new d(this.ec.q,3n)).add(this.ec.a).divide(this.y.multiply(new d(this.ec.q,2n))),e=t.multiply(t).subtract(this.x).subtract(this.x),n=t.multiply(this.x.subtract(e)).subtract(this.y);return new pt(e,n,!1,this.ec)}add(t){if(xt(this.isOnCurve()),xt(t.isOnCurve()),this.isInfinity)return t;if(t.isInfinity)return this;if(this.equals(t))return this.double();const e=t.y.subtract(this.y).divide(t.x.subtract(this.x)),n=e.multiply(e).subtract(this.x).subtract(t.x),r=e.multiply(this.x.subtract(n)).subtract(this.y);return new pt(n,r,!1,this.ec)}subtract(t){return this.add(t.negate())}multiply(t){return Xt(t,this.toJacobian(),this.ec).toAffine()}negate(){return new pt(this.x,this.y.negate(),this.isInfinity,this.ec)}equals(t){return this.x.equals(t.x)&&this.y.equals(t.y)&&this.isInfinity===t.isInfinity}clone(){return new pt(this.x.clone(),this.y.clone(),this.isInfinity,this.ec)}toString(){return`AffinePoint(x=${this.x}, y=${this.y}, i=${this.isInfinity})`}}var mt={};o(mt,"JacobianPoint",(()=>wt));class wt{static fromBytes(t,e,n=H){const r=e?m:d;if(e){if(96!==t.length)throw new Error("Expected 96 bytes.")}else if(48!==t.length)throw new Error("Expected 48 bytes.");const i=224&t[0];if([32,96,224].includes(i))throw new Error("Invalid first three bits.");const o=0!=(64&i),s=0!=(32&i);if(!(0!=(128&i)))throw new Error("Compression bit must be 1.");if(t[0]&=31,o){for(const e of t)if(0!==e)throw new Error("Point at infinity, but found non-zero byte.");return new pt(r.nil.zero(n.q),r.nil.zero(n.q),!0,n).toJacobian()}const a=(e?m:d).nil.fromBytes(n.q,t),f=Vt(a,n),u=(e?ee(f,n):te(f,n))===s?f:f.negate();return new pt(a,u,!1,n).toJacobian()}static fromHex(t,e,n=H){return wt.fromBytes(Wt(t),e,n)}static generateG1(){return new pt(H.gx,H.gy,!1,H).toJacobian()}static generateG2(){return new pt(O.g2x,O.g2y,!1,O).toJacobian()}static infinityG1(t=!1){const e=t?m:d;return new wt(e.nil.zero(H.q),e.nil.zero(H.q),e.nil.zero(H.q),!0,H)}static infinityG2(t=!0){const e=t?m:d;return new wt(e.nil.zero(O.q),e.nil.zero(O.q),e.nil.zero(O.q),!0,O)}static fromBytesG1(t,e=!1){return wt.fromBytes(t,e,H)}static fromBytesG2(t,e=!0){return wt.fromBytes(t,e,O)}static fromHexG1(t,e=!1){return wt.fromBytesG1(Wt(t),e)}static fromHexG2(t,e=!0){return wt.fromBytesG2(Wt(t),e)}constructor(t,e,n,r,i=H){this.x=t,this.y=e,this.z=n,this.isInfinity=r,this.ec=i,xt(t instanceof e.constructor),xt(e instanceof n.constructor)}isOnCurve(){return this.isInfinity||this.toAffine().isOnCurve()}isValid(){return this.isOnCurve()&&this.multiply(this.ec.n).equals(this.x instanceof d?wt.infinityG1():wt.infinityG2())}getFingerprint(){return Ht(Ee(this.toBytes()).slice(0,4),"big")}toAffine(){return this.isInfinity?new pt(this.x.zero(this.ec.q),this.y.zero(this.ec.q),!0,this.ec):new pt(this.x.divide(this.z.pow(2n)),this.y.divide(this.z.pow(3n)),!1,this.ec)}toBytes(){const t=this.toAffine(),e=t.x.toBytes();if(t.isInfinity){const t=[192];for(let n=0;n<e.length-1;n++)t.push(0);return Uint8Array.from(t)}const n=t.y instanceof m?ee(t.y,this.ec):te(t.y,this.ec);return e[0]|=n?160:128,e}toHex(){return Yt(this.toBytes())}toString(){return`JacobianPoint(x=${this.x}, y=${this.y}, z=${this.z}, i=${this.isInfinity})`}double(){if(this.isInfinity||this.y.equals(this.x.zero(this.ec.q)))return new wt(this.x.one(this.ec.q),this.x.one(this.ec.q),this.x.zero(this.ec.q),!0,this.ec);const t=this.x.multiply(this.y).multiply(this.y).multiply(new d(this.ec.q,4n)),e=this.z.multiply(this.z),n=e.multiply(e),r=this.y.multiply(this.y),i=r.multiply(r),o=this.x.multiply(this.x).multiply(new d(this.ec.q,3n)).add(this.ec.a.multiply(n)),s=o.multiply(o).subtract(t.multiply(new d(this.ec.q,2n))),a=o.multiply(t.subtract(s)).subtract(i.multiply(new d(this.ec.q,8n))),f=this.y.multiply(this.z).multiply(new d(this.ec.q,2n));return new wt(s,a,f,!1,this.ec)}negate(){return this.toAffine().negate().toJacobian()}add(t){if(this.isInfinity)return t;if(t.isInfinity)return this;const e=this.x.multiply(t.z.pow(2n)),n=t.x.multiply(this.z.pow(2n)),r=this.y.multiply(t.z.pow(3n)),i=t.y.multiply(this.z.pow(3n));if(e.equals(n))return r.equals(i)?this.double():new wt(this.x.one(this.ec.q),this.x.one(this.ec.q),this.x.zero(this.ec.q),!0,this.ec);const o=n.subtract(e),s=i.subtract(r),a=o.multiply(o),f=o.multiply(a),u=s.multiply(s).subtract(f).subtract(e.multiply(a).multiply(new d(this.ec.q,2n))),c=s.multiply(e.multiply(a).subtract(u)).subtract(r.multiply(f)),l=o.multiply(this.z).multiply(t.z);return new wt(u,c,l,!1,this.ec)}multiply(t){return Xt(t,this,this.ec)}equals(t){return this.toAffine().equals(t.toAffine())}clone(){return new wt(this.x.clone(),this.y.clone(),this.z.clone(),this.isInfinity,this.ec)}}var gt={};o(gt,"OperatorError",(()=>yt));class yt extends Error{constructor(t){super(t),Object.setPrototypeOf(this,yt.prototype)}}var bt={};o(bt,"AssertionError",(()=>vt)),o(bt,"assert",(()=>xt));class vt extends Error{constructor(t){super(t),Object.setPrototypeOf(this,vt.prototype)}}function xt(t,e="Assertion failed."){if(!t)throw new vt(e)}var Bt={};o(Bt,"PrivateKey",(()=>St));class St{static size=32;static fromBytes(t){return new St(Pe(Rt(t,"big"),H.n))}static fromHex(t){return St.fromBytes(Wt(t))}static fromSeed(t){const e=Se(48,Uint8Array.from([...t,0]),(new TextEncoder).encode("BLS-SIG-KEYGEN-SALT-"),Uint8Array.from([0,48]));return new St(Pe(Rt(e,"big"),H.n))}static fromBigInt(t){return new St(Pe(t,H.n))}static aggregate(t){return new St(Pe(t.reduce(((t,e)=>t+e.value),0n),H.n))}constructor(t){this.value=t,xt(t<H.n)}getG1(){return wt.generateG1().multiply(this.value)}toBytes(){return Nt(this.value,St.size,"big")}toHex(){return Yt(this.toBytes())}toString(){return`PrivateKey(0x${this.toHex()})`}equals(t){return this.value===t.value}}var It={};o(It,"AugSchemeMPL",(()=>At));class At{static keyGen(t){return he(t)}static sign(t,e){const n=t.getG1();return De(t,Uint8Array.from([...n.toBytes(),...e]),ct)}static verify(t,e,n){return Ye(t,Uint8Array.from([...t.toBytes(),...e]),n,ct)}static aggregate(t){return We(t)}static aggregateVerify(t,e,n){if(t.length!==e.length||!t.length)return!1;const r=[];for(let i=0;i<t.length;i++)r.push(Uint8Array.from([...t[i].toBytes(),...e[i]]));return Je(t,r,n,ct)}static deriveChildSk(t,e){return me(t,e)}static deriveChildSkUnhardened(t,e){return we(t,e)}static deriveChildPkUnhardened(t,e){return ge(t,e)}}var Et={};o(Et,"BasicSchemeMPL",(()=>qt));class qt{static keyGen(t){return he(t)}static sign(t,e){return De(t,e,ut)}static verify(t,e,n){return Ye(t,e,n,ut)}static aggregate(t){return We(t)}static aggregateVerify(t,e,n){if(t.length!==e.length||!t.length)return!1;for(const r of e)for(const t of e)if(r!==t&&jt(r,t))return!1;return Je(t,e,n,ut)}static deriveChildSk(t,e){return me(t,e)}static deriveChildSkUnhardened(t,e){return we(t,e)}static deriveChildPkUnhardened(t,e){return ge(t,e)}}var Ct={};o(Ct,"PopSchemeMPL",(()=>Lt));class Lt{static keyGen(t){return he(t)}static sign(t,e){return De(t,e,lt)}static verify(t,e,n){return Ye(t,e,n,lt)}static aggregate(t){return We(t)}static aggregateVerify(t,e,n){if(t.length!==e.length||!t.length)return!1;for(const r of e)for(const t of e)if(r!==t&&jt(r,t))return!1;return Je(t,e,n,lt)}static popProve(t){return Oe(t.getG1().toBytes(),ht).multiply(t.value)}static popVerify(t,e){try{xt(e.isValid()),xt(t.isValid());const n=Oe(t.toBytes(),ht),r=b.nil.one(H.q);return je([t,wt.generateG1().negate()],[n,e]).equals(r)}catch(n){if(n instanceof vt)return!1;throw n}}static fastAggregateVerify(t,e,n){if(!t.length)return!1;let r=t[0];for(const i of t.slice(1))r=r.add(i);return Ye(r,e,n,lt)}static deriveChildSk(t,e){return me(t,e)}static deriveChildSkUnhardened(t,e){return we(t,e)}static deriveChildPkUnhardened(t,e){return ge(t,e)}}var _t={};function Pt(t){return t.replace(/[01]/g,(t=>"0"===t?"1":"0"))}function kt(t){return Math.abs(t).toString(2).length}function Tt(t){return(t<0n?-t:t).toString(2).length}function Ut(t){if(t<1n)return[0];const e=[];for(;0n!==t;)e.push(Number(Pe(t,2n))),t/=2n;return e.reverse()}function Mt(t){if(t<1)return[0];const e=[];for(;0!==t;)e.push(Number(ke(t,2))),t/=2;return e.reverse()}function $t(t,e,n,r=!1){if(t<0&&!r)throw new Error("Cannot convert negative number to unsigned.");if(Math.floor(t)!==t)throw new Error("Cannot convert floating point number.");let i=Math.abs(t).toString(2).padStart(8*e,"0");t<0&&(i=(parseInt(Pt(i),2)+1).toString(2).padStart(8*e,"0"));var o=i.match(/[01]{8}/g).map((t=>parseInt(t,2)));return"little"===n&&o.reverse(),Uint8Array.from(o)}function Ht(t,e,n=!1){if(0===t.length)return 0;const r=t["little"===e?t.length-1:0].toString(2).padStart(8,"0")[0],i="little"===e?t.reverse():t;let o="";for(const a of i)o+=a.toString(2).padStart(8,"0");"1"===r&&n&&(o=(parseInt(Pt(o),2)+1).toString(2).padStart(8*t.length,"0"));const s=parseInt(o,2);return"1"===r&&n?-s:s}function Ot(t){if(0===t)return Uint8Array.from([]);let e=$t(t,kt(t)+8>>3,"big",!0);for(;e.length>1&&e[0]===(0!=(128&e[1])?255:0);)e=e.slice(1);return e}function zt(t){return Ht(t,"big",!0)}function Nt(t,e,n,r=!1){if(t<0n&&!r)throw new Error("Cannot convert negative number to unsigned.");let i=(t<0n?-t:t).toString(2).padStart(8*e,"0");t<0&&(i=(BigInt("0b"+Pt(i))+1n).toString(2).padStart(8*e,"0"));var o=i.match(/[01]{8}/g).map((t=>parseInt(t,2)));return"little"===n&&o.reverse(),Uint8Array.from(o)}function Rt(t,e,n=!1){if(0===t.length)return 0n;const r=t["little"===e?t.length-1:0].toString(2).padStart(8,"0")[0],i="little"===e?t.reverse():t;let o="";for(const a of i)o+=a.toString(2).padStart(8,"0");"1"===r&&n&&(o=(BigInt("0b"+Pt(o))+1n).toString(2).padStart(8*t.length,"0"));const s=BigInt("0b"+o);return"1"===r&&n?-s:s}function Kt(t){if(0n===t)return Uint8Array.from([]);let e=Nt(t,Tt(t)+8>>3,"big",!0);for(;e.length>1&&e[0]===(0!=(128&e[1])?255:0);)e=e.slice(1);return e}function Ft(t){return Rt(t,"big",!0)}function Qt(...t){const e=[];for(const n of t)for(const t of n)e.push(t);return Uint8Array.from(e)}function jt(t,e){return t.length===e.length&&-1===t.findIndex(((t,n)=>e[n]!==t))}o(_t,"flip",(()=>Pt)),o(_t,"intBitLength",(()=>kt)),o(_t,"bigIntBitLength",(()=>Tt)),o(_t,"bigIntToBits",(()=>Ut)),o(_t,"intToBits",(()=>Mt)),o(_t,"intToBytes",(()=>$t)),o(_t,"bytesToInt",(()=>Ht)),o(_t,"encodeInt",(()=>Ot)),o(_t,"decodeInt",(()=>zt)),o(_t,"bigIntToBytes",(()=>Nt)),o(_t,"bytesToBigInt",(()=>Rt)),o(_t,"encodeBigInt",(()=>Kt)),o(_t,"decodeBigInt",(()=>Ft)),o(_t,"concatBytes",(()=>Qt)),o(_t,"bytesEqual",(()=>jt)),o(_t,"toHex",(()=>Yt)),o(_t,"fromHex",(()=>Wt));const Gt="0123456789abcdef",Dt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15};function Yt(t){return Array.from(t).map((t=>Gt[t>>4]+Gt[15&t])).join("")}function Wt(t){const e=new Uint8Array(Math.floor(t.length/2));let n;for(n=0;n<e.length;n++){const r=Dt[t[2*n]],i=Dt[t[2*n+1]];if(void 0===r||void 0===i)break;e[n]=r<<4|i}return n===e.length?e:e.slice(0,n)}var Jt={};function Vt(t,e=H){const n=t.multiply(t).multiply(t).add(e.a.multiply(t)).add(e.b).modSqrt();if(n.equals(0n)||!new pt(t,n,!1,e).isOnCurve())throw new Error("No y for point x.");return n}function Xt(t,e,n=H){t instanceof d&&(t=t.value);let r=new wt(e.x.one(n.q),e.x.one(n.q),e.x.zero(n.q),!0,n);if(e.isInfinity||0n===Pe(t,n.q))return r;let i=e;for(;t>0n;)1n&t&&(r=r.add(i)),i=i.add(i),t>>=1n;return r}function Zt(t,e,n){const{x:r,y:i,z:o}=t,s=[null,null,null,null];let a=e[0].length;for(const h of e.slice(1))a=Math.max(a,h.length);const f=[];for(let h=0;h<a;h++)f.push(null);f[0]=o.pow(0n),f[1]=o.pow(2n);for(let h=2;h<f.length;h++)xt(null!==f[h-1]),xt(null!==f[1]),f[h]=f[h-1]?.multiply(f[1]);for(const[h,d]of e.entries()){const t=d.slice().reverse().map(((t,e)=>t.multiply(f[e])));let e=t[0];for(const n of t.slice(1))e=e.multiply(r),e=e.add(n);s[h]=e}xt(e[1].length+1===e[0].length),xt(null!==f[1]),xt(null!==s[1]),s[1]=s[1]?.multiply(f[1]),xt(null!==s[2]),xt(null!==s[3]),s[2]=s[2].multiply(i),s[3]=s[3].multiply(o.pow(3n));const u=s[1].multiply(s[3]),c=s[0].multiply(s[3]).multiply(u),l=s[2].multiply(s[1]).multiply(u).multiply(u);return new wt(c,l,u,t.isInfinity,n)}function te(t,e=H){return t.gt(new d(e.q,(e.q-1n)/2n))}function ee(t,e=O){return t.elements[1].equals(new d(e.q,0n))?te(t.elements[0]):t.elements[1].gt(new d(e.q,(e.q-1n)/2n))}o(Jt,"yForX",(()=>Vt)),o(Jt,"scalarMultJacobian",(()=>Xt)),o(Jt,"evalIso",(()=>Zt)),o(Jt,"signFq",(()=>te)),o(Jt,"signFq2",(()=>ee));var ne={};function re(t,e){if(t<0n||t>=1n<<8n*BigInt(e))throw new Error(`Bad I2OSP call: value=${t}, length=${e}.`);const n=[];for(let o=0;o<e;o++)n.push(0);let r=t;for(let o=e-1;o>=0;o--)n[o]=Number(0xffn&r),r>>=8n;const i=Uint8Array.from(n);return xt(jt(i,Nt(t,e,"big"))),i}function ie(t){let e=0n;for(const n of t)e<<=8n,e+=BigInt(n);return xt(e===Rt(t,"big")),e}function oe(t,e){return Uint8Array.from(t.map(((t,n)=>t^e[n])))}function se(t,e,n,r){const i=Math.trunc((n+r.byteSize-1)/r.byteSize);if(i>255)throw new Error(`Bad expandMessageXmd call: ell=${i} out of range.`);const o=[...e,...re(BigInt(e.length),1)],s=re(0n,r.blockSize),a=re(BigInt(n),2),f=r.convert(Uint8Array.from([...s,...t,...a,...re(0n,1),...o])),u=[];u.push(r.convert(Uint8Array.from([...f,...re(1n,1),...o])));for(let l=1;l<=i;l++)u.push(r.convert(Uint8Array.from([...oe(f,u[l-1]),...re(BigInt(l+1),1),...o])));const c=[];for(const l of u)c.push(...l);return Uint8Array.from(c.slice(0,n))}function ae(t,e,n,r){const i=[...e,...re(BigInt(e.length),1)],o=[...t,...re(BigInt(n),2),...i];return r.convert(Uint8Array.from(o)).slice(0,n)}function fe(t,e,n,r,i,o,s,a){const f=s(t,n,e*i*o,a),u=[];for(let c=0;c<e;c++){const t=[];for(let e=0;e<i;e++){const n=o*(e+c*i),s=f.slice(n,n+o);t.push(Pe(ie(s),r))}u.push(t)}return u}function ue(t,e,n){return fe(t,e,n,B,1,64,se,F)}function ce(t,e,n){return fe(t,e,n,B,2,64,se,F)}o(ne,"I2OSP",(()=>re)),o(ne,"OS2IP",(()=>ie)),o(ne,"bytesXor",(()=>oe)),o(ne,"expandMessageXmd",(()=>se)),o(ne,"expandMessageXof",(()=>ae)),o(ne,"hashToField",(()=>fe)),o(ne,"Hp",(()=>ue)),o(ne,"Hp2",(()=>ce));var le={};function he(t){const e=Se(48,Uint8Array.from([...t,0]),(new TextEncoder).encode("BLS-SIG-KEYGEN-SALT-"),Uint8Array.from([0,48]));return new St(Pe(Rt(e,"big"),H.n))}function de(t,e){return Se(8160,t,e,Uint8Array.from([]))}function pe(t,e){const n=$t(e,4,"big"),r=t.toBytes(),i=Uint8Array.from(r.map((t=>255^t))),o=de(r,n),s=de(i,n),a=[];for(let f=0;f<255;f++)a.push(...Ee(o.slice(32*f,32*(f+1))));for(let f=0;f<255;f++)a.push(...Ee(s.slice(32*f,32*(f+1))));return Ee(Uint8Array.from(a))}function me(t,e){return he(pe(t,e))}function we(t,e){const n=Ee(Uint8Array.from([...t.getG1().toBytes(),...$t(e,4,"big")]));return St.aggregate([St.fromBytes(n),t])}function ge(t,e){const n=Ee(Uint8Array.from([...t.toBytes(),...$t(e,4,"big")]));return t.add(wt.generateG1().multiply(St.fromBytes(n).value))}function ye(t,e){const n=Ee(Uint8Array.from([...t.toBytes(),...$t(e,4,"big")]));return t.add(wt.generateG2().multiply(St.fromBytes(n).value))}o(le,"keyGen",(()=>he)),o(le,"ikmToLamportSk",(()=>de)),o(le,"parentSkToLamportPk",(()=>pe)),o(le,"deriveChildSk",(()=>me)),o(le,"deriveChildSkUnhardened",(()=>we)),o(le,"deriveChildG1Unhardened",(()=>ge)),o(le,"deriveChildG2Unhardened",(()=>ye));var be={};o(be,"blockSize",(()=>ve)),o(be,"extract",(()=>xe)),o(be,"expand",(()=>Be)),o(be,"extractExpand",(()=>Se));const ve=32;function xe(t,e){const n=new(s(r))("SHA-256","UINT8ARRAY",{hmacKey:{format:"UINT8ARRAY",value:t}});return n.update(e),n.getHash("UINT8ARRAY")}function Be(t,e,n){const r=Math.ceil(t/ve);let i=0;const o=[];let s=Uint8Array.from([]);for(let a=1;a<=r;a++){s=xe(e,Uint8Array.from(1===a?[...n,1]:[...s,...n,a]));let r=t-i;r>ve&&(r=ve),o.push(...s.slice(0,r)),i+=r}return xt(i===t),Uint8Array.from(o)}function Se(t,e,n,r){return Be(t,xe(n,e),r)}var Ie={};o(Ie,"hmacBlockSize",(()=>Ae)),o(Ie,"hash256",(()=>Ee)),o(Ie,"hash512",(()=>qe)),o(Ie,"hmac256",(()=>Ce));const Ae=64;function Ee(t){const e=new(s(r))("SHA-256","UINT8ARRAY");return e.update(t),e.getHash("UINT8ARRAY")}function qe(t){return Uint8Array.from([...Ee(Uint8Array.from([...t,0])),...Ee(Uint8Array.from([...t,1]))])}function Ce(t,e){for(e.length>Ae&&(e=Ee(e));e.length<Ae;)e=Uint8Array.from([...e,0]);const n=[];for(let i=0;i<Ae;i++)n.push(92^e[i]);const r=[];for(let i=0;i<Ae;i++)r.push(54^e[i]);return Ee(Uint8Array.from([...n,...Ee(Uint8Array.from([...r,...t]))]))}var Le={};function _e(t,e,n){if(e<1n)return 1n;(t<0n||t>n)&&(t=Pe(t,n));let r=1n;for(;e>0n;)(1n&e)>0n&&(r=Pe(r*t,n)),e>>=1n,t=Pe(t*t,n);return r}function Pe(t,e){return(t%e+e)%e}function ke(t,e){return(t%e+e)%e}o(Le,"modPow",(()=>_e)),o(Le,"mod",(()=>Pe)),o(Le,"modNumber",(()=>ke));var Te={};function Ue(t){const e=1n===Pe(t.elements[0].value,2n),n=0n===t.elements[0].value,r=1n===Pe(t.elements[1].value,2n);return e||n&&r?1n:0n}function Me(t){const e=V.pow(2n).multiply(t.pow(4n)).add(V.multiply(t.pow(2n))),n=Z.multiply(e.add(new d(B,1n)));let r=X.negate().multiply(e);r=r.equals(0n)?X.multiply(V):r;const i=r.pow(3n),o=Z.multiply(i).add(X.multiply(n).multiply(r.pow(2n))).add(n.pow(3n));let s=i.pow(7n);const a=o.multiply(s);s=s.multiply(a).multiply(i);let f=a.multiply(s.pow((B**2n-9n)/16n));for(const d of at){let e=f.multiply(d);if(e.pow(2n).multiply(i).equals(o))return Ue(e)!==Ue(t)&&(e=e.negate()),xt(Ue(e)===Ue(t)),new wt(n.multiply(r),e.multiply(r.pow(3n)),r,!1,O)}const u=V.multiply(t.pow(2n)).multiply(n),c=r,l=V.pow(3n).multiply(t.pow(6n)).multiply(o),h=i;f=f.multiply(t.pow(3n));for(const d of it){let e=d.multiply(f);if(e.pow(2n).multiply(h).equals(l))return Ue(e)!==Ue(t)&&(e=e.negate()),xt(Ue(e)===Ue(t)),new wt(u.multiply(c),e.multiply(c.pow(3n)),c,!1,O)}throw new Error("Bad osswu2Help.")}function $e(t){return Zt(t,[G,D,Y,W],O)}function He(t,e){let n=$e(Me(t));if(e){const t=$e(Me(e));n=n.add(t)}return n.multiply(T)}function Oe(t,e){const n=ce(t,2,e).map((t=>{const e=t.map((t=>new d(B,t)));return new m(B,e[0],e[1])}));return He(n[0],n[1])}o(Te,"sgn0",(()=>Ue)),o(Te,"osswu2Help",(()=>Me)),o(Te,"iso3",(()=>$e)),o(Te,"optSwu2Map",(()=>He)),o(Te,"g2Map",(()=>Oe));var ze={};function Ne(t,e,n=H){const r=t.untwist(),i=new d(n.q,3n).multiply(r.x.pow(2n).add(n.a)).divide(r.y.multiply(new d(n.q,2n))),o=r.y.subtract(r.x.multiply(i));return e.y.subtract(e.x.multiply(i)).subtract(o)}function Re(t,e,n){const r=t.untwist(),i=e.untwist();if(r.equals(i.negate()))return n.x.subtract(r.x);const o=i.y.subtract(r.y).divide(i.x.subtract(r.x)),s=i.y.multiply(r.x).subtract(r.y.multiply(i.x)).divide(r.x.subtract(i.x));return n.y.subtract(n.x.multiply(o)).subtract(s)}function Ke(t,e,n,r=H){const i=Ut(t);let o=n,s=b.nil.one(r.q);for(let a=1;a<i.length;a++){const t=Ne(o,e,r);if(s=s.multiply(s).multiply(t),o=o.multiply(new d(r.q,2n)),1===i[a]){const t=Re(o,n,e);s=s.multiply(t),o=o.add(n)}}return s}function Fe(t,e=H){if(12n===e.k){let n=t.pow((e.q**4n-e.q**2n+1n)/e.n);return n=n.qiPower(2).multiply(n),n=n.qiPower(6).divide(n),n}return t.pow((e.q**e.k-1n)/e.n)}function Qe(t,e,n=H){let r=H.x+1n-1n;return r=r<0n?-r:r,Fe(Ke(r,t.toAffine(),e.toAffine()),n)}function je(t,e,n=H){let r=H.x+1n-1n;r=r<0n?-r:r;let i=b.nil.one(n.q);for(let o=0;o<e.length;o++)i=i.multiply(Ke(r,t[o].toAffine(),e[o].toAffine(),n));return Fe(i,n)}o(ze,"doubleLineEval",(()=>Ne)),o(ze,"addLineEval",(()=>Re)),o(ze,"millerLoop",(()=>Ke)),o(ze,"finalExponentiation",(()=>Fe)),o(ze,"atePairing",(()=>Qe)),o(ze,"atePairingMulti",(()=>je));var Ge={};function De(t,e,n){return Oe(e,n).multiply(t.value)}function Ye(t,e,n,r){if(!n.isValid()||!t.isValid())return!1;const i=Oe(e,r),o=b.nil.one(H.q);return je([t,wt.generateG1().negate()],[i,n]).equals(o)}function We(t){if(!t.length)throw new Error("Must aggregate at least 1 signature.");let e=t[0];xt(e.isValid());for(const n of t.slice(1))xt(n.isValid()),e=e.add(n);return e}function Je(t,e,n,r){if(t.length!==e.length||!t.length)return!1;if(!n.isValid())return!1;const i=[n],o=[wt.generateG1().negate()];for(let s=0;s<t.length;s++){if(!t[s].isValid())return!1;i.push(Oe(e[s],r)),o.push(t[s])}return b.nil.one(H.q).equals(je(o,i))}o(Ge,"coreSignMpl",(()=>De)),o(Ge,"coreVerifyMpl",(()=>Ye)),o(Ge,"coreAggregateMpl",(()=>We)),o(Ge,"coreAggregateVerify",(()=>Je)),i(a,f),i(a,c),i(a,h),i(a,p),i(a,w),i(a,y),i(a,v),i(a,z),i(a,K),i(a,j),i(a,J),i(a,ot),i(a,ft),i(a,dt),i(a,{}),i(a,mt),i(a,gt),i(a,bt),i(a,{}),i(a,Bt),i(a,It),i(a,Et),i(a,Ct),i(a,_t),i(a,Jt),i(a,ne),i(a,le),i(a,be),i(a,Ie),i(a,Le),i(a,Te),i(a,ze),i(a,Ge),i(t.exports,a)},171:(t,e,n)=>{var r=n(6241);function i(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}i(t.exports,"Program",(()=>wt));var o={};i(o,"ParserError",(()=>s));class s extends Error{constructor(t){super(t),Object.setPrototypeOf(this,s.prototype)}}const a={q:0x01n,a:0x02n,i:0x03n,c:0x04n,f:0x05n,r:0x06n,l:0x07n,x:0x08n,"=":0x09n,">s":0x0an,sha256:0x0bn,substr:0x0cn,strlen:0x0dn,concat:0x0en,"+":0x10n,"-":0x11n,"*":0x12n,"/":0x13n,divmod:0x14n,">":0x15n,ash:0x16n,lsh:0x17n,logand:0x18n,logior:0x19n,logxor:0x1an,lognot:0x1bn,point_add:0x1dn,pubkey_for_exp:0x1en,not:0x20n,any:0x21n,all:0x22n,".":0x23n,softfork:0x24n},f=(0,r.encodeBigInt)(a.q),u=(0,r.encodeBigInt)(a.a),c=((0,r.encodeBigInt)(a.f),(0,r.encodeBigInt)(a.r),(0,r.encodeBigInt)(a.c)),l=(0,r.encodeBigInt)(a.x);class h extends Set{isSuperset(t){for(const e of t)if(!this.has(e))return!1;return!0}isSubset(t){for(const e of this)if(!t.has(e))return!1;return!0}isSupersetProper(t){return this.isSuperset(t)&&!this.isSubset(t)}isSubsetProper(t){return this.isSubset(t)&&!this.isSuperset(t)}equals(t){return this.isSubset(t)&&this.isSuperset(t)}union(t){const e=new h(this);for(const n of t)e.add(n);return e}intersection(t){const e=new h;for(const n of t)this.has(n)&&e.add(n);return e}symmetricDifference(t){const e=new h(this);for(const n of t)e.has(n)?e.delete(n):e.add(n);return e}difference(t){const e=new h(this);for(const n of t)e.delete(n);return e}update(t){for(const e of t)this.add(e);return this}differenceUpdate(t){for(const e of t)this.delete(e);return this}symmetricDifferenceUpdate(t){for(const e of t)this.has(e)?this.delete(e):this.add(e);return this}intersectionUpdate(t){for(const e of this)t.has(e)||this.delete(e);return this}sort(t){return new h([...this].sort(t))}map(t){const e=new h;let n=0;for(const r of this)e.add(t(r,n++,this));return e}filter(t){const e=new h;let n=0;for(const r of this)t(r,n++,this)&&e.add(r);return e}}class d{static top=new d;static left=d.top.first();static right=d.top.rest();constructor(t=1n){if(t<0n){const e=(0,r.bigIntBitLength)(t)+7>>3,n=(0,r.bigIntToBytes)(t,e,"big",!0);t=(0,r.bytesToBigInt)(Uint8Array.from([0,...n]),"big",!1)}this.index=t}asPath(){const t=(0,r.bigIntBitLength)(this.index)+7>>3;return(0,r.bigIntToBytes)(this.index,t,"big")}add(t){return new d(function(t,e){let n=1n,r=t;for(;r>1n;)e<<=1n,n<<=1n,r>>=1n;return n-=1n,e|t&n}(this.index,t.index))}first(){return new d(2n*this.index)}rest(){return new d(2n*this.index+1n)}toString(){return`NodePath: ${this.index}`}}function p(t){return wt.cons(wt.fromBigInt(a.q),t)}function m(t,e){return wt.fromList([wt.fromBigInt(a.a),t,e])}function w(t,e){return m(p(t),p(e))}const g=['\n    ; we have to compile this externally, since it uses itself\n    ;(defmacro defmacro (name params body)\n    ;    (qq (list (unquote name) (mod (unquote params) (unquote body))))\n    ;)\n    (q . ("defmacro"\n       (c (q . "list")\n          (c (f 1)\n             (c (c (q . "mod")\n                   (c (f (r 1))\n                      (c (f (r (r 1)))\n                         (q . ()))))\n                (q . ()))))))\n    ','\n    ;(defmacro list ARGS\n    ;    ((c (mod args\n    ;        (defun compile-list\n    ;               (args)\n    ;               (if args\n    ;                   (qq (c (unquote (f args))\n    ;                         (unquote (compile-list (r args)))))\n    ;                   ()))\n    ;            (compile-list args)\n    ;        )\n    ;        ARGS\n    ;    ))\n    ;)\n    (q "list"\n        (a (q #a (q #a 2 (c 2 (c 3 (q))))\n                 (c (q #a (i 5\n                             (q #c (q . 4)\n                                   (c 9 (c (a 2 (c 2 (c 13 (q))))\n                                           (q)))\n                             )\n                             (q 1))\n                           1)\n                    1))\n            1))\n    ',"(defmacro function (BODY)\n        (qq (opt (com (q . (unquote BODY))\n                 (qq (unquote (macros)))\n                 (qq (unquote (symbols)))))))","(defmacro if (A B C)\n        (qq (a\n            (i (unquote A)\n               (function (unquote B))\n               (function (unquote C)))\n            @)))","(defmacro / (A B) (qq (f (divmod (unquote A) (unquote B)))))"];let y;function b(t){return y&&!y.isNull||(y=wt.fromList([]),function(t){const e=wt.fromSource("(a (com 2 3) 1)");for(const n of g){const r=wt.fromSource(n),i=t(e,wt.cons(r,y)).value;y=wt.cons(i,y)}}(t)),y}const v=(new TextEncoder).encode("$"),x=(new TextEncoder).encode(":");function B(t,e,n){return e in t?t[e].equals(n)?t:null:{...t,[e]:n}}function S(t,e,n={}){if(!t.isCons)return e.isCons?null:(0,r.bytesEqual)(t.atom,e.atom)?n:null;const i=t.first,o=t.rest;if(i.isAtom&&(0,r.bytesEqual)(i.atom,v))return e.isCons?null:o.isAtom&&(0,r.bytesEqual)(o.atom,v)?(0,r.bytesEqual)(e.atom,v)?{}:null:B(n,o.toText(),e);if(i.isAtom&&(0,r.bytesEqual)(i.atom,x))return o.isAtom&&(0,r.bytesEqual)(o.atom,x)?(0,r.bytesEqual)(e.atom,x)?{}:null:B(n,o.toText(),e);if(!e.isCons)return null;const s=S(i,e.first,n);return s?S(o,e.rest,s):s}function I(t){if(!t.isCons)return t.isNull;const e=t.first;if(e.isCons){if(!I(e))return!1}else{const t=e.atom;if((0,r.bytesEqual)(t,f))return!0;if((0,r.bytesEqual)(t,l))return!1}return t.rest.toList().every((t=>I(t)))}function A(t,e){if(I(t)&&!t.isNull){t=p(e(t,wt.nil).value)}return t}function E(t,e){const n=S(wt.fromSource("(a (q . (: . sexp)) (: . args))"),t);return n&&function(t){return t.isAtom&&1n===t.toBigInt()}(n.args)?n.sexp:t}function q(t,e){const n=t.toBigInt();return n<=1n?e:q(t=wt.fromBigInt(n>>1n),1n&n?function(t){const e=S(wt.fromSource("(c (: . first) (: . rest))"),t);return e?e.rest:wt.fromList([wt.fromBigInt(a.r),t])}(e):function(t){const e=S(wt.fromSource("(c (: . first) (: . rest))"),t);return e?e.first:wt.fromList([wt.fromBigInt(a.f),t])}(e))}function C(t,e){if(!t.isCons)return q(t,e);let n=t.first;if(n.isCons)n=C(n,e);else if((0,r.bytesEqual)(n.atom,f))return t;return wt.fromList([n,...t.rest.toList().map((t=>C(t,e)))])}function L(t,e){const n=S(wt.fromSource("(a (q . (: . sexp)) (: . args))"),t);if(!n)return t;const i=n.args,o=C(n.sexp,i);if(I(o))return M(o,e);const s=o.toList().map((t=>M(t,e)));return s.filter((t=>t.isCons&&(t.first.isCons||!(0,r.bytesEqual)(t.first.atom,f)))).length<1?wt.fromList(s):t}function _(t,e){if(!t.isCons)return t;const n=t.first;return n.isAtom&&(0,r.bytesEqual)(n.atom,f)?t:wt.fromList(t.toList().map((t=>M(t,e))))}function P(t,e){let n=S(wt.fromSource("(f (c (: . first) (: . rest)))"),t);return n?n.first:(n=S(wt.fromSource("(r (c (: . first) (: . rest)))"),t),n?n.rest:t)}function k(t,e){let n=S(wt.fromSource("(f ($ . atom))"),t);if(n&&!n.atom.isNull){const t=new d(n.atom.toBigInt()).add(d.left);return wt.fromBytes(t.asPath())}if(n=S(wt.fromSource("(r ($ . atom))"),t),n&&!n.atom.isNull){const t=new d(n.atom.toBigInt()).add(d.right);return wt.fromBytes(t.asPath())}return t}function T(t,e){return S(wt.fromSource("(q . 0)"),t)?wt.nil:t}function U(t,e){return S(wt.fromSource("(a 0 . (: . rest))"),t)?wt.nil:t}function M(t,e){if(t.isAtom)return t;const n=[P,A,E,L,_,k,T,U];for(;t.isCons;){const r=t;for(const i of n)if(t=i(t,e),!r.equals(t))break;if(r.equals(t))return t}return t}function $(t){return e=>({value:M(e.first,t),cost:1n})}const H="";function O(t){if(0===t.length)return wt.nil;if(1===t.length)return t[0];const e=t.length>>1;return wt.cons(O(t.slice(0,e)),O(t.slice(e)))}function z(t){if(0===t.length)return wt.fromList([p(wt.nil)]);if(1===t.length)return t[0];const e=t.length>>1;return wt.fromList([wt.fromBytes(c),z(t.slice(0,e)),z(t.slice(e))])}function N(t){return t.isCons?[...N(t.first),...N(t.rest)]:[t.toText()]}function R(t,e){return t.isCons?wt.cons(R(t.first,e),R(t.rest,e)):e.includes(t.toText())?wt.fromList([wt.fromText("unquote"),t]):t}function K(t){const e=t.rest,n=e.rest,r=[wt.fromText("defmacro"),e.first,n.first],i=R(n.rest.first,N(n.first).filter((t=>t.length)));return r.push(wt.fromList([wt.fromText("qq"),i])),wt.fromList(r)}function F(t,e,n,r,i,o){const s=t.first.toText(),a=t.rest.first;if("include"===s)return void function(t,e,n,r,i,o){const s=o(wt.fromSource("(_read (_full_path_for_name 1))"),t).value;for(const a of s.toList())F(a,e,n,r,i,o)}(a,e,n,r,i,o);const f=a.toText();if(e.has(f))throw new Error(`Symbol ${JSON.stringify(f)} redefined.`);if(e.add(f),"defmacro"===s)i.push(t);else if("defun"===s)n[f]=t.rest.rest;else if("defun-inline"===s)i.push(K(t));else{if("defconstant"!==s)throw new Error(`Expected "defun", "defun-inline", "defmacro", or "defconstant", but got ${JSON.stringify(s)}.`);r[f]=p(t.rest.rest.first)}}function Q(t,e){if(t.isNull)return wt.nil;if(!t.isCons)return wt.fromList([wt.fromList([t,wt.fromBytes(e.asPath())])]);const n=Q(t.first,e.add(d.left)),r=Q(t.rest,e.add(d.right));return wt.fromList([...n.toList(),...r.toList()])}function j(t,e,n,r){const[i,o,s]=function(t,e){const n={},r={},i=[],o=t.first,s=new h;for(;!(t=t.rest).rest.isNull;)F(t.first,s,n,r,i,e);const a=t.first;return n[H]=wt.fromList([o,a]),[n,r,i]}(t,r),a=function(t,e,n){let r=p(t);for(const i of e)r=m(wt.fromList([wt.fromText("opt"),wt.fromList([wt.fromText("com"),p(wt.fromList([wt.fromBytes(c),i,r])),r])]),wt.fromBytes(d.top.asPath())),r=M(r,n);return r}(e,s,r),f=function(t,e,n){const r={};for(const a of n)r[a.rest.first.toText()]=a;const i=new h(Object.keys(t));i.update(new h(Object.keys(e)));let o=new h([H]);const s=new h(o);for(;o.size;){const e=new h(o);o=new h;for(const n of e)for(const e of[t,r])n in e&&o.update(new h(N(e[n])));o.differenceUpdate(s),s.update(o)}return s.intersectionUpdate(i),s.delete(H),s.sort(((t,e)=>function(t,e){return t<e?-1:t>e?1:0}(t,e)))}(i,o,s),u=f.size>0,l=O([...f.map((t=>wt.fromText(t)))]),w=d.left,g=u?d.right:d.top,y=function(t,e,n,r){const i={};for(const[o,s]of Object.entries(t)){const t=Q(s.first,r),a=wt.fromList([...t.toList(),...n.toList()]);i[o]=wt.fromList([wt.fromText("opt"),wt.fromList([wt.fromText("com"),p(s.rest.first),e,p(a)])])}return i}(i,a,Q(l,w),g),b=y[H].toString();let v;if(u){const t={};for(const[e,n]of Object.entries(y))f.has(e)&&(t[e]=n);Object.assign(t,o);v=`(c ${z([...f].map((e=>t[e]))).toString()} 1)`}else v="1";return wt.fromSource(`(opt (q . (a ${b} ${v})))`)}const G=new h([...Object.values(a).map((t=>(0,r.toHex)((0,r.encodeBigInt)(t)))),(0,r.toHex)((new TextEncoder).encode("com")),(0,r.toHex)((new TextEncoder).encode("opt"))]);const D={qq:function t(e,n,r,i,o=1){function s(t){return W(t,n,r,i)}const a=e.first;if(!a.isCons)return p(a);if(!a.first.isCons){const e=a.first.toText();if("qq"===e){const f=t(a.rest,n,r,i,o+1);return s(wt.fromList([wt.fromBytes(c),wt.fromText(e),wt.fromList([wt.fromBytes(c),f,p(wt.nil)])]))}if("unquote"===e){if(1===o)return s(a.rest.first);const f=t(a.rest,n,r,i,o-1);return s(wt.fromList([wt.fromBytes(c),wt.fromText(e),wt.fromList([wt.fromBytes(c),f,p(wt.nil)])]))}}const f=s(wt.fromList([wt.fromText("qq"),a.first])),u=s(wt.fromList([wt.fromText("qq"),a.rest]));return wt.fromList([wt.fromBytes(c),f,u])},macros:function(t,e,n,r){return p(e)},symbols:function(t,e,n,r){return p(n)},lambda:j,mod:j};function Y(t,e,n,r){if(t.isAtom)return t;if(t.first.isAtom&&"quote"===t.first.toText()){if(!t.rest.rest.isNull)throw new Error(`Compilation error while compiling ${t}. Quote takes exactly one argument${t.positionSuffix}.`);return p(Y(t.rest.first))}return wt.cons(Y(t.first),Y(t.rest))}function W(t,e,n,i){if(!(t=Y(t)).isCons){const e=t.toText();if("@"===e)return wt.fromBytes(d.top.asPath());for(const t of n.toList()){const n=t.first,r=t.rest.first;if(n.isAtom&&n.toText()===e)return r}return p(t)}const o=t.first;if(o.isCons){const t=m(wt.fromList([wt.fromText("com"),p(o),p(e),p(n)]),wt.fromBytes(d.top.asPath()));return wt.fromList([t])}const s=o.toText();for(const r of e.toList())if(r.first.isAtom&&r.first.toText()===s){const i=w(r.rest.first,t.rest);return m(wt.fromList([wt.fromText("com"),i,p(e),p(n)]),wt.fromBytes(d.top.asPath()))}if(s in D){return m(p((0,D[s])(t.rest,e,n,i)),wt.fromBytes(d.top.asPath()))}if((0,r.bytesEqual)(o.atom,f))return t;const a=t.rest.toList().map((t=>W(t,e,n,i)));let l=wt.fromList([o,...a]);if(G.has((0,r.toHex)((new TextEncoder).encode(s)))||s.startsWith("_"))return l;for(const r of n.toList()){const[i,o]=r.toList();if(!i.isAtom)continue;const a=i.toText();if("*"===a)return l;if(a===s){const r=m(wt.fromList([wt.fromText("opt"),wt.fromList([wt.fromText("com"),p(wt.fromList([wt.fromText("list"),...t.rest.toList()])),p(e),p(n)])]),wt.fromBytes(d.top.asPath()));return wt.fromList([wt.fromBytes(u),o,wt.fromList([wt.fromBytes(c),wt.fromBytes(d.left.asPath()),r])])}}throw new Error(`Can't compile unknown operator ${t}${t.positionSuffix}.`)}function J(t){return e=>{const n=e.first;let r,i=wt.nil;return e.rest.isNull?r=b(t):(r=e.rest.first,e.rest.rest.isNull||(i=e.rest.rest.first)),{value:W(n,r,i,t),cost:1n}}}const V={if:33n,cons:50n,first:30n,rest:30n,listp:19n,mallocPerByte:10n,arithBase:99n,arithPerByte:3n,arithPerArg:320n,logBase:100n,logPerByte:3n,logPerArg:264n,grsBase:117n,grsPerByte:1n,eqBase:117n,eqPerByte:1n,grBase:498n,grPerByte:2n,divmodBase:1116n,divmodPerByte:6n,divBase:988n,divPerByte:4n,sha256Base:87n,sha256PerByte:2n,sha256PerArg:134n,pointAddBase:101094n,pointAddPerArg:1343980n,pubkeyBase:1325730n,pubkeyPerByte:38n,mulBase:92n,mulPerOp:885n,mulLinearPerByte:6n,mulSquarePerByteDivider:128n,strlenBase:173n,strlenPerByte:1n,pathLookupBase:40n,pathLookupPerLeg:4n,pathLookupPerZeroByte:4n,concatBase:142n,concatPerByte:3n,concatPerArg:135n,boolBase:200n,boolPerArg:300n,ashiftBase:596n,ashiftPerByte:3n,lshiftBase:277n,lshiftPerByte:3n,lognotBase:331n,lognotPerByte:3n,apply:90n,quote:20n};function X(t,e){let n=V.pathLookupBase+V.pathLookupPerLeg;if(t.isNull)return{value:wt.nil,cost:n};let r=0;const i=t.atom;for(;r<i.length&&0===i[r];)r++;if(n+=BigInt(r)*V.pathLookupPerZeroByte,r===i.length)return{value:wt.nil,cost:n};const o=(s=i[r],s|=s>>1,s|=s>>2,1+(s|=s>>4)>>1);var s;let a=i.length-1,f=1;for(;a>r||f<o;){if(e.isAtom)throw new Error(`Cannot traverse into ${e}${e.positionSuffix}.`);e=0!=(i[a]&f)?e.rest:e.first,n+=V.pathLookupPerLeg,f<<=1,256===f&&(a--,f=1)}return{value:e,cost:n}}const Z={operators:{i:t=>{const e=et(t,"i",3);return{value:e[0].isNull?e[2]:e[1],cost:V.if}},c:t=>{const e=et(t,"c",2);return{value:wt.cons(e[0],e[1]),cost:V.cons}},f:t=>({value:et(t,"f",1,"cons")[0].first,cost:V.first}),r:t=>({value:et(t,"r",1,"cons")[0].rest,cost:V.rest}),l:t=>{const e=et(t,"l",1);return{value:wt.fromBool(e[0].isCons),cost:V.listp}},x:t=>{throw new Error(`The error ${t} was raised${t.positionSuffix}.`)},"=":t=>{const e=et(t,"=",2,"atom");return{value:wt.fromBool((0,r.bytesEqual)(e[0].atom,e[1].atom)),cost:V.eqBase+(BigInt(e[0].atom.length)+BigInt(e[1].atom.length))*V.eqPerByte}},sha256:t=>{const e=et(t,"sha256",void 0,"atom");let n=V.sha256Base,i=0;const o=[];for(const r of e){for(const t of r.atom)o.push(t);i+=r.atom.length,n+=V.sha256PerArg}return n+=BigInt(i)*V.sha256PerByte,rt({value:wt.fromBytes((0,r.hash256)(Uint8Array.from(o))),cost:n})},"+":t=>{const e=et(t,"+",void 0,"atom");let n=0n,r=V.arithBase,i=0;for(const o of e)n+=o.toBigInt(),i+=o.atom.length,r+=V.arithPerArg;return r+=BigInt(i)*V.arithPerByte,rt({value:wt.fromBigInt(n),cost:r})},"-":t=>{let e=V.arithBase;if(t.isNull)return{value:wt.nil,cost:e};const n=et(t,"-",void 0,"atom");let r=0n,i=1n,o=0;for(const s of n)r+=i*s.toBigInt(),i=-1n,o+=s.atom.length,e+=V.arithPerArg;return e+=BigInt(o)*V.arithPerByte,rt({value:wt.fromBigInt(r),cost:e})},"*":t=>{const e=et(t,"*",void 0,"atom");let n=V.mulBase;if(!e.length)return rt({value:wt.true,cost:n});let r=e[0].toBigInt(),i=e[0].atom.length;for(const o of e.slice(1))n+=V.mulPerOp+(BigInt(o.atom.length)+BigInt(i))*V.mulLinearPerByte+BigInt(o.atom.length)*BigInt(i)/V.mulSquarePerByteDivider,r*=o.toBigInt(),i=nt(r);return rt({value:wt.fromBigInt(r),cost:n})},divmod:t=>{const e=et(t,"divmod",2,"atom");let n=V.divmodBase;const i=e[0].toBigInt(),o=e[1].toBigInt();if(0n===o)throw new Error(`Cannot divide by zero in "divmod" operator${t.positionSuffix}.`);n+=(BigInt(e[0].atom.length)+BigInt(e[1].atom.length))*V.divmodPerByte;let s=i/o;const a=(0,r.mod)(i,o);i<0n!=o<0n&&0n!==a&&(s-=1n);const f=wt.fromBigInt(s),u=wt.fromBigInt(a);return n+=(BigInt(f.atom.length)+BigInt(u.atom.length))*V.mallocPerByte,{value:wt.cons(f,u),cost:n}},"/":t=>{const e=et(t,"/",2,"atom");let n=V.divBase;const i=e[0].toBigInt(),o=e[1].toBigInt();if(0n===o)throw new Error(`Cannot divide by zero in "/" operator${t.positionSuffix}.`);n+=(BigInt(e[0].atom.length)+BigInt(e[1].atom.length))*V.divPerByte;let s=i/o;(0,r.mod)(i,o);i<0n!=o<0n&&s<0n&&(s-=1n);return rt({value:wt.fromBigInt(s),cost:n})},">":t=>{const e=et(t,">",2,"atom"),n=V.grBase+(BigInt(e[0].atom.length)+BigInt(e[1].atom.length))*V.grPerByte;return{value:wt.fromBool(e[0].toBigInt()>e[1].toBigInt()),cost:n}},">s":t=>{const e=et(t,">s",2,"atom"),n=V.grsBase+(BigInt(e[0].atom.length)+BigInt(e[1].atom.length))*V.grsPerByte;return{value:wt.fromBool(1===e[0].toHex().localeCompare(e[1].toHex())),cost:n}},pubkey_for_exp:t=>{const e=et(t,"pubkey_for_exp",1,"atom"),n=(0,r.mod)(e[0].toBigInt(),r.defaultEc.n),i=r.PrivateKey.fromBytes((0,r.bigIntToBytes)(n,32,"big")),o=V.pubkeyBase+BigInt(e[0].atom.length)*V.pubkeyPerByte;return rt({value:wt.fromBytes(i.getG1().toBytes()),cost:o})},point_add:t=>{const e=et(t,"point_add",void 0,"atom");let n=V.pointAddBase,i=r.JacobianPoint.infinityG1();for(const o of e)i=i.add(r.JacobianPoint.fromBytes(o.atom,!1)),n+=V.pointAddPerArg;return rt({value:wt.fromBytes(i.toBytes()),cost:n})},strlen:t=>{const e=et(t,"strlen",1,"atom")[0].atom.length,n=V.strlenBase+BigInt(e)*V.strlenPerByte;return rt({value:wt.fromInt(e),cost:n})},substr:t=>{const e=et(t,"substr",[2,3],"atom"),n=e[0].atom;if(e[1].atom.length>4||3===e.length&&e[2].atom.length>4)throw new Error(`Expected 4 byte indices in "substr" operator${t.positionSuffix}.`);const r=e[1].toInt(),i=3===e.length?e[2].toInt():n.length;if(i>n.length||i<r||i<0||r<0)throw new Error(`Invalid indices in "substr" operator${t.positionSuffix}.`);return{value:wt.fromBytes(n.slice(r,i)),cost:1n}},concat:t=>{const e=et(t,"concat",void 0,"atom");let n=V.concatBase;const r=[];for(const i of e){for(const t of i.atom)r.push(t);n+=V.concatPerArg}return n+=BigInt(r.length)*V.concatPerByte,rt({value:wt.fromBytes(Uint8Array.from(r)),cost:n})},ash:t=>{const e=et(t,"ash",2,"atom");if(e[1].atom.length>4)throw new Error(`Shift must be 32 bits in "ash" operator${t.positionSuffix}.`);const n=e[1].toBigInt();if((n<0n?-n:n)>65535n)throw new Error(`Shift too large in "ash" operator${t.positionSuffix}.`);let r=e[0].toBigInt();n>=0?r<<=n:r>>=-n;const i=V.ashiftBase+(BigInt(e[0].atom.length)+BigInt(nt(r)))*V.ashiftPerByte;return rt({value:wt.fromBigInt(r),cost:i})},lsh:t=>{const e=et(t,"lsh",2,"atom");if(e[1].atom.length>4)throw new Error(`Shift must be 32 bits in "lsh" operator${t.positionSuffix}.`);const n=e[1].toBigInt();if((n<0n?-n:n)>65535n)throw new Error(`Shift too large in "lsh" operator${t.positionSuffix}.`);let i=(0,r.bytesToBigInt)(e[0].atom,"big",!1);i<0n&&(i=-i),n>=0?i<<=n:i>>=-n;const o=V.lshiftBase+(BigInt(e[0].atom.length)+BigInt(nt(i)))*V.lshiftPerByte;return rt({value:wt.fromBigInt(i),cost:o})},logand:t=>it("logand",-1n,t,((t,e)=>t&e)),logior:t=>it("logior",0n,t,((t,e)=>t|e)),logxor:t=>it("logxor",0n,t,((t,e)=>t^e)),lognot:t=>{const e=et(t,"lognot",1,"atom"),n=V.lognotBase+BigInt(e[0].atom.length)*V.lognotPerByte;return rt({value:wt.fromBigInt(~e[0].toBigInt()),cost:n})},not:t=>{const e=et(t,"not",1),n=V.boolBase;return{value:wt.fromBool(e[0].isNull),cost:n}},any:t=>{const e=et(t,"any"),n=V.boolBase+BigInt(e.length)*V.boolPerArg;let r=!1;for(const i of e)if(!i.isNull){r=!0;break}return{value:wt.fromBool(r),cost:n}},all:t=>{const e=et(t,"all"),n=V.boolBase+BigInt(e.length)*V.boolPerArg;let r=!0;for(const i of e)if(i.isNull){r=!1;break}return{value:wt.fromBool(r),cost:n}},softfork:t=>{const e=et(t,"softfork",[1,1/0]);if(!e[0].isAtom)throw new Error(`Expected atom argument in "softfork" operator at ${e[0].positionSuffix}.`);const n=e[0].toBigInt();if(n<1n)throw new Error(`Cost must be greater than zero in "softfork" operator${t.positionSuffix}.`);return{value:wt.false,cost:n}}},unknown:function(t,e){if(!t.atom.length||(0,r.bytesEqual)(t.atom.slice(0,2),Uint8Array.from([255,255])))throw new Error(`Reserved operator${t.positionSuffix}.`);if(t.atom.length>5)throw new Error(`Invalid operator${t.positionSuffix}.`);const n=(192&t.atom[t.atom.length-1])>>6,i=(0,r.bytesToInt)(t.atom.slice(0,t.atom.length-1),"big")+1;let o;if(0===n)o=1n;else if(1===n){o=V.arithBase;let t=0;for(const n of e.toList()){if(!n.isAtom)throw new Error(`Expected atom argument${n.positionSuffix}.`);t+=n.atom.length,o+=V.arithPerArg}o+=BigInt(t)*V.arithPerByte}else if(2===n){o=V.mulBase;const t=e.toList();if(t.length){const e=t[0];if(!e.isAtom)throw new Error(`Expected atom argument${e.positionSuffix}.`);let n=e.atom.length;for(const r of t.slice(1)){if(!r.isAtom)throw new Error(`Expected atom argument${r.positionSuffix}.`);o+=V.mulPerOp+(BigInt(r.atom.length)+BigInt(n))*V.mulLinearPerByte+BigInt(r.atom.length)*BigInt(n)/V.mulSquarePerByteDivider,n+=r.atom.length}}}else{if(3!==n)throw new Error(`Unknown cost function${t.positionSuffix}.`);{o=V.concatBase;let t=0;for(const n of e.toList()){if(!n.isAtom)throw new Error(`Expected atom argument${n.positionSuffix}.`);o+=V.concatPerArg,t+=n.atom.length}o+=BigInt(t)*V.concatPerByte}}if(o*=BigInt(i),o>=2n**32n)throw new Error(`Invalid operator${t.positionSuffix}.`);return{value:wt.nil,cost:o}},quote:"q",apply:"a"};function tt(){return{...Z,operators:{...Z.operators}}}function et(t,e,n,r){const i=t.toList();if("number"==typeof n&&i.length!==n)throw new Error(`Expected ${n} arguments in ${JSON.stringify(e)} operator${t.positionSuffix}.`);if(Array.isArray(n)&&(i.length<n[0]||i.length>n[1]))throw new Error(`Expected ${n[1]===1/0?`at least ${n[0]}`:`between ${n[0]} and ${n[1]}`} arguments in ${JSON.stringify(e)} operator${t.positionSuffix}.`);return void 0!==r&&i.forEach((t=>{if("atom"===r&&!t.isAtom||"cons"===r&&!t.isCons)throw new Error(`Expected ${r} argument in ${JSON.stringify(e)} operator${t.positionSuffix}.`)})),i}function nt(t){let e=0n===t?0:(t<0n?-t:t).toString(2).length;return t<0n&&e++,e+7>>3}function rt(t){return{value:t.value,cost:t.cost+BigInt(t.value.atom.length)*V.mallocPerByte}}function it(t,e,n,r){let i=e,o=0,s=V.logBase;for(const a of n.toList().map((e=>{if(!e.isAtom)throw new Error(`Expected atom argument in ${JSON.stringify(t)} operator${e.positionSuffix}.`);return e})))i=r(i,a.toBigInt()),o+=a.atom.length,s+=V.logPerArg;return s+=BigInt(o)*V.logPerByte,rt({value:wt.fromBigInt(i),cost:s})}function ot(t,e,n){const r=t.toBigInt(),i=Object.entries(a).find((t=>t[1]===r))?.[0]??t.toText();if(i in n.operators.operators){return n.operators.operators[i](e)}return n.operators.unknown(t,e)}const st={swap:(t,e,n)=>{const r=e.pop(),i=e.pop();return e.push(r,i),0n},cons:(t,e,n)=>{const r=e.pop(),i=e.pop();return e.push(wt.cons(r,i)),0n},eval:(t,e,n)=>{const i=e.pop(),o=i.first,s=i.rest;if(o.isAtom){const t=X(o,s);return e.push(t.value),t.cost}const a=o.first;if(a.isCons){const[n,r]=a.cons;if(n.isCons||!r.isNull)throw new Error(`Operators that are lists must contain a single atom${a.positionSuffix}.`);const i=o.rest;return e.push(n,i),t.push(st.apply),V.apply}let u=o.rest;if((0,r.bytesEqual)(a.atom,f))return e.push(u),V.quote;for(t.push(st.apply),e.push(a);!u.isNull;)e.push(wt.cons(u.first,s)),t.push(st.cons,st.eval,st.swap),u=u.rest;return e.push(wt.nil),1n},apply:(t,e,n)=>{const i=e.pop(),o=e.pop();if(o.isCons)throw new Error(`An internal error occurred${o.positionSuffix}.`);if((0,r.bytesEqual)(o.atom,u)){const n=i.toList();if(2!==n.length)throw new Error(`Expected 2 arguments in "a" operator${i.positionSuffix}.`);return e.push(wt.cons(n[0],n[1])),t.push(st.eval),V.apply}const s=ot(o,i,n);return e.push(s.value),s.cost}};function at(t){const e=[];if(t[0]<=127)return wt.fromBytes(Uint8Array.from([t[0]]));if(t[0]<=191)e.push(63&t[0]);else if(t[0]<=223){if(e.push(31&t[0]),t.shift(),!t.length)throw new s("Expected next byte in source.");e.push(t[0])}else if(t[0]<=239){e.push(15&t[0]);for(let n=0;n<2;n++){if(t.shift(),!t.length)throw new s("Expected next byte in source.");e.push(t[0])}}else if(t[0]<=247){e.push(7&t[0]);for(let n=0;n<3;n++){if(t.shift(),!t.length)throw new s("Expected next byte in source.");e.push(t[0])}}else{if(!(t[0]<=251)){if(255===t[0]){if(t.shift(),!t.length)throw new s("Expected next byte in source.");const e=at(t);if(t.shift(),!t.length)throw new s("Expected next byte in source.");const n=at(t);return wt.cons(e,n)}throw new s("Invalid encoding.")}e.push(3&t[0]);for(let n=0;n<4;n++){if(t.shift(),!t.length)throw new s("Expected next byte in source.");e.push(t[0])}}const n=(0,r.decodeInt)(Uint8Array.from(e));let i=[];for(let r=0;r<n;r++){if(t.shift(),!t.length)throw new s("Expected next byte in atom.");i.push(t[0])}return wt.fromBytes(Uint8Array.from(i))}class ft{constructor(t,e){t=t.replaceAll("\r\n","\n");let n=1,r=1;for(let i=0;i<e;i++)"\n"===t[i]?(n++,r=1):r++;this.line=n,this.column=r}toString(){return`${this.line}:${this.column}`}}function ut(t,e){const n=e[0];if(!function(t){return t.shift(),t[0]}(e))throw new s(`Unexpected end of source at ${new ft(t,n.index)}.`)}function ct(t){return/^[\u0020\u202F\u205F\u2028\u2029\u3000\u0085\u1680\u00A0\u2000-\u200A\u0009-\u000D\u001C-\u001F]$/.test(t)}function lt(t,e){for(;;){for(;e<t.length&&ct(t[e]);)e++;if(e>=t.length||";"!==t[e])break;for(;e<t.length&&!"\n\r".includes(t[e]);)e++}return e}function ht(t,e){const n=e;for(;e<t.length&&!ct(t[e])&&")"!==t[e];)e++;return{text:t.slice(n,e),index:e}}function dt(t,e){let n=e[0];if(")"===n.text)return wt.fromBytes(Uint8Array.from([])).at(new ft(t,n.index));const r=n.index,i=pt(t,e);let o;if(ut(t,e),n=e[0],"."===n.text){const r=n.index;if(ut(t,e),n=e[0],o=pt(t,e),ut(t,e),n=e[0],")"!==n.text)throw new s(`Illegal dot expression at ${new ft(t,r)}.`)}else o=dt(t,e);return wt.cons(i,o).at(new ft(t,r))}function pt(t,e){const n=e[0];if("("===n.text)return ut(t,e),dt(t,e);const r=function(t,e){return/^[+\-]?[0-9]+(?:_[0-9]+)*$/.test(e.text)?wt.fromBigInt(BigInt(e.text.replaceAll("_",""))).at(new ft(t,e.index)):null}(t,n)??function(t,e){if(!(e.text.length>=2&&"0x"===e.text.slice(0,2).toLowerCase()))return null;{let r=e.text.slice(2);r.length%2==1&&(r=`0${r}`);try{return wt.fromHex(r).at(new ft(t,e.index))}catch(n){throw new s(`Invalid hex ${JSON.stringify(e.text)} at ${new ft(t,e.index)}.`)}}}(t,n)??function(t,e){if(e.text.length<2)return null;const n=e.text[0];if(!"\"'".includes(n))return null;if(e.text[e.text.length-1]!==n)throw new s(`Unterminated string ${JSON.stringify(e.text)} at ${new ft(t,e.index)}.`);return wt.fromText(e.text.slice(1,e.text.length-1)).at(new ft(t,e.index))}(t,n)??function(t,e){let n=e.text;n.startsWith("#")&&(n=n.slice(1));const r=a[n];return(void 0===r?wt.fromText(n):wt.fromBigInt(r)).at(new ft(t,e.index))}(t,n);if(!r)throw new s(`Invalid expression ${JSON.stringify(n.text)} at ${new ft(t,n.index)}.`);return r}function*mt(t){let e=0;for(;e<t.length&&(e=lt(t,e),!(e>=t.length));){const n=t[e];if("(.)".includes(n)){yield{text:n,index:e},e++;continue}if("\"'".includes(n)){const n=e,r=t[e];for(e++;e<t.length&&t[e]!==r;)e++;if(e<t.length){yield{text:t.slice(n,e+1),index:n},e++;continue}throw new s(`Unterminated string at ${new ft(t,e)}.`)}const r=ht(t,e);yield{text:r.text,index:e},e=r.index}}class wt{static cost=11e9;static true=wt.fromBytes(Uint8Array.from([1]));static false=wt.fromBytes(Uint8Array.from([]));static nil=wt.false;get atom(){if(!this.isAtom)throw new Error(`Expected atom${this.positionSuffix}.`);return this.value}get cons(){if(!this.isCons)throw new Error(`Expected cons${this.positionSuffix}.`);return this.value}get first(){return this.cons[0]}get rest(){return this.cons[1]}get isAtom(){return this.value instanceof Uint8Array}get isCons(){return Array.isArray(this.value)}get isNull(){return this.isAtom&&0===this.value.length}static cons(t,e){return new wt([t,e])}static fromBytes(t){return new wt(t)}static fromJacobianPoint(t){return new wt(t.toBytes())}static fromPrivateKey(t){return new wt(t.toBytes())}static fromHex(t){return new wt((0,r.fromHex)(t))}static fromBool(t){return t?wt.true:wt.false}static fromInt(t){return new wt((0,r.encodeInt)(t))}static fromBigInt(t){return new wt((0,r.encodeBigInt)(t))}static fromText(t){return new wt((new TextEncoder).encode(t))}static fromSource(t){const e=[...mt(t)];if(e.length)return pt(t,e);throw new s("Unexpected end of source.")}static fromList(t){let e=wt.nil;for(const n of t.reverse())e=wt.cons(n,e);return e}static deserialize(t){const e=[...t];if(!e.length)throw new s("Unexpected end of source.");return at(e)}static deserializeHex(t){return wt.deserialize((0,r.fromHex)(t))}constructor(t){this.value=t}get positionSuffix(){return this.position?` at ${this.position}`:""}at(t){return this.position=t,this}curry(t){return wt.fromSource("(a (q #a 4 (c 2 (c 5 (c 7 0)))) (c (q (c (q . 2) (c (c (q . 1) 5) (c (a 6 (c 2 (c 11 (q 1)))) 0))) #a (i 5 (q 4 (q . 4) (c (c (q . 1) 9) (c (a 6 (c 2 (c 13 (c 11 0)))) 0))) (q . 11)) 1) 1))").run(wt.cons(this,wt.fromList(t))).value}uncurry(){const t=wt.fromSource("(a (q . (: . function)) (: . core))"),e=wt.fromSource("(c (q . (: . parm)) (: . core))");let n=S(t,this);if(!n)return null;const r=n.function;let i=n.core;const o=[];for(;n=S(e,i),n;)o.push(n.parm),i=n.core;return i.isAtom&&1n===i.toBigInt()?[r,o]:null}hash(){return this.isAtom?(0,r.hash256)((0,r.concatBytes)(Uint8Array.from([1]),this.atom)):(0,r.hash256)((0,r.concatBytes)(Uint8Array.from([2]),this.first.hash(),this.rest.hash()))}hashHex(){return(0,r.toHex)(this.hash())}define(t){let e=this;(this.isAtom||this.first.isCons||"mod"!==this.first.toText())&&(e=wt.fromList([wt.fromText("mod"),wt.nil,this]));const n=e.toList();return n.splice(2,0,t),wt.fromList(n)}defineAll(t){let e=this;for(const n of t.reverse())e=e.define(n);return e}compile(t={}){const e={strict:!1,operators:tt(),includeFilePaths:{},...t};function n(t,n){return t.run(n,e)}e.strict&&(e.operators.unknown=(t,e)=>{throw new Error(`Unimplemented operator${e.positionSuffix}.`)});const r={com:J(n),opt:$(n),_full_path_for_name:function(t){const n=t.first.toText();for(const[r,i]of Object.entries(e.includeFilePaths))if(n in i)return{value:wt.fromText(`${r}/${n}`),cost:1n};throw new Error(`Can't open ${n}${t.positionSuffix}.`)},_read:function(t){const n=t.first.toText();let r=null;for(const[i,o]of Object.entries(e.includeFilePaths))for(const[t,e]of Object.entries(o))n===`${i}/${t}`&&(r=e);if(null===r)throw new Error(`Can't open ${n}${t.positionSuffix}.`);return{value:wt.fromSource(r),cost:1n}},_write:function(t){return{value:wt.nil,cost:1n}}};return Object.assign(e.operators.operators,r),n(wt.fromSource("(a (opt (com 2)) 3)"),wt.fromList([this]))}run(t,e={}){const n={strict:!1,operators:tt(),...e};n.strict&&(n.operators.unknown=(t,e)=>{throw new Error(`Unimplemented operator${e.positionSuffix}.`)});const r=[st.eval],i=[wt.cons(this,t)];let o=0n;for(;r.length;){if(o+=r.pop()(r,i,n),void 0!==n.maxCost&&o>n.maxCost)throw new Error(`Exceeded cost of ${n.maxCost}${i[i.length-1].positionSuffix}.`)}return{value:i[i.length-1],cost:o}}toBytes(){if(this.isCons)throw new Error(`Cannot convert ${this.toString()} to hex${this.positionSuffix}.`);return this.atom}toJacobianPoint(){if(this.isCons||48!==this.atom.length&&96!==this.atom.length)throw new Error(`Cannot convert ${this.toString()} to JacobianPoint${this.positionSuffix}.`);return 48===this.atom.length?r.JacobianPoint.fromBytesG1(this.atom):r.JacobianPoint.fromBytesG2(this.atom)}toPrivateKey(){if(this.isCons)throw new Error(`Cannot convert ${this.toString()} to private key${this.positionSuffix}.`);return r.PrivateKey.fromBytes(this.atom)}toHex(){if(this.isCons)throw new Error(`Cannot convert ${this.toString()} to hex${this.positionSuffix}.`);return(0,r.toHex)(this.atom)}toBool(){if(this.isCons)throw new Error(`Cannot convert ${this.toString()} to bool${this.positionSuffix}.`);return!this.isNull}toInt(){if(this.isCons)throw new Error(`Cannot convert ${this.toString()} to int${this.positionSuffix}.`);return(0,r.decodeInt)(this.atom)}toBigInt(){if(this.isCons)throw new Error(`Cannot convert ${this.toString()} to bigint${this.positionSuffix}.`);return(0,r.decodeBigInt)(this.atom)}toText(){if(this.isCons)throw new Error(`Cannot convert ${this.toString()} to text${this.positionSuffix}.`);return(new TextDecoder).decode(this.atom)}toSource(t=!0){if(!this.isAtom){let e="(";if(t&&this.first.isAtom){const n=this.first.toBigInt(),r=Object.keys(a).find((t=>a[t]===n));e+=r||this.first.toSource(t)}else e+=this.first.toSource(t);let n=this.cons[1];for(;n.isCons;)e+=` ${n.first.toSource(t)}`,n=n.cons[1];return e+=(n.isNull?"":` . ${n.toSource(t)}`)+")",e}if(this.isNull)return"()";if(!(this.value.length>2))return(0,r.bytesEqual)((0,r.encodeInt)((0,r.decodeInt)(this.atom)),this.atom)?(0,r.decodeInt)(this.atom).toString():`0x${this.toHex()}`;try{const t=this.toText();for(let n=0;n<t.length;n++)if(!"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\"#$%&'()*+,-./:;<=>?@[]^_`{|}~ \t\n\n\v\f".includes(t[n]))return`0x${this.toHex()}`;if(t.includes('"')&&t.includes("'"))return`0x${this.toHex()}`;const e=t.includes('"')?"'":'"';return e+t+e}catch{return`0x${this.toHex()}`}}toList(t=!1){const e=[];let n=this;for(;n.isCons;){const t=n.first;e.push(t),n=n.rest}if(!n.isNull&&t)throw new Error(`Expected strict list${this.positionSuffix}.`);return e}serialize(){if(this.isAtom){if(this.isNull)return Uint8Array.from([128]);if(1===this.atom.length&&this.atom[0]<=127)return this.atom;{const t=this.atom.length,e=[];if(t<64)e.push(128|t);else if(t<8192)e.push(192|t>>8),e.push(t>>0&255);else if(t<1048576)e.push(224|t>>16),e.push(t>>8&255),e.push(t>>0&255);else if(t<134217728)e.push(240|t>>24),e.push(t>>16&255),e.push(t>>8&255),e.push(t>>0&255);else{if(!(t<17179869184))throw new RangeError(`Cannot serialize ${this.toString()} as it is 17,179,869,184 or more bytes in size${this.positionSuffix}.`);e.push(248|t>>32),e.push(t>>24&255),e.push(t>>16&255),e.push(t>>8&255),e.push(t>>0&255)}for(const n of this.atom)e.push(n);return Uint8Array.from(e)}}{const t=[255];for(const e of this.first.serialize())t.push(e);for(const e of this.rest.serialize())t.push(e);return Uint8Array.from(t)}}serializeHex(){return(0,r.toHex)(this.serialize())}equals(t){return this.isAtom===t.isAtom&&(this.isAtom?(0,r.bytesEqual)(this.atom,t.atom):this.first.equals(t.first)&&this.rest.equals(t.rest))}toString(){return this.toSource()}}var gt,yt;gt=t.exports,yt=o,Object.keys(yt).forEach((function(t){"default"===t||"__esModule"===t||gt.hasOwnProperty(t)||Object.defineProperty(gt,t,{enumerable:!0,get:function(){return yt[t]}})}))},1053:function(t){t.exports=function(){"use strict";var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e="ARRAYBUFFER not supported by this environment",n="UINT8ARRAY not supported by this environment";function r(t,e,n,r){var i,o,s,a=e||[0],f=(n=n||0)>>>3,u=-1===r?3:0;for(i=0;i<t.length;i+=1)o=(s=i+f)>>>2,a.length<=o&&a.push(0),a[o]|=t[i]<<8*(u+r*(s%4));return{value:a,binLen:8*t.length+n}}function i(i,o,s){switch(o){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(i){case"HEX":return function(t,e,n){return function(t,e,n,r){var i,o,s,a;if(0!=t.length%2)throw new Error("String of HEX type must be in byte increments");var f=e||[0],u=(n=n||0)>>>3,c=-1===r?3:0;for(i=0;i<t.length;i+=2){if(o=parseInt(t.substr(i,2),16),isNaN(o))throw new Error("String of HEX type contains invalid characters");for(s=(a=(i>>>1)+u)>>>2;f.length<=s;)f.push(0);f[s]|=o<<8*(c+r*(a%4))}return{value:f,binLen:4*t.length+n}}(t,e,n,s)};case"TEXT":return function(t,e,n){return function(t,e,n,r,i){var o,s,a,f,u,c,l,h,d=0,p=n||[0],m=(r=r||0)>>>3;if("UTF8"===e)for(l=-1===i?3:0,a=0;a<t.length;a+=1)for(s=[],128>(o=t.charCodeAt(a))?s.push(o):2048>o?(s.push(192|o>>>6),s.push(128|63&o)):55296>o||57344<=o?s.push(224|o>>>12,128|o>>>6&63,128|63&o):(a+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(a)),s.push(240|o>>>18,128|o>>>12&63,128|o>>>6&63,128|63&o)),f=0;f<s.length;f+=1){for(u=(c=d+m)>>>2;p.length<=u;)p.push(0);p[u]|=s[f]<<8*(l+i*(c%4)),d+=1}else for(l=-1===i?2:0,h="UTF16LE"===e&&1!==i||"UTF16LE"!==e&&1===i,a=0;a<t.length;a+=1){for(o=t.charCodeAt(a),!0===h&&(o=(f=255&o)<<8|o>>>8),u=(c=d+m)>>>2;p.length<=u;)p.push(0);p[u]|=o<<8*(l+i*(c%4)),d+=2}return{value:p,binLen:8*d+r}}(t,o,e,n,s)};case"B64":return function(e,n,r){return function(e,n,r,i){var o,s,a,f,u,c,l=0,h=n||[0],d=(r=r||0)>>>3,p=-1===i?3:0,m=e.indexOf("=");if(-1===e.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(e=e.replace(/=/g,""),-1!==m&&m<e.length)throw new Error("Invalid '=' found in base-64 string");for(o=0;o<e.length;o+=4){for(f=e.substr(o,4),a=0,s=0;s<f.length;s+=1)a|=t.indexOf(f.charAt(s))<<18-6*s;for(s=0;s<f.length-1;s+=1){for(u=(c=l+d)>>>2;h.length<=u;)h.push(0);h[u]|=(a>>>16-8*s&255)<<8*(p+i*(c%4)),l+=1}}return{value:h,binLen:8*l+r}}(e,n,r,s)};case"BYTES":return function(t,e,n){return function(t,e,n,r){var i,o,s,a,f=e||[0],u=(n=n||0)>>>3,c=-1===r?3:0;for(o=0;o<t.length;o+=1)i=t.charCodeAt(o),s=(a=o+u)>>>2,f.length<=s&&f.push(0),f[s]|=i<<8*(c+r*(a%4));return{value:f,binLen:8*t.length+n}}(t,e,n,s)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error(e)}return function(t,e,n){return function(t,e,n,i){return r(new Uint8Array(t),e,n,i)}(t,e,n,s)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error(n)}return function(t,e,n){return r(t,e,n,s)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function o(r,i,o,s){switch(r){case"HEX":return function(t){return function(t,e,n,r){var i,o,s="0123456789abcdef",a="",f=e/8,u=-1===n?3:0;for(i=0;i<f;i+=1)o=t[i>>>2]>>>8*(u+n*(i%4)),a+=s.charAt(o>>>4&15)+s.charAt(15&o);return r.outputUpper?a.toUpperCase():a}(t,i,o,s)};case"B64":return function(e){return function(e,n,r,i){var o,s,a,f,u,c="",l=n/8,h=-1===r?3:0;for(o=0;o<l;o+=3)for(f=o+1<l?e[o+1>>>2]:0,u=o+2<l?e[o+2>>>2]:0,a=(e[o>>>2]>>>8*(h+r*(o%4))&255)<<16|(f>>>8*(h+r*((o+1)%4))&255)<<8|u>>>8*(h+r*((o+2)%4))&255,s=0;s<4;s+=1)c+=8*o+6*s<=n?t.charAt(a>>>6*(3-s)&63):i.b64Pad;return c}(e,i,o,s)};case"BYTES":return function(t){return function(t,e,n){var r,i,o="",s=e/8,a=-1===n?3:0;for(r=0;r<s;r+=1)i=t[r>>>2]>>>8*(a+n*(r%4))&255,o+=String.fromCharCode(i);return o}(t,i,o)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error(e)}return function(t){return function(t,e,n){var r,i=e/8,o=new ArrayBuffer(i),s=new Uint8Array(o),a=-1===n?3:0;for(r=0;r<i;r+=1)s[r]=t[r>>>2]>>>8*(a+n*(r%4))&255;return o}(t,i,o)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error(n)}return function(t){return function(t,e,n){var r,i=e/8,o=-1===n?3:0,s=new Uint8Array(i);for(r=0;r<i;r+=1)s[r]=t[r>>>2]>>>8*(o+n*(r%4))&255;return s}(t,i,o)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}var s=4294967296,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],u=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c="Chosen SHA variant is not supported",l="Cannot set numRounds with MAC";function h(t,e){var n,r,i=t.binLen>>>3,o=e.binLen>>>3,s=i<<3,a=4-i<<3;if(i%4!=0){for(n=0;n<o;n+=4)r=i+n>>>2,t.value[r]|=e.value[n>>>2]<<s,t.value.push(0),t.value[r+1]|=e.value[n>>>2]>>>a;return(t.value.length<<2)-4>=o+i&&t.value.pop(),{value:t.value,binLen:t.binLen+e.binLen}}return{value:t.value.concat(e.value),binLen:t.binLen+e.binLen}}function d(t){var e={outputUpper:!1,b64Pad:"=",outputLen:-1},n=t||{},r="Output length must be a multiple of 8";if(e.outputUpper=n.outputUpper||!1,n.b64Pad&&(e.b64Pad=n.b64Pad),n.outputLen){if(n.outputLen%8!=0)throw new Error(r);e.outputLen=n.outputLen}else if(n.shakeLen){if(n.shakeLen%8!=0)throw new Error(r);e.outputLen=n.shakeLen}if("boolean"!=typeof e.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof e.b64Pad)throw new Error("Invalid b64Pad formatting option");return e}function p(t,e,n,r){var o=t+" must include a value and format";if(!e){if(!r)throw new Error(o);return r}if(void 0===e.value||!e.format)throw new Error(o);return i(e.format,e.encoding||"UTF8",n)(e.value)}var m=function(){function t(t,e,n){var r=n||{};if(this.t=e,this.i=r.encoding||"UTF8",this.numRounds=r.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=t,this.u=[],this.h=0,this.v=!1,this.A=0,this.l=!1,this.S=[],this.H=[]}return t.prototype.update=function(t){var e,n=0,r=this.p>>>5,i=this.m(t,this.u,this.h),o=i.binLen,s=i.value,a=o>>>5;for(e=0;e<a;e+=r)n+this.p<=o&&(this.U=this.R(s.slice(e,e+r),this.U),n+=this.p);return this.A+=n,this.u=s.slice(n>>>5),this.h=o%this.p,this.v=!0,this},t.prototype.getHash=function(t,e){var n,r,i=this.T,s=d(e);if(this.C){if(-1===s.outputLen)throw new Error("Output length must be specified in options");i=s.outputLen}var a=o(t,i,this.F,s);if(this.l&&this.K)return a(this.K(s));for(r=this.g(this.u.slice(),this.h,this.A,this.L(this.U),i),n=1;n<this.numRounds;n+=1)this.C&&i%32!=0&&(r[r.length-1]&=16777215>>>24-i%32),r=this.g(r,i,0,this.B(this.o),i);return a(r)},t.prototype.setHMACKey=function(t,e,n){if(!this.k)throw new Error("Variant does not support HMAC");if(this.v)throw new Error("Cannot set MAC key after calling update");var r=i(e,(n||{}).encoding||"UTF8",this.F);this.Y(r(t))},t.prototype.Y=function(t){var e,n=this.p>>>3,r=n/4-1;if(1!==this.numRounds)throw new Error(l);if(this.l)throw new Error("MAC key already set");for(n<t.binLen/8&&(t.value=this.g(t.value,t.binLen,0,this.B(this.o),this.T));t.value.length<=r;)t.value.push(0);for(e=0;e<=r;e+=1)this.S[e]=909522486^t.value[e],this.H[e]=1549556828^t.value[e];this.U=this.R(this.S,this.U),this.A=this.p,this.l=!0},t.prototype.getHMAC=function(t,e){var n=d(e);return o(t,this.T,this.F,n)(this.N())},t.prototype.N=function(){var t;if(!this.l)throw new Error("Cannot call getHMAC without first setting MAC key");var e=this.g(this.u.slice(),this.h,this.A,this.L(this.U),this.T);return t=this.R(this.H,this.B(this.o)),this.g(e,this.T,this.p,t,this.T)},t}(),w=function(t,e){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},w(t,e)};function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function y(t,e){return t<<e|t>>>32-e}function b(t,e){return t>>>e|t<<32-e}function v(t,e){return t>>>e}function x(t,e,n){return t^e^n}function B(t,e,n){return t&e^~t&n}function S(t,e,n){return t&e^t&n^e&n}function I(t){return b(t,2)^b(t,13)^b(t,22)}function A(t,e){var n=(65535&t)+(65535&e);return(65535&(t>>>16)+(e>>>16)+(n>>>16))<<16|65535&n}function E(t,e,n,r){var i=(65535&t)+(65535&e)+(65535&n)+(65535&r);return(65535&(t>>>16)+(e>>>16)+(n>>>16)+(r>>>16)+(i>>>16))<<16|65535&i}function q(t,e,n,r,i){var o=(65535&t)+(65535&e)+(65535&n)+(65535&r)+(65535&i);return(65535&(t>>>16)+(e>>>16)+(n>>>16)+(r>>>16)+(i>>>16)+(o>>>16))<<16|65535&o}function C(t){return b(t,7)^b(t,18)^v(t,3)}function L(t){return b(t,6)^b(t,11)^b(t,25)}function _(t){return[1732584193,4023233417,2562383102,271733878,3285377520]}function P(t,e){var n,r,i,o,s,a,f,u=[];for(n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],f=0;f<80;f+=1)u[f]=f<16?t[f]:y(u[f-3]^u[f-8]^u[f-14]^u[f-16],1),a=f<20?q(y(n,5),B(r,i,o),s,1518500249,u[f]):f<40?q(y(n,5),x(r,i,o),s,1859775393,u[f]):f<60?q(y(n,5),S(r,i,o),s,2400959708,u[f]):q(y(n,5),x(r,i,o),s,3395469782,u[f]),s=o,o=i,i=y(r,30),r=n,n=a;return e[0]=A(n,e[0]),e[1]=A(r,e[1]),e[2]=A(i,e[2]),e[3]=A(o,e[3]),e[4]=A(s,e[4]),e}function k(t,e,n,r){for(var i,o=15+(e+65>>>9<<4),a=e+n;t.length<=o;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[o]=4294967295&a,t[o-1]=a/s|0,i=0;i<t.length;i+=16)r=P(t.slice(i,i+16),r);return r}"function"==typeof SuppressedError&&SuppressedError;var T=function(t){function e(e,n,r){var o=this;if("SHA-1"!==e)throw new Error(c);var s=r||{};return(o=t.call(this,e,n,r)||this).k=!0,o.K=o.N,o.F=-1,o.m=i(o.t,o.i,o.F),o.R=P,o.L=function(t){return t.slice()},o.B=_,o.g=k,o.U=[1732584193,4023233417,2562383102,271733878,3285377520],o.p=512,o.T=160,o.C=!1,s.hmacKey&&o.Y(p("hmacKey",s.hmacKey,o.F)),o}return g(e,t),e}(m);function U(t){return"SHA-224"==t?f.slice():u.slice()}function M(t,e){var n,r,i,o,s,f,u,c,l,h,d,p,m=[];for(n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],f=e[5],u=e[6],c=e[7],d=0;d<64;d+=1)m[d]=d<16?t[d]:E(b(p=m[d-2],17)^b(p,19)^v(p,10),m[d-7],C(m[d-15]),m[d-16]),l=q(c,L(s),B(s,f,u),a[d],m[d]),h=A(I(n),S(n,r,i)),c=u,u=f,f=s,s=A(o,l),o=i,i=r,r=n,n=A(l,h);return e[0]=A(n,e[0]),e[1]=A(r,e[1]),e[2]=A(i,e[2]),e[3]=A(o,e[3]),e[4]=A(s,e[4]),e[5]=A(f,e[5]),e[6]=A(u,e[6]),e[7]=A(c,e[7]),e}var $=function(t){function e(e,n,r){var o=this;if("SHA-224"!==e&&"SHA-256"!==e)throw new Error(c);var a=r||{};return(o=t.call(this,e,n,r)||this).K=o.N,o.k=!0,o.F=-1,o.m=i(o.t,o.i,o.F),o.R=M,o.L=function(t){return t.slice()},o.B=U,o.g=function(t,n,r,i){return function(t,e,n,r,i){for(var o,a=15+(e+65>>>9<<4),f=e+n;t.length<=a;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[a]=4294967295&f,t[a-1]=f/s|0,o=0;o<t.length;o+=16)r=M(t.slice(o,o+16),r);return"SHA-224"===i?[r[0],r[1],r[2],r[3],r[4],r[5],r[6]]:r}(t,n,r,i,e)},o.U=U(e),o.p=512,o.T="SHA-224"===e?224:256,o.C=!1,a.hmacKey&&o.Y(p("hmacKey",a.hmacKey,o.F)),o}return g(e,t),e}(m),H=function(t,e){this.I=t,this.M=e};function O(t,e){var n;return e>32?(n=64-e,new H(t.M<<e|t.I>>>n,t.I<<e|t.M>>>n)):0!==e?(n=32-e,new H(t.I<<e|t.M>>>n,t.M<<e|t.I>>>n)):t}function z(t,e){var n;return e<32?(n=32-e,new H(t.I>>>e|t.M<<n,t.M>>>e|t.I<<n)):(n=64-e,new H(t.M>>>e|t.I<<n,t.I>>>e|t.M<<n))}function N(t,e){return new H(t.I>>>e,t.M>>>e|t.I<<32-e)}function R(t,e,n){return new H(t.I&e.I^~t.I&n.I,t.M&e.M^~t.M&n.M)}function K(t,e,n){return new H(t.I&e.I^t.I&n.I^e.I&n.I,t.M&e.M^t.M&n.M^e.M&n.M)}function F(t){var e=z(t,28),n=z(t,34),r=z(t,39);return new H(e.I^n.I^r.I,e.M^n.M^r.M)}function Q(t,e){var n,r;n=(65535&t.M)+(65535&e.M);var i=(65535&(r=(t.M>>>16)+(e.M>>>16)+(n>>>16)))<<16|65535&n;return n=(65535&t.I)+(65535&e.I)+(r>>>16),r=(t.I>>>16)+(e.I>>>16)+(n>>>16),new H((65535&r)<<16|65535&n,i)}function j(t,e,n,r){var i,o;i=(65535&t.M)+(65535&e.M)+(65535&n.M)+(65535&r.M);var s=(65535&(o=(t.M>>>16)+(e.M>>>16)+(n.M>>>16)+(r.M>>>16)+(i>>>16)))<<16|65535&i;return i=(65535&t.I)+(65535&e.I)+(65535&n.I)+(65535&r.I)+(o>>>16),o=(t.I>>>16)+(e.I>>>16)+(n.I>>>16)+(r.I>>>16)+(i>>>16),new H((65535&o)<<16|65535&i,s)}function G(t,e,n,r,i){var o,s;o=(65535&t.M)+(65535&e.M)+(65535&n.M)+(65535&r.M)+(65535&i.M);var a=(65535&(s=(t.M>>>16)+(e.M>>>16)+(n.M>>>16)+(r.M>>>16)+(i.M>>>16)+(o>>>16)))<<16|65535&o;return o=(65535&t.I)+(65535&e.I)+(65535&n.I)+(65535&r.I)+(65535&i.I)+(s>>>16),s=(t.I>>>16)+(e.I>>>16)+(n.I>>>16)+(r.I>>>16)+(i.I>>>16)+(o>>>16),new H((65535&s)<<16|65535&o,a)}function D(t,e){return new H(t.I^e.I,t.M^e.M)}function Y(t){var e=z(t,1),n=z(t,8),r=N(t,7);return new H(e.I^n.I^r.I,e.M^n.M^r.M)}function W(t){var e=z(t,14),n=z(t,18),r=z(t,41);return new H(e.I^n.I^r.I,e.M^n.M^r.M)}var J=[new H(a[0],3609767458),new H(a[1],602891725),new H(a[2],3964484399),new H(a[3],2173295548),new H(a[4],4081628472),new H(a[5],3053834265),new H(a[6],2937671579),new H(a[7],3664609560),new H(a[8],2734883394),new H(a[9],1164996542),new H(a[10],1323610764),new H(a[11],3590304994),new H(a[12],4068182383),new H(a[13],991336113),new H(a[14],633803317),new H(a[15],3479774868),new H(a[16],2666613458),new H(a[17],944711139),new H(a[18],2341262773),new H(a[19],2007800933),new H(a[20],1495990901),new H(a[21],1856431235),new H(a[22],3175218132),new H(a[23],2198950837),new H(a[24],3999719339),new H(a[25],766784016),new H(a[26],2566594879),new H(a[27],3203337956),new H(a[28],1034457026),new H(a[29],2466948901),new H(a[30],3758326383),new H(a[31],168717936),new H(a[32],1188179964),new H(a[33],1546045734),new H(a[34],1522805485),new H(a[35],2643833823),new H(a[36],2343527390),new H(a[37],1014477480),new H(a[38],1206759142),new H(a[39],344077627),new H(a[40],1290863460),new H(a[41],3158454273),new H(a[42],3505952657),new H(a[43],106217008),new H(a[44],3606008344),new H(a[45],1432725776),new H(a[46],1467031594),new H(a[47],851169720),new H(a[48],3100823752),new H(a[49],1363258195),new H(a[50],3750685593),new H(a[51],3785050280),new H(a[52],3318307427),new H(a[53],3812723403),new H(a[54],2003034995),new H(a[55],3602036899),new H(a[56],1575990012),new H(a[57],1125592928),new H(a[58],2716904306),new H(a[59],442776044),new H(a[60],593698344),new H(a[61],3733110249),new H(a[62],2999351573),new H(a[63],3815920427),new H(3391569614,3928383900),new H(3515267271,566280711),new H(3940187606,3454069534),new H(4118630271,4000239992),new H(116418474,1914138554),new H(174292421,2731055270),new H(289380356,3203993006),new H(460393269,320620315),new H(685471733,587496836),new H(852142971,1086792851),new H(1017036298,365543100),new H(1126000580,2618297676),new H(1288033470,3409855158),new H(1501505948,4234509866),new H(1607167915,987167468),new H(1816402316,1246189591)];function V(t){return"SHA-384"===t?[new H(3418070365,f[0]),new H(1654270250,f[1]),new H(2438529370,f[2]),new H(355462360,f[3]),new H(1731405415,f[4]),new H(41048885895,f[5]),new H(3675008525,f[6]),new H(1203062813,f[7])]:[new H(u[0],4089235720),new H(u[1],2227873595),new H(u[2],4271175723),new H(u[3],1595750129),new H(u[4],2917565137),new H(u[5],725511199),new H(u[6],4215389547),new H(u[7],327033209)]}function X(t,e){var n,r,i,o,s,a,f,u,c,l,h,d,p,m,w,g,y=[];for(n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],f=e[6],u=e[7],h=0;h<80;h+=1)h<16?(d=2*h,y[h]=new H(t[d],t[d+1])):y[h]=j((m=void 0,w=void 0,g=void 0,m=z(p=y[h-2],19),w=z(p,61),g=N(p,6),new H(m.I^w.I^g.I,m.M^w.M^g.M)),y[h-7],Y(y[h-15]),y[h-16]),c=G(u,W(s),R(s,a,f),J[h],y[h]),l=Q(F(n),K(n,r,i)),u=f,f=a,a=s,s=Q(o,c),o=i,i=r,r=n,n=Q(c,l);return e[0]=Q(n,e[0]),e[1]=Q(r,e[1]),e[2]=Q(i,e[2]),e[3]=Q(o,e[3]),e[4]=Q(s,e[4]),e[5]=Q(a,e[5]),e[6]=Q(f,e[6]),e[7]=Q(u,e[7]),e}var Z=function(t){function e(e,n,r){var o=this;if("SHA-384"!==e&&"SHA-512"!==e)throw new Error(c);var a=r||{};return(o=t.call(this,e,n,r)||this).K=o.N,o.k=!0,o.F=-1,o.m=i(o.t,o.i,o.F),o.R=X,o.L=function(t){return t.slice()},o.B=V,o.g=function(t,n,r,i){return function(t,e,n,r,i){for(var o,a=31+(e+129>>>10<<5),f=e+n;t.length<=a;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[a]=4294967295&f,t[a-1]=f/s|0,o=0;o<t.length;o+=32)r=X(t.slice(o,o+32),r);return"SHA-384"===i?[r[0].I,r[0].M,r[1].I,r[1].M,r[2].I,r[2].M,r[3].I,r[3].M,r[4].I,r[4].M,r[5].I,r[5].M]:[r[0].I,r[0].M,r[1].I,r[1].M,r[2].I,r[2].M,r[3].I,r[3].M,r[4].I,r[4].M,r[5].I,r[5].M,r[6].I,r[6].M,r[7].I,r[7].M]}(t,n,r,i,e)},o.U=V(e),o.p=1024,o.T="SHA-384"===e?384:512,o.C=!1,a.hmacKey&&o.Y(p("hmacKey",a.hmacKey,o.F)),o}return g(e,t),e}(m),tt=[new H(0,1),new H(0,32898),new H(2147483648,32906),new H(2147483648,2147516416),new H(0,32907),new H(0,2147483649),new H(2147483648,2147516545),new H(2147483648,32777),new H(0,138),new H(0,136),new H(0,2147516425),new H(0,2147483658),new H(0,2147516555),new H(2147483648,139),new H(2147483648,32905),new H(2147483648,32771),new H(2147483648,32770),new H(2147483648,128),new H(0,32778),new H(2147483648,2147483658),new H(2147483648,2147516545),new H(2147483648,32896),new H(0,2147483649),new H(2147483648,2147516424)],et=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function nt(t){var e,n=[];for(e=0;e<5;e+=1)n[e]=[new H(0,0),new H(0,0),new H(0,0),new H(0,0),new H(0,0)];return n}function rt(t){var e,n=[];for(e=0;e<5;e+=1)n[e]=t[e].slice();return n}function it(t,e){var n,r,i,o,s,a,f,u,c,l=[],h=[];if(null!==t)for(r=0;r<t.length;r+=2)e[(r>>>1)%5][(r>>>1)/5|0]=D(e[(r>>>1)%5][(r>>>1)/5|0],new H(t[r+1],t[r]));for(n=0;n<24;n+=1){for(o=nt(),r=0;r<5;r+=1)l[r]=(s=e[r][0],a=e[r][1],f=e[r][2],u=e[r][3],c=e[r][4],new H(s.I^a.I^f.I^u.I^c.I,s.M^a.M^f.M^u.M^c.M));for(r=0;r<5;r+=1)h[r]=D(l[(r+4)%5],O(l[(r+1)%5],1));for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)e[r][i]=D(e[r][i],h[r]);for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)o[i][(2*r+3*i)%5]=O(e[r][i],et[r][i]);for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)e[r][i]=D(o[r][i],new H(~o[(r+1)%5][i].I&o[(r+2)%5][i].I,~o[(r+1)%5][i].M&o[(r+2)%5][i].M));e[0][0]=D(e[0][0],tt[n])}return e}function ot(t){var e,n,r=0,i=[0,0],o=[4294967295&t,t/s&2097151];for(e=6;e>=0;e--)0==(n=o[e>>2]>>>8*e&255)&&0===r||(i[r+1>>2]|=n<<8*(r+1),r+=1);return r=0!==r?r:1,i[0]|=r,{value:r+1>4?i:[i[0]],binLen:8+8*r}}function st(t){return h(ot(t.binLen),t)}function at(t,e){var n,r=ot(e),i=e>>>2,o=(i-(r=h(r,t)).value.length%i)%i;for(n=0;n<o;n++)r.value.push(0);return r.value}var ft=function(t){function e(e,n,r){var o=this,s=6,a=0,f=r||{};if(1!==(o=t.call(this,e,n,r)||this).numRounds){if(f.kmacKey||f.hmacKey)throw new Error(l);if("CSHAKE128"===o.o||"CSHAKE256"===o.o)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(o.F=1,o.m=i(o.t,o.i,o.F),o.R=it,o.L=rt,o.B=nt,o.U=nt(),o.C=!1,e){case"SHA3-224":o.p=a=1152,o.T=224,o.k=!0,o.K=o.N;break;case"SHA3-256":o.p=a=1088,o.T=256,o.k=!0,o.K=o.N;break;case"SHA3-384":o.p=a=832,o.T=384,o.k=!0,o.K=o.N;break;case"SHA3-512":o.p=a=576,o.T=512,o.k=!0,o.K=o.N;break;case"SHAKE128":s=31,o.p=a=1344,o.T=-1,o.C=!0,o.k=!1,o.K=null;break;case"SHAKE256":s=31,o.p=a=1088,o.T=-1,o.C=!0,o.k=!1,o.K=null;break;case"KMAC128":s=4,o.p=a=1344,o.X(r),o.T=-1,o.C=!0,o.k=!1,o.K=o.O;break;case"KMAC256":s=4,o.p=a=1088,o.X(r),o.T=-1,o.C=!0,o.k=!1,o.K=o.O;break;case"CSHAKE128":o.p=a=1344,s=o.j(r),o.T=-1,o.C=!0,o.k=!1,o.K=null;break;case"CSHAKE256":o.p=a=1088,s=o.j(r),o.T=-1,o.C=!0,o.k=!1,o.K=null;break;default:throw new Error(c)}return o.g=function(t,e,n,r,i){return function(t,e,n,r,i,o,s){var a,f,u=0,c=[],l=i>>>5,h=e>>>5;for(a=0;a<h&&e>=i;a+=l)r=it(t.slice(a,a+l),r),e-=i;for(t=t.slice(a),e%=i;t.length<l;)t.push(0);for(t[(a=e>>>3)>>2]^=o<<a%4*8,t[l-1]^=2147483648,r=it(t,r);32*c.length<s&&(f=r[u%5][u/5|0],c.push(f.M),!(32*c.length>=s));)c.push(f.I),0==64*(u+=1)%i&&(it(null,r),u=0);return c}(t,e,0,r,a,s,i)},f.hmacKey&&o.Y(p("hmacKey",f.hmacKey,o.F)),o}return g(e,t),e.prototype.j=function(t,e){var n=function(t){var e=t||{};return{funcName:p("funcName",e.funcName,1,{value:[],binLen:0}),customization:p("Customization",e.customization,1,{value:[],binLen:0})}}(t||{});e&&(n.funcName=e);var r=h(st(n.funcName),st(n.customization));if(0!==n.customization.binLen||0!==n.funcName.binLen){for(var i=at(r,this.p>>>3),o=0;o<i.length;o+=this.p>>>5)this.U=this.R(i.slice(o,o+(this.p>>>5)),this.U),this.A+=this.p;return 4}return 31},e.prototype.X=function(t){var e=function(t){var e=t||{};return{kmacKey:p("kmacKey",e.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:p("Customization",e.customization,1,{value:[],binLen:0})}}(t||{});this.j(t,e.funcName);for(var n=at(st(e.kmacKey),this.p>>>3),r=0;r<n.length;r+=this.p>>>5)this.U=this.R(n.slice(r,r+(this.p>>>5)),this.U),this.A+=this.p;this.l=!0},e.prototype.O=function(t){var e=h({value:this.u.slice(),binLen:this.h},function(t){var e,n,r=0,i=[0,0],o=[4294967295&t,t/s&2097151];for(e=6;e>=0;e--)0==(n=o[e>>2]>>>8*e&255)&&0===r||(i[r>>2]|=n<<8*r,r+=1);return i[(r=0!==r?r:1)>>2]|=r<<8*r,{value:r+1>4?i:[i[0]],binLen:8+8*r}}(t.outputLen));return this.g(e.value,e.binLen,this.A,this.L(this.U),t.outputLen)},e}(m);return function(){function t(t,e,n){if("SHA-1"==t)this._=new T(t,e,n);else if("SHA-224"==t||"SHA-256"==t)this._=new $(t,e,n);else if("SHA-384"==t||"SHA-512"==t)this._=new Z(t,e,n);else{if("SHA3-224"!=t&&"SHA3-256"!=t&&"SHA3-384"!=t&&"SHA3-512"!=t&&"SHAKE128"!=t&&"SHAKE256"!=t&&"CSHAKE128"!=t&&"CSHAKE256"!=t&&"KMAC128"!=t&&"KMAC256"!=t)throw new Error(c);this._=new ft(t,e,n)}}return t.prototype.update=function(t){return this._.update(t),this},t.prototype.getHash=function(t,e){return this._.getHash(t,e)},t.prototype.setHMACKey=function(t,e,n){this._.setHMACKey(t,e,n)},t.prototype.getHMAC=function(t,e){return this._.getHMAC(t,e)},t}()}()},5154:(t,e,n)=>{"use strict";n.d(e,{l_A:()=>l,A0H:()=>h,gmG:()=>d,aHS:()=>p});var r=n(7294),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=r.createContext&&r.createContext(i),s=function(){return s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)},a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function f(t){return t&&t.map((function(t,e){return r.createElement(t.tag,s({key:e},t.attr),f(t.child))}))}function u(t){return function(e){return r.createElement(c,s({attr:s({},t.attr)},e),f(t.child))}}function c(t){var e=function(e){var n,i=t.attr,o=t.size,f=t.title,u=a(t,["attr","size","title"]),c=o||e.size||"1em";return e.className&&(n=e.className),t.className&&(n=(n?n+" ":"")+t.className),r.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,u,{className:n,style:s(s({color:t.color||e.color},e.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),f&&r.createElement("title",null,f),t.children)};return void 0!==o?r.createElement(o.Consumer,null,(function(t){return e(t)})):e(i)}function l(t){return u({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(t)}function h(t){return u({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"}}]})(t)}function d(t){return u({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(t)}function p(t){return u({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(t)}},460:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)},s=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),f=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&s(e,t,n);return a(e,t),e},u=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};Object.defineProperty(e,"__esModule",{value:!0});var c=f(n(7294)),l="undefined"!=typeof window&&"navigator"in window&&/Win/i.test(navigator.platform),h="undefined"!=typeof window&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),d="npm__react-simple-code-editor__textarea",p="\n/**\n * Reset the text fill color so that placeholder is visible\n */\n.".concat(d,":empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  .").concat(d," {\n    color: transparent !important;\n  }\n\n  .").concat(d,"::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n"),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={capture:!0},e._recordCurrentState=function(){var t=e._input;if(t){var n=t.value,r=t.selectionStart,i=t.selectionEnd;e._recordChange({value:n,selectionStart:r,selectionEnd:i})}},e._getLines=function(t,e){return t.substring(0,e).split("\n")},e._recordChange=function(t,n){var r,i,s;void 0===n&&(n=!1);var a=e._history,f=a.stack,u=a.offset;if(f.length&&u>-1){e._history.stack=f.slice(0,u+1);var c=e._history.stack.length;if(c>100){var l=c-100;e._history.stack=f.slice(l,c),e._history.offset=Math.max(e._history.offset-l,0)}}var h=Date.now();if(n){var d=e._history.stack[e._history.offset];if(d&&h-d.timestamp<3e3){var p=/[^a-z0-9]([a-z0-9]+)$/i,m=null===(r=e._getLines(d.value,d.selectionStart).pop())||void 0===r?void 0:r.match(p),w=null===(i=e._getLines(t.value,t.selectionStart).pop())||void 0===i?void 0:i.match(p);if((null==m?void 0:m[1])&&(null===(s=null==w?void 0:w[1])||void 0===s?void 0:s.startsWith(m[1])))return void(e._history.stack[e._history.offset]=o(o({},t),{timestamp:h}))}}e._history.stack.push(o(o({},t),{timestamp:h})),e._history.offset++},e._updateInput=function(t){var n=e._input;n&&(n.value=t.value,n.selectionStart=t.selectionStart,n.selectionEnd=t.selectionEnd,e.props.onValueChange(t.value))},e._applyEdits=function(t){var n=e._input,r=e._history.stack[e._history.offset];r&&n&&(e._history.stack[e._history.offset]=o(o({},r),{selectionStart:n.selectionStart,selectionEnd:n.selectionEnd})),e._recordChange(t),e._updateInput(t)},e._undoEdit=function(){var t=e._history,n=t.stack,r=t.offset,i=n[r-1];i&&(e._updateInput(i),e._history.offset=Math.max(r-1,0))},e._redoEdit=function(){var t=e._history,n=t.stack,r=t.offset,i=n[r+1];i&&(e._updateInput(i),e._history.offset=Math.min(r+1,n.length-1))},e._handleKeyDown=function(t){var n=e.props,r=n.tabSize,i=n.insertSpaces,o=n.ignoreTabKey,s=n.onKeyDown;if(!s||(s(t),!t.defaultPrevented)){27===t.keyCode&&t.currentTarget.blur();var a=t.currentTarget,f=a.value,u=a.selectionStart,c=a.selectionEnd,d=(i?" ":"\t").repeat(r);if(9===t.keyCode&&!o&&e.state.capture)if(t.preventDefault(),t.shiftKey){var p=(y=e._getLines(f,u)).length-1,m=e._getLines(f,c).length-1,w=f.split("\n").map((function(t,e){return e>=p&&e<=m&&t.startsWith(d)?t.substring(d.length):t})).join("\n");if(f!==w){var g=y[p];e._applyEdits({value:w,selectionStart:(null==g?void 0:g.startsWith(d))?u-d.length:u,selectionEnd:c-(f.length-w.length)})}}else if(u!==c){var y,b=(y=e._getLines(f,u)).length-1,v=e._getLines(f,c).length-1;g=y[b];e._applyEdits({value:f.split("\n").map((function(t,e){return e>=b&&e<=v?d+t:t})).join("\n"),selectionStart:g&&/\S/.test(g)?u+d.length:u,selectionEnd:c+d.length*(v-b+1)})}else{var x=u+d.length;e._applyEdits({value:f.substring(0,u)+d+f.substring(c),selectionStart:x,selectionEnd:x})}else if(8===t.keyCode){var B=u!==c;if(f.substring(0,u).endsWith(d)&&!B){t.preventDefault();x=u-d.length;e._applyEdits({value:f.substring(0,u-d.length)+f.substring(c),selectionStart:x,selectionEnd:x})}}else if(13===t.keyCode){if(u===c){var S=e._getLines(f,u).pop(),I=null==S?void 0:S.match(/^\s+/);if(null==I?void 0:I[0]){t.preventDefault();var A="\n"+I[0];x=u+A.length;e._applyEdits({value:f.substring(0,u)+A+f.substring(c),selectionStart:x,selectionEnd:x})}}}else if(57===t.keyCode||219===t.keyCode||222===t.keyCode||192===t.keyCode){var E=void 0;57===t.keyCode&&t.shiftKey?E=["(",")"]:219===t.keyCode?E=t.shiftKey?["{","}"]:["[","]"]:222===t.keyCode?E=t.shiftKey?['"','"']:["'","'"]:192!==t.keyCode||t.shiftKey||(E=["`","`"]),u!==c&&E&&(t.preventDefault(),e._applyEdits({value:f.substring(0,u)+E[0]+f.substring(u,c)+E[1]+f.substring(c),selectionStart:u,selectionEnd:c+2}))}else!(h?t.metaKey&&90===t.keyCode:t.ctrlKey&&90===t.keyCode)||t.shiftKey||t.altKey?(h?t.metaKey&&90===t.keyCode&&t.shiftKey:l?t.ctrlKey&&89===t.keyCode:t.ctrlKey&&90===t.keyCode&&t.shiftKey)&&!t.altKey?(t.preventDefault(),e._redoEdit()):77!==t.keyCode||!t.ctrlKey||h&&!t.shiftKey||(t.preventDefault(),e.setState((function(t){return{capture:!t.capture}}))):(t.preventDefault(),e._undoEdit())}},e._handleChange=function(t){var n=t.currentTarget,r=n.value,i=n.selectionStart,o=n.selectionEnd;e._recordChange({value:r,selectionStart:i,selectionEnd:o},!0),e.props.onValueChange(r)},e._history={stack:[],offset:-1},e._input=null,e}return i(e,t),e.prototype.componentDidMount=function(){this._recordCurrentState()},Object.defineProperty(e.prototype,"session",{get:function(){return{history:this._history}},set:function(t){this._history=t.history},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this,e=this.props,n=e.value,r=e.style,i=e.padding,s=e.highlight,a=e.textareaId,f=e.textareaClassName,l=e.autoFocus,h=e.disabled,m=e.form,g=e.maxLength,y=e.minLength,b=e.name,v=e.placeholder,x=e.readOnly,B=e.required,S=e.onClick,I=e.onFocus,A=e.onBlur,E=e.onKeyUp,q=(e.onKeyDown,e.onValueChange,e.tabSize,e.insertSpaces,e.ignoreTabKey,e.preClassName),C=u(e,["value","style","padding","highlight","textareaId","textareaClassName","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey","preClassName"]),L={paddingTop:"object"==typeof i?i.top:i,paddingRight:"object"==typeof i?i.right:i,paddingBottom:"object"==typeof i?i.bottom:i,paddingLeft:"object"==typeof i?i.left:i},_=s(n);return c.createElement("div",o({},C,{style:o(o({},w.container),r)}),c.createElement("pre",o({className:q,"aria-hidden":"true",style:o(o(o({},w.editor),w.highlight),L)},"string"==typeof _?{dangerouslySetInnerHTML:{__html:_+"<br />"}}:{children:_})),c.createElement("textarea",{ref:function(e){return t._input=e},style:o(o(o({},w.editor),w.textarea),L),className:d+(f?" ".concat(f):""),id:a,value:n,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:S,onKeyUp:E,onFocus:I,onBlur:A,disabled:h,form:m,maxLength:g,minLength:y,name:b,placeholder:v,readOnly:x,required:B,autoFocus:l,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),c.createElement("style",{dangerouslySetInnerHTML:{__html:p}}))},e.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},e}(c.Component);e.default=m;var w={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}}},1151:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a,a:()=>s});var r=n(7294);const i={},o=r.createContext(i);function s(t){const e=r.useContext(o);return r.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function a(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(i):t.components||i:s(t.components),r.createElement(o.Provider,{value:e},t.children)}}}]);