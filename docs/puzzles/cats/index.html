<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.ff31de0ff">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Chialisp Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Chialisp Blog Atom Feed"><title data-react-helmet="true">Chia Asset Tokens (CATs) | Chialisp</title><meta data-react-helmet="true" property="og:url" content="https://chialisp.com/docs/puzzles/cats"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Chia Asset Tokens (CATs) | Chialisp"><meta data-react-helmet="true" name="description" content="Introduction to CATs"><meta data-react-helmet="true" property="og:description" content="Introduction to CATs"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://chialisp.com/docs/puzzles/cats"><link data-react-helmet="true" rel="alternate" href="https://chialisp.com/docs/puzzles/cats" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://chialisp.com/docs/puzzles/cats" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.bc26c399.css">
<link rel="preload" href="/assets/js/runtime~main.9a95161d.js" as="script">
<link rel="preload" href="/assets/js/main.769b7f57.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Chialisp Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Chialisp Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Chialisp</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://chialisp.com/training" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Training</a><a href="https://chia.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chia.net</a><a href="https://github.com/Chia-Network/chialisp-web" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_MM2z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_s5VG searchBarLoadingRing_2jQk"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Chialisp Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Chialisp Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Chialisp</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://chialisp.com/training" target="_blank" rel="noopener noreferrer" class="menu__link">Training</a></li><li class="menu__list-item"><a href="https://chia.net" target="_blank" rel="noopener noreferrer" class="menu__link">Chia.net</a></li><li class="menu__list-item"><a href="https://github.com/Chia-Network/chialisp-web" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Chialisp</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">1 - CLVM Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/coins_spends_and_wallets">2 - Coins, Spends and Wallets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deeper_into_clvm">3 - Deeper into CLVM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/high_level_lang">4 - The High Level Language, Compiler, and Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/common_functions">5 - Common Functions in Chialisp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/standard_transaction">6 - The Standard Transaction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/coin_lifecycle">7 - Lifecycle of a Coin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/security">8 - Security</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/debugging">9 - Debugging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/optimization">10 - Optimization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/glossary">The Great Chia Glossary</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CLVM</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ref/clvm">CLVM Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ref/serialization">Serialization</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Puzzles</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/puzzles/singletons">Singletons</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/puzzles/pooling">Pooling</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/puzzles/cats">Chia Asset Tokens (CATs)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/why_chia_is_great">Why Chia is Great</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/developing_applications">An Overview of Developing Applications on Chia</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/tools_and_setup">Tools and Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/programming_chialisp">Programming in Chialisp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/coin_lifecycle_and_testing">Coin Lifecycle and Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/singletons">Singletons and Ethereum-like Contracts in Chia</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/high-level-tips-1">High Level Tips - Managing State, Coin Creation, Announcements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/high-level-tips-2">High Level Tips - Security, Checking Arguments &amp; Signatures</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/high-level-tips-3">High Level Tips - Announcements, Oracles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/custom_puzzle_lock">Lock a coin with a custom puzzle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/coin_spend_rpc">Spend a coin using RPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/structure_of_a_chia_application">Structure of a Chia Application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/CAT_Launch_Process_Linux_MacOS">CAT creation tutorial (Linux/MacOS)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/CAT_Launch_Process_Windows">CAT creation tutorial (Windows)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/single_issuance_CAT">Single Issuance CAT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/multiple_issuance_CAT">Multiple Issuance CAT</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">FAQ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/faq">ChiaLisp and CLVM FAQ</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Chia Asset Tokens (CATs)</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="introduction-to-cats"></a>Introduction to CATs<a class="hash-link" href="#introduction-to-cats" title="Direct link to heading">#</a></h2><p><strong>Chia Asset Tokens (CATs)</strong> are fungible tokens that are issued from XCH.
The CAT1 Standard is the first (and so far only) CAT Standard. CAT1 is a draft standard as of Nov 16, 2021. After a comment period from the Chia community, CAT1 will be finalized. This may include additional capabilities, and could result in some breaking changes to existing CATs. More information on the naming conventions used in this document can be found <a href="https://www.chia.net/2021/09/23/chia-token-standard-naming.en.html" target="_blank" rel="noopener noreferrer" title="Blog entry explaining CAT1 naming conventions">here</a>.</p><blockquote><p><strong>Reminder:</strong></p><blockquote><p><strong>Fungible tokens</strong> can be split apart, or merged together.
They can also be substituted for a token of equal value.
Some common examples include gold, oil, and dollars.</p></blockquote><blockquote><p><strong>Non-fungible tokens</strong>, on the other hand, are indivisible and cannot be merged.
They are unique, so they cannot be substituted.
Some common examples include cars, baseball cards, and cloakroom tickets.</p></blockquote></blockquote><p>CATs have the property of being &quot;marked&quot; in a way that makes them unusable as regular XCH. However, it is usually possible to &quot;melt&quot; CATs back into XCH later. CATs are often used as credits, or tokens - kind of like casino chips.</p><p>The chialisp code that <strong>all CATs</strong> share is <a href="https://github.com/Chia-Network/chia-blockchain/blob/protocol_and_cats_rebased/chia/wallet/puzzles/cat.clvm" target="_blank" rel="noopener noreferrer" title="cat.clvm - the source code that all CATs share">here</a>. Without following this puzzle format, wallets will not be able to recognize a token as a CAT.</p><p>The entire purpose of the code linked above is to ensure that the supply of a specific CAT never changes unless a specific set of ‚Äúrules of issuance‚Äù is followed. Each CAT has its own unique rules of issuance, <strong>which is the only distinction between different types of CATs</strong>. These issuance rules take the form of an arbitrary Chialisp program that follows a specific structure.  We call that program the <strong>Token and Asset Issuance Limitations (TAIL)</strong>.</p><p>The CAT layer is an <a href="https://chialisp.com/docs/common_functions#outer-and-inner-puzzles" target="_blank" rel="noopener noreferrer" title="Chilisp documentation for how to create outer and inner puzzles">outer puzzle</a>, which contains two curried parameters:</p><ol><li>An inner puzzle, which controls the CAT&#x27;s ownership.</li><li>The puzzlehash of a TAIL, which defines three aspects of a CAT:<ul><li>The CAT&#x27;s type. (Two CATs with the same TAIL are of the same type, even if they contain different inner puzzles.)</li><li>The CAT&#x27;s issuance rules.</li><li>The CAT&#x27;s melting rules.</li></ul></li></ol><p>Some examples of issuance requirements that different TAILs could accommodate include:</p><ul><li>Stablecoins - The creator will want to mint new tokens as they gain funds to back them.</li><li>Limited supply tokens - The creator will want to run a single issuance, with the guarantee that no more tokens of the same type can ever be minted.</li><li>Asset redemption tokens - The creator will want to allow the CAT&#x27;s owners to melt the tokens into standard XCH, as long as they follow certain rules.</li></ul><p>In all of these cases, the TAIL program is run when a coin is spent to check if the issuance is valid.</p><p>We will cover the TAIL program in more detail later, but first let&#x27;s cover what the CAT layer does.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="design-choices"></a>Design choices<a class="hash-link" href="#design-choices" title="Direct link to heading">#</a></h2><ul><li><p><strong>When a CAT is spent, any coins created automatically become CATs with the same TAIL</strong></p><p>  When an inner puzzle returns a CREATE_COIN condition, the CAT layer will recognize this and change the condition to a CAT of the same type as itself.</p><p>  For example, let&#x27;s say the inner puzzle returns the following CREATE_COIN condition:
<code>(51 0xcafef00d amount)</code></p><p>  In this case, the CAT layer will calculate a puzzlehash for a CAT with the same TAIL as itself, and an inner puzzle of <code>0xcafef00d</code>.</p></li><li><p><strong>If a CAT does not use a TAIL, then a SpendBundle of CATs must not gain or lose any value</strong></p><p>  In order to ensure that a CAT cannot be minted or retired without official authentication, all CATs that do not use a TAIL program <strong>MUST</strong> be a part of a spendbundle that outputs the same amount of value as its input.
We use a group accounting trick to guarantee this, which we will cover in more detail below.</p></li><li><p><strong>If a CAT is not approved by a TAIL program, then its parent must be a CAT of the same type</strong></p><p>Another way we prevent CATs from being minted in unapproved methods is by ensuring that the tokens have a valid lineage. Commonly this is done by asserting that the CAT&#x27;s parent was also a CAT of the same type.</p><p>This is accomplished by passing in the coin&#x27;s information, returning an <code>ASSERT_MY_ID</code> condition, and then passing in the parent information.</p></li><li><p><strong>CATs enforce prefixes for Coin Announcements</strong></p><p>In order to ensure that the CATs can communicate with each other without interference from an inner puzzle, they must prepend an appropriate coin announcement with the following rules:</p><ul><li>If the announcement comes from the CAT layer, it is prepended with <code>0xcb</code>.</li><li>If the announcement comes from the inner puzzle, it is prepended with <code>0xca</code>.</li></ul></li><li><p><strong>CATs pass a list of pre-calculated Truths to the inner puzzle</strong></p><p>Many inner puzzles require information such as their coin ID and puzzlehash. Luckily, we already calculate much of this information in the CAT layer, so we bundle it together as a pre-validated collection of <strong>Truths</strong>. We then pass these Truths into the inner puzzle as the first parameter in the solution.</p><p>The Truths are:</p><ul><li>My ID - The ID of the coin</li><li>My Parent&#x27;s ID - The ID of the coin&#x27;s parent</li><li>My Full Puzzle Hash - The puzzlehash contained inside the coin</li><li>My Amount - The value of the coin</li><li>My Inner Puzzle Hash - The puzzlehash of the inner puzzle inside this coin&#x27;s CAT layer</li><li>My Lineage Proof - (optional) Proof that the CAT&#x27;s parent is of the same type as the CAT</li><li>My TAIL Solution - (optional) A list of parameters passed into the TAIL program</li><li>My Coin Info</li><li>CAT Mod Hash - The hash of the CAT before anything is curried</li><li>CAT Mod Hash Hash - The hash of the CAT Mod Hash</li><li>CAT TAIL Program Hash - The hash of the TAIL program that was curried into the CAT</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="spend-accounting"></a>Spend Accounting<a class="hash-link" href="#spend-accounting" title="Direct link to heading">#</a></h2><p>Each CAT coin has a truthful calculation of the difference between its amount and its output amount, called its <strong>Delta</strong>.</p><p>The CAT coins also are given the sum of every other coin&#x27;s Deltas, which must be zero. In order to enforce this zero-Delta rule, each CAT coin is assigned a Next and Previous neighbor, which ultimately forms a ring.</p><p>The coins use Coin Announcements to communicate with their neighbors. For our use case, the announcements must contain two pieces of information:</p><ul><li>The ID of the coin that created this coin. This is already implicitly contained in the Coin Announcement.</li><li>The intended recipient&#x27;s coin ID. The announcement&#x27;s message must contain this information in order to prevent attacks where coins can receive messages that weren&#x27;t intended for them.</li></ul><p>To form the ring, every coin outputs the following conditions:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#383a42;background-color:#fafafa;font-weight:bold"><div class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">(</span></div><div class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  (CREATE_COIN_ANNOUNCEMENT previous_coin_ID + sum_of_deltas_before_me)</span></div><div class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  (ASSERT_COIN_ANNOUNCEMENT sha256(next_coin_id + my_coin_id + sum_of_deltas_including_me))</span></div><div class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Where <code>+</code> represents concatenation of bytes, and announcement assertions take the hash of the announcement creator&#x27;s ID and message.</p><p>In order to create the <code>next_coin_id</code>, we wrap the next coin&#x27;s inner puzzle with the current coin&#x27;s CAT information. This guarantees that the next_coin_id is a CAT of the same type as the current coin.</p><p>Because both coins follow the same CAT module code, they must comply with the same set of truths. This, in turn, guarantees that the whole ring is telling the truth. As long as the ring is connected, the total Delta must be zero.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="extra-delta"></a>Extra Delta<a class="hash-link" href="#extra-delta" title="Direct link to heading">#</a></h2><p>There are two exceptions to the aforementioned zero-Delta rule:</p><ul><li>Minting coins (creating CATs from XCH)</li><li>Retiring coins (melting CATs to their original XCH form)</li></ul><p>To account for these cases, the TAIL program may approve a misreporting of a CAT coin&#x27;s Delta by a specific amount, called the <strong>Extra Delta</strong>. This is one of the parameters passed to the TAIL program.</p><p>There are a few rules to ensure that extra coins are not minted or retired:</p><ul><li>If the Extra Delta is anything other than <code>0</code>, the TAIL program is forced to run. It must evaluate whether to permit the Extra Delta, or fail with an <code>(x)</code> call.</li><li>If the Extra Delta value in the solution does not cause the TAIL program to fail, then it is automatically added to the reported Delta, which is used in the announcement ring.</li><li>If the TAIL program is not revealed and the Extra Delta is not <code>0</code>, then the puzzle will fail.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="the-token-and-asset-issuance-limiter-tail-program"></a>The Token and Asset Issuance Limiter (TAIL) Program<a class="hash-link" href="#the-token-and-asset-issuance-limiter-tail-program" title="Direct link to heading">#</a></h2><p>The TAIL program is powerful and flexible. It has control over, and access to, many things. This gives a programmer a lot of control, but also a great deal of responsibility.</p><blockquote><p><strong>Warning</strong>: If the TAIL is not programmed correctly,
then tokens may be minted by attackers,
rendering the asset worthless.</p></blockquote><p>A TAIL should follow all of the conventional rules of security that any Chialisp program responsible for locking up money should follow.</p><p>Several parameters must be passed to a TAIL&#x27;s solution:</p><ul><li>Truths - These are bundled together, as explained above</li><li>parent_is_cat - A flag indicating whether the parent has been validated as a CAT of the same type as this CAT</li><li>lineage_proof - (optional) Proof that the parent is a CAT of the same type as this CAT</li><li>delta - The Extra Delta value, as explained above</li><li>inner_conditions - The conditions returned by the inner puzzle</li><li>tail_solution - (optional) A list of opaque parameters</li></ul><p>Although the TAIL is powerful, it is <strong>not necessarily</strong> run every time the coin is spent. The TAIL is run if a &quot;magic&quot; condition is created in the inner puzzle. This &quot;magic&quot; condition is required to prevent people who can spend the TAIL from intercepting the spend and changing it against the spender&#x27;s will.</p><p>The TAIL should check diligently for the following things:</p><ul><li>Is the Extra Delta minting or retiring any coins, and if so, do I approve?</li><li>If this coin&#x27;s parent is not a CAT of the same type as me, do I approve?</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="the-limits-of-a-tails-power"></a>The limits of a TAIL&#x27;s power<a class="hash-link" href="#the-limits-of-a-tails-power" title="Direct link to heading">#</a></h2><p>In Ethereum, a token&#x27;s issuer might have the ability to freeze or confiscate funds without the owner&#x27;s permission. This is not possible in Chia. Let&#x27;s explore why.</p><p>In Chia, an issuer creates a TAIL, which lives inside all CATs of the same type, including those that have already been distributed. However, the issuer does not have the power to spend coins they do not own. A TAIL can only run as the last step in a CAT&#x27;s spend, and the owner of the CAT (and not the issuer) is responsible for providing its solution. This means that only the owner can run the TAIL. Therefore, the CAT&#x27;s owner is the only one with the ability to complete the spend.</p><p>This decision adds some decentralization for users. It also adds some complexity. The importance of creating a well-constructed TAIL cannot be emphasized enough. Once you have distributed a CAT, it is no longer possible to change the TAIL across the entire token supply. The TAIL is locked into the same set of rules forever. To change the TAIL would be tantamount to replacing physical cash in circulation. You would have to offer an exchange for new tokens and eventually deprecate the old token, even if some people still carry it.</p><p>It also means that if the set of rules is compromised, people may be able to mint or retire CATs maliciously. There‚Äôs no easy way to ‚Äúpatch‚Äù the TAIL, other than through the process above, which is obviously best avoided.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tail-examples"></a>TAIL Examples<a class="hash-link" href="#tail-examples" title="Direct link to heading">#</a></h2><p>The CAT1 standard currently includes three example TAILs, though many more are possible.</p><ul><li><p><a href="https://github.com/Chia-Network/chia-blockchain/blob/protocol_and_cats_rebased/chia/wallet/puzzles/genesis-by-coin-id-with-0.clvm" target="_blank" rel="noopener noreferrer" title="Chialisp code for the One-Time Minting TAIL">One-Time Minting</a></p><p>The default way in which we currently issue CATs is with a TAIL that only allows coin creation from a specific coin ID. In Chia, coins can only be spent once, so this results in a one-time minting of a CAT. After the issuance, there will never be any more or less of the CAT, and no one will be able to run the same TAIL ever again.</p></li><li><p><a href="https://github.com/Chia-Network/chia-blockchain/blob/protocol_and_cats_rebased/chia/wallet/puzzles/everything_with_signature.clvm" target="_blank" rel="noopener noreferrer" title="Chialisp code for the Everything With Signature TAIL">Everything With Signature</a></p><p>The polar opposite of the TAIL above is the ability of the creator to do whatever they want, as long as they provide a signature from their public key. This key is curried into the TAIL, which returns a single AGG_SIG_ME condition asking for a matching signature. If the creator can provide that signature, then the spend passes and any supply rules that were violated are ignored.</p><p>Keep in mind that AGG_SIG_ME only allows the signature to work on a single coin. Therefore, the creator cannot release a signature for everyone to use; instead the creator must personally sign every TAIL execution.</p></li><li><p><a href="https://github.com/Chia-Network/chia-blockchain/blob/protocol_and_cats_rebased/chia/wallet/puzzles/delegated_genesis_checker.clvm" target="_blank" rel="noopener noreferrer" title="Chialisp code for the Delegated TAIL">Delegated TAIL</a></p><p>This is the best balance of security and flexibility that we currently have. The Delegated TAIL is similar to the &quot;Everything With Signature&quot; example, except instead of requiring a signature from a specific coin, it requires a signature from a specific puzzlehash. When the puzzlehash has been signed, the creator may run that puzzle in place of the TAIL.</p><p>This TAIL allows the creator to create new TAILs that they can use with the CAT, even if those TAILs didn&#x27;t exist during the initial issuance! For example, the creator could create:</p><ul><li>A single minting</li><li>A DID to mint new coins</li><li>Anything else they want!</li></ul><p>Note that we use AGG_SIG_UNSAFE in order to make this signature work for all coins. The creator can publish a valid signature, allowing any owner of the CAT to run the TAIL on their own. One scenario where this is useful is in redemption schemes -- you want to allow people to melt their CATs into XCH as long as they follow certain rules when they do so.</p><p>There is another consideration to make when you are signing new Delegated TAILs. Once you sign it and publish the signature, it is out there forever. Be careful what permissions you grant because you can never take them back.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="conclusion"></a>Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">#</a></h2><p>The CAT1 standard is an exciting addition to Chia&#x27;s ecosystem. It allows near-limitless functionality for issuing fungible tokens. We&#x27;re excited to see what kind of creative ideas the Chia community comes up with!</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Chia-Network/chialisp-web/edit/main/docs/puzzles/cats.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/puzzles/pooling"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Pooling</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/tutorials/why_chia_is_great"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Why Chia is Great ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction-to-cats" class="table-of-contents__link">Introduction to CATs</a></li><li><a href="#design-choices" class="table-of-contents__link">Design choices</a></li><li><a href="#spend-accounting" class="table-of-contents__link">Spend Accounting</a></li><li><a href="#extra-delta" class="table-of-contents__link">Extra Delta</a></li><li><a href="#the-token-and-asset-issuance-limiter-tail-program" class="table-of-contents__link">The Token and Asset Issuance Limiter (TAIL) Program</a></li><li><a href="#the-limits-of-a-tails-power" class="table-of-contents__link">The limits of a TAIL&#39;s power</a></li><li><a href="#tail-examples" class="table-of-contents__link">TAIL Examples</a></li><li><a href="#conclusion" class="table-of-contents__link">Conclusion</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">CLVM Basics</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/coins_spends_and_wallets/">Coins, Spends and Wallets</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://keybase.io/team/chia_network.public" target="_blank" rel="noopener noreferrer" class="footer__link-item">Keybase</a></li><li class="footer__item"><a href="https://twitter.com/chia_project" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://www.chia.net/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/Chia-Network/clvm" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_MyFc" href="/"><img src="/img/full_logo_white.svg" alt="Chialisp full logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/full_logo_white.svg" alt="Chialisp full logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright ¬© 2021 Chia Network Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.9a95161d.js"></script>
<script src="/assets/js/main.769b7f57.js"></script>
</body>
</html>