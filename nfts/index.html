<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-primitives/nfts" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">NFTs | Chialisp</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://chialisp.com/nfts/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="NFTs | Chialisp"><meta data-rh="true" name="description" content="NFTs are non-fungible tokens that are minted on the Chia blockchain. The NFT puzzle ensures that there is only ever one copy of a given NFT, and it cannot be divided into multiple coins."><meta data-rh="true" property="og:description" content="NFTs are non-fungible tokens that are minted on the Chia blockchain. The NFT puzzle ensures that there is only ever one copy of a given NFT, and it cannot be divided into multiple coins."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://chialisp.com/nfts/"><link data-rh="true" rel="alternate" href="https://chialisp.com/nfts/" hreflang="en"><link data-rh="true" rel="alternate" href="https://chialisp.com/nfts/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"NFTs","item":"https://chialisp.com/nfts"}]}</script><script src="/js/matomo.js" async defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.bb770339.css">
<script src="/assets/js/runtime~main.aad43a53.js" defer="defer"></script>
<script src="/assets/js/main.9b760da6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="/img/full_logo_white.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Chialisp Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Chialisp Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Chialisp</b></a><a href="https://docs.chia.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chia Docs<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://docs.chia.net/academy-home/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chia Academy<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://chia.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chia.net<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/Chia-Network/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/chialisp-primer/"><span title="Chialisp Primer" class="categoryLinkLabel_W154">Chialisp Primer</span></a><button aria-label="Expand sidebar category &#x27;Chialisp Primer&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/chialisp-concepts/"><span title="Chialisp Concepts" class="categoryLinkLabel_W154">Chialisp Concepts</span></a><button aria-label="Expand sidebar category &#x27;Chialisp Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/commands/"><span title="Commands" class="linkLabel_WmDU">Commands</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/syntax/"><span title="Syntax" class="linkLabel_WmDU">Syntax</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/modern-chialisp/"><span title="Modern Chialisp" class="linkLabel_WmDU">Modern Chialisp</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/operators/"><span title="Operators" class="linkLabel_WmDU">Operators</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/examples/"><span title="Examples" class="linkLabel_WmDU">Examples</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/costs/"><span title="Costs" class="linkLabel_WmDU">Costs</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/conditions/"><span title="Conditions" class="linkLabel_WmDU">Conditions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/optimization/"><span title="Optimization" class="linkLabel_WmDU">Optimization</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/common_issues/"><span title="Common Issues" class="linkLabel_WmDU">Common Issues</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/debugging/"><span title="Debugging" class="linkLabel_WmDU">Debugging</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/standard-transactions/"><span title="Primitives" class="categoryLinkLabel_W154">Primitives</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standard-transactions/"><span title="Standard Transactions" class="linkLabel_WmDU">Standard Transactions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/singletons/"><span title="Singletons" class="linkLabel_WmDU">Singletons</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cats/"><span title="CATs" class="linkLabel_WmDU">CATs</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/nfts/"><span title="NFTs" class="linkLabel_WmDU">NFTs</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dids/"><span title="DIDs" class="linkLabel_WmDU">DIDs</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/offers/"><span title="Offers" class="linkLabel_WmDU">Offers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pooling/"><span title="Pooling" class="linkLabel_WmDU">Pooling</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/clvm/"><span title="CLVM" class="linkLabel_WmDU">CLVM</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Primitives</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">NFTs</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>NFTs</h1></header><p>NFTs are non-fungible tokens that are minted on the Chia blockchain. The NFT puzzle ensures that there is only ever one copy of a given NFT, and it cannot be divided into multiple coins.</p>
<p>They can be used to prove digital ownership of files such as images or videos, as well as the metadata and license pertaining to the file.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="code-examples">Code Examples<a href="#code-examples" class="hash-link" aria-label="Direct link to Code Examples" title="Direct link to Code Examples" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="chia-blockchain">chia-blockchain<a href="#chia-blockchain" class="hash-link" aria-label="Direct link to chia-blockchain" title="Direct link to chia-blockchain" translate="no">​</a></h3>
<p>The official Chia wallet has a reference implementation for the following in Python:</p>
<ul>
<li class=""><a href="https://github.com/Chia-Network/chia-blockchain/blob/010cedf83718aa8e4d97da76f892fe69387a5d82/chia/wallet/nft_wallet/nft_wallet.py#L321" target="_blank" rel="noopener noreferrer" class="">Mint NFT</a></li>
<li class=""><a href="https://github.com/Chia-Network/chia-blockchain/blob/010cedf83718aa8e4d97da76f892fe69387a5d82/chia/wallet/nft_wallet/nft_wallet.py#L1242" target="_blank" rel="noopener noreferrer" class="">Bulk mint NFTs</a></li>
<li class=""><a href="https://github.com/Chia-Network/chia-blockchain/blob/010cedf83718aa8e4d97da76f892fe69387a5d82/chia/wallet/nft_wallet/nft_wallet.py#L606" target="_blank" rel="noopener noreferrer" class="">Spend NFT</a></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="chia-rs">chia-rs<a href="#chia-rs" class="hash-link" aria-label="Direct link to chia-rs" title="Direct link to chia-rs" translate="no">​</a></h3>
<p>Wallet code can use the following reference methods:</p>
<ul>
<li class=""><a href="https://github.com/Chia-Network/chia_rs/blob/wallet-dev/chia-primitives/src/primitives/nft.rs" target="_blank" rel="noopener noreferrer" class="">Puzzle and solution types</a></li>
<li class=""><a href="https://github.com/Chia-Network/chia_rs/blob/wallet-dev/chia-wallet/src/wallet.rs#L665" target="_blank" rel="noopener noreferrer" class="">Bulk mint NFTs</a></li>
<li class=""><a href="https://github.com/Chia-Network/chia_rs/blob/2334c842f694444da317fa7432f308f159f62d70/chia-wallet/src/wallet.rs#L1053" target="_blank" rel="noopener noreferrer" class="">Spend NFT</a>.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="code">NFT Code<a href="#code" class="hash-link" aria-label="Direct link to NFT Code" title="Direct link to NFT Code" translate="no">​</a></h2>
<p>This is the source code of the NFT state layer, which can also be found in the chia-blockchain repository in the puzzle <a href="https://github.com/Chia-Network/chia-blockchain/blob/164fd158c8626893bc45ba00b87ae69d2ab5f8b7/chia/wallet/puzzles/nft_state_layer.clvm" target="_blank" rel="noopener noreferrer" class=""><code>nft_state_layer.clvm</code></a>.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Expand NFT State Puzzle</summary><div><div class="collapsibleContent_i85q"><div class="language-chialisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockTitle_OeMC">nft_state_layer.clvm</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-chialisp codeBlock_bY9V thin-scrollbar" style="color:#383a42;background-color:#fafafa;font-weight:bold"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">(mod (</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    NFT_STATE_LAYER_MOD_HASH</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    METADATA</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    METADATA_UPDATER_PUZZLE_HASH</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    INNER_PUZZLE</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    inner_solution</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  (include condition_codes.clvm)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  (include curry-and-treehash.clinc)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  (include utility_macros.clib)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  (defun-inline nft_state_layer_puzzle_hash (NFT_STATE_LAYER_MOD_HASH METADATA METADATA_UPDATER_PUZZLE_HASH inner_puzzle_hash)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    (puzzle-hash-of-curried-function NFT_STATE_LAYER_MOD_HASH</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                                     inner_puzzle_hash</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                                     (sha256 ONE METADATA_UPDATER_PUZZLE_HASH)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                                     (sha256tree METADATA)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                                     (sha256 ONE NFT_STATE_LAYER_MOD_HASH)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  ; this function does two things - it wraps the odd value create coins, and it also filters out all negative conditions</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  ; odd_coin_params is (puzhash amount ...)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  ; new_metadata_info is ((METADATA METADATA_UPDATER_PUZZLE_HASH) conditions)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  (defun wrap_odd_create_coins (NFT_STATE_LAYER_MOD_HASH conditions odd_coin_params new_metadata_info metadata_seen)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    (if conditions</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      (if (= (f (f conditions)) CREATE_COIN)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">          (if (logand (f (r (r (f conditions)))) ONE)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">              (assert (not odd_coin_params)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                (wrap_odd_create_coins NFT_STATE_LAYER_MOD_HASH (r conditions) (r (f conditions)) new_metadata_info metadata_seen)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">              )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">              (c (f conditions) (wrap_odd_create_coins NFT_STATE_LAYER_MOD_HASH (r conditions) odd_coin_params new_metadata_info metadata_seen))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">          )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">          (if (= (f (f conditions)) -24)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">              (wrap_odd_create_coins NFT_STATE_LAYER_MOD_HASH (r conditions) odd_coin_params</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                (assert (all</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                          (= (sha256tree (f (r (f conditions)))) (f (r (f new_metadata_info))))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                          (not metadata_seen)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                        )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                    ; then</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                    (a (f (r (f conditions))) (list (f (f new_metadata_info)) (f (r (f new_metadata_info))) (f (r (r (f conditions))))))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                ONE  ; the metadata update has been seen now</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">              )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">              (c (f conditions) (wrap_odd_create_coins NFT_STATE_LAYER_MOD_HASH (r conditions) odd_coin_params new_metadata_info metadata_seen))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">          )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      (c</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        (c CREATE_COIN</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            (c</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">              (nft_state_layer_puzzle_hash</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                NFT_STATE_LAYER_MOD_HASH</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                (f (f new_metadata_info))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                (f (r (f new_metadata_info)))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                (f odd_coin_params)  ; metadata updater solution</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">              )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">              (r odd_coin_params)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        (f (r new_metadata_info))  ; metadata_updater conditions</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  ; main</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  (wrap_odd_create_coins</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    NFT_STATE_LAYER_MOD_HASH</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    (a INNER_PUZZLE inner_solution)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    ()</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    (list (list METADATA METADATA_UPDATER_PUZZLE_HASH) 0)  ; if the magic condition is never seen, this is the information we us to recurry</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    ()</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">)</span><br></span></code></pre></div></div></div></div></details>
<p>This is the source code of the NFT ownership layer, which can also be found in the chia-blockchain repository in the puzzle <a href="https://github.com/Chia-Network/chia-blockchain/blob/164fd158c8626893bc45ba00b87ae69d2ab5f8b7/chia/wallet/puzzles/nft_ownership_layer.clvm" target="_blank" rel="noopener noreferrer" class=""><code>nft_ownership_layer.clvm</code></a>.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Expand NFT Ownership Puzzle</summary><div><div class="collapsibleContent_i85q"><div class="language-chialisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockTitle_OeMC">nft_ownership_layer.clvm</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-chialisp codeBlock_bY9V thin-scrollbar" style="color:#383a42;background-color:#fafafa;font-weight:bold"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">(mod (</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    NFT_OWNERSHIP_LAYER_MOD_HASH</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    CURRENT_OWNER</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    TRANSFER_PROGRAM</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    INNER_PUZZLE</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    inner_solution</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">   )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">   (include condition_codes.clvm)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">   (include curry-and-treehash.clinc)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">   (include utility_macros.clib)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">   (defconstant NEW_OWNER_CONDITION -10)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">   (defconstant ANNOUNCEMENT_PREFIX 0xad4c)  ; first 2 bytes of (sha256 &quot;Ownership Layer&quot;)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">   (defun-inline nft_ownership_layer_puzzle_hash (NFT_OWNERSHIP_LAYER_MOD_HASH new_owner TRANSFER_PROGRAM inner_puzzle_hash)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      (puzzle-hash-of-curried-function NFT_OWNERSHIP_LAYER_MOD_HASH</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                                       inner_puzzle_hash</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                                       (sha256tree TRANSFER_PROGRAM)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                                       (sha256 ONE new_owner)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                                       (sha256 ONE NFT_OWNERSHIP_LAYER_MOD_HASH)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">   )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">   (defun construct_end_conditions (NFT_OWNERSHIP_LAYER_MOD_HASH TRANSFER_PROGRAM odd_args (new_owner new_tp conditions))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">     (c</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">       (c</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">         CREATE_COIN</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">         (c</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">           (nft_ownership_layer_puzzle_hash NFT_OWNERSHIP_LAYER_MOD_HASH new_owner (if new_tp new_tp TRANSFER_PROGRAM) (f odd_args))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">           (r odd_args)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">          )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        conditions</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">     )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">   )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">   (defun wrap_odd_create_coins (NFT_OWNERSHIP_LAYER_MOD_HASH TRANSFER_PROGRAM CURRENT_OWNER all_conditions conditions odd_args tp_output)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">     (if conditions</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">       (if (= (f (f conditions)) CREATE_COIN)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">         (if (= (logand (f (r (r (f conditions))))) ONE)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            (assert (not odd_args)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">              ; then</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">              (wrap_odd_create_coins NFT_OWNERSHIP_LAYER_MOD_HASH TRANSFER_PROGRAM CURRENT_OWNER all_conditions (r conditions) (r (f conditions)) tp_output)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            (c (f conditions) (wrap_odd_create_coins NFT_OWNERSHIP_LAYER_MOD_HASH TRANSFER_PROGRAM CURRENT_OWNER all_conditions (r conditions) odd_args tp_output))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">         )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">         (if (= (f (f conditions)) NEW_OWNER_CONDITION)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            (assert (not tp_output)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">              (c</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                (list CREATE_PUZZLE_ANNOUNCEMENT (concat ANNOUNCEMENT_PREFIX (sha256tree (r (f conditions)))))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                (wrap_odd_create_coins NFT_OWNERSHIP_LAYER_MOD_HASH TRANSFER_PROGRAM CURRENT_OWNER all_conditions (r conditions) odd_args (a TRANSFER_PROGRAM (list CURRENT_OWNER all_conditions (r (f conditions)))))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">              )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            (if (= (f (f conditions)) CREATE_PUZZLE_ANNOUNCEMENT)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                (assert (not (and</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                          (= 34 (strlen (f (r (f conditions)))))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                          (= (substr (f (r (f conditions))) 0 2) ANNOUNCEMENT_PREFIX)  ; lazy eval</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                        ))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                  ; then</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                  (c (f conditions) (wrap_odd_create_coins NFT_OWNERSHIP_LAYER_MOD_HASH TRANSFER_PROGRAM CURRENT_OWNER all_conditions (r conditions) odd_args tp_output))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                (c (f conditions) (wrap_odd_create_coins NFT_OWNERSHIP_LAYER_MOD_HASH TRANSFER_PROGRAM CURRENT_OWNER all_conditions (r conditions) odd_args tp_output))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">         )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">       )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">       ; odd_args is guaranteed to not be nil or else we&#x27;ll have a path into atom error</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">       (construct_end_conditions NFT_OWNERSHIP_LAYER_MOD_HASH TRANSFER_PROGRAM odd_args</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">          (if tp_output</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">              tp_output</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">              (a TRANSFER_PROGRAM (list CURRENT_OWNER all_conditions ()))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">          )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">       )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">     )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">   )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  (defun main (</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      NFT_OWNERSHIP_LAYER_MOD_HASH</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      TRANSFER_PROGRAM</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      CURRENT_OWNER</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      conditions</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    (wrap_odd_create_coins</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      NFT_OWNERSHIP_LAYER_MOD_HASH</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      TRANSFER_PROGRAM</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      CURRENT_OWNER</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      conditions</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      conditions</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      () ()</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  ; main</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  (main</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    NFT_OWNERSHIP_LAYER_MOD_HASH</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    TRANSFER_PROGRAM</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    CURRENT_OWNER</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    (a INNER_PUZZLE inner_solution)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">)</span><br></span></code></pre></div></div></div></div></details>
<p>This is the source code of the default NFT metadata updater, which can also be found in the chia-blockchain repository in the puzzle <a href="https://github.com/Chia-Network/chia-blockchain/blob/164fd158c8626893bc45ba00b87ae69d2ab5f8b7/chia/wallet/puzzles/nft_metadata_updater_default.clvm" target="_blank" rel="noopener noreferrer" class=""><code>nft_metadata_updater_default.clvm</code></a>.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Expand NFT Metadata Updater Puzzle</summary><div><div class="collapsibleContent_i85q"><div class="language-chialisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockTitle_OeMC">nft_metadata_updater_default.clvm</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-chialisp codeBlock_bY9V thin-scrollbar" style="color:#383a42;background-color:#fafafa;font-weight:bold"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">(mod (CURRENT_METADATA METADATA_UPDATER_PUZZLE_HASH (key . new_url))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  ; METADATA and METADATA_UPDATER_PUZZLE_HASH are passed in as truths from the layer above</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  ; This program returns ((new_metadata new_metadata_updater_puzhash) conditions)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  ; Add uri to a field</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  (defun add_url (METADATA key new_url)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    (if METADATA</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      (if (= (f (f METADATA)) key)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        (c (c key (c new_url (r (f METADATA)))) (r METADATA))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        (c (f METADATA) (add_url (r METADATA) key new_url))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      ()</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  ; main</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  ; returns ((new_metadata new_metadata_updater_puzhash) conditions)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  (list</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    (list</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        (if (all key new_url)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            (if (any (= key &quot;mu&quot;) (= key &quot;lu&quot;) (= key &quot;u&quot;))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                (add_url CURRENT_METADATA key new_url)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                CURRENT_METADATA</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            CURRENT_METADATA</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">         )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        METADATA_UPDATER_PUZZLE_HASH)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    0</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">)</span><br></span></code></pre></div></div></div></div></details>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="design-decisions">Design Decisions<a href="#design-decisions" class="hash-link" aria-label="Direct link to Design Decisions" title="Direct link to Design Decisions" translate="no">​</a></h2>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="data">Multiple separate forms of data<a href="#data" class="hash-link" aria-label="Direct link to Multiple separate forms of data" title="Direct link to Multiple separate forms of data" translate="no">​</a></h4>
<p>There are three kinds of files that can be added to the NFT, one per type:</p>
<ul>
<li class="">Data, for things such as images and videos</li>
<li class="">Metadata, for information about the data or NFT</li>
<li class="">License, detailing legal rights related to the NFT</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="hash">Data must match an immutable hash<a href="#hash" class="hash-link" aria-label="Direct link to Data must match an immutable hash" title="Direct link to Data must match an immutable hash" translate="no">​</a></h4>
<p>Any data that the NFT points to must match a specific <a href="https://en.wikipedia.org/wiki/SHA-2" target="_blank" rel="noopener noreferrer" class="">sha256</a> hash. The hash cannot be changed later, even by the creator of the NFT. This prevents it from being modified or tampered with later, and enforces permanence.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="urls">Extendable list of multiple URLs<a href="#urls" class="hash-link" aria-label="Direct link to Extendable list of multiple URLs" title="Direct link to Extendable list of multiple URLs" translate="no">​</a></h4>
<p>Each type of data has a list of URLs that each resolve to the hash of the data. However, if a URL is no longer valid or has been compromised, it will no longer match, which means it won&#x27;t be displayed in the wallet. To help uphold permanence, the owner can add a new URL that matches the original hash. It will be prepended to the beginning of the list so that it&#x27;s checked first in the future.</p>
<p>It&#x27;s recommended to start with multiple links, some on a decentralized platform such as <a href="https://www.ipfs.com" target="_blank" rel="noopener noreferrer" class="">IPFS</a> or <a href="https://www.arweave.org" target="_blank" rel="noopener noreferrer" class="">Arweave</a>, and others on a server you have control over. This way, even if one fails, the others can be used as a fallback.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="association-with-did">Association with DID<a href="#association-with-did" class="hash-link" aria-label="Direct link to Association with DID" title="Direct link to Association with DID" translate="no">​</a></h2>
<p>You can add a DID to the NFT when you mint it to show that it is a part of that identity. For example, you can always verify that a <a href="https://chiafriends.xyz" target="_blank" rel="noopener noreferrer" class="">Chia Friend NFT</a> is authentic by checking that the DID matches the DNS record on <a href="https://did.chia.net" target="_blank" rel="noopener noreferrer" class="">did.chia.net</a> and the collection id in the metadata matches the rest.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" translate="no">​</a></h2>
<p>NFTs are a great way to represent indivisible assets on the Chia blockchain. You can attach royalties to them that get paid upon sale, and store files such as images in them, with attached metadata and license files.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/Chia-Network/chialisp-web/blob/main/docs/primitives/nfts.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cats/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">CATs</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/dids/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">DIDs</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#code-examples" class="table-of-contents__link toc-highlight">Code Examples</a><ul><li><a href="#chia-blockchain" class="table-of-contents__link toc-highlight">chia-blockchain</a></li><li><a href="#chia-rs" class="table-of-contents__link toc-highlight">chia-rs</a></li></ul></li><li><a href="#code" class="table-of-contents__link toc-highlight">NFT Code</a></li><li><a href="#design-decisions" class="table-of-contents__link toc-highlight">Design Decisions</a></li><li><a href="#association-with-did" class="table-of-contents__link toc-highlight">Association with DID</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/operators/">Operators</a></li><li class="footer__item"><a class="footer__link-item" href="/clvm/">CLVM</a></li><li class="footer__item"><a href="https://docs.chia.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chia Docs<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/chia" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/chia_project" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.chia.net/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/Chia-Network/clvm" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/"><img src="/img/full_logo_white.svg" alt="Chialisp full logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/full_logo_white.svg" alt="Chialisp full logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">© 2025 Chia Network Inc., Licensed under the <a href="https://github.com/Chia-Network/chialisp-web/blob/main/LICENSE" target="_blank">Apache License, Version 2.0</a> | <a href="https://www.chia.net/terms">Terms</a></div></div></div></footer></div>
</body>
</html>